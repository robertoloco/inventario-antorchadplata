(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fh={exports:{}},_o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function w0(){if(Tg)return _o;Tg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var _ in u)_!=="key"&&(d[_]=u[_])}else d=u;return u=d.ref,{$$typeof:r,type:s,key:m,ref:u!==void 0?u:null,props:d}}return _o.Fragment=n,_o.jsx=a,_o.jsxs=a,_o}var wg;function A0(){return wg||(wg=1,Fh.exports=w0()),Fh.exports}var z=A0(),Ph={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function x0(){if(Ag)return Be;Ag=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function $(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_e=Object.assign,Ee={};function it(I,ie,he){this.props=I,this.context=ie,this.refs=Ee,this.updater=he||ee}it.prototype.isReactComponent={},it.prototype.setState=function(I,ie){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ie,"setState")},it.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ve(){}ve.prototype=it.prototype;function Te(I,ie,he){this.props=I,this.context=ie,this.refs=Ee,this.updater=he||ee}var mt=Te.prototype=new ve;mt.constructor=Te,_e(mt,it.prototype),mt.isPureReactComponent=!0;var Sn=Array.isArray;function yt(){}var Ne={H:null,A:null,T:null,S:null},Mt=Object.prototype.hasOwnProperty;function fe(I,ie,he){var be=he.ref;return{$$typeof:r,type:I,key:ie,ref:be!==void 0?be:null,props:he}}function Je(I,ie){return fe(I.type,ie,I.props)}function jt(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function Lt(I){var ie={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(he){return ie[he]})}var En=/\/+/g;function oi(I,ie){return typeof I=="object"&&I!==null&&I.key!=null?Lt(""+I.key):ie.toString(36)}function Cn(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(yt,yt):(I.status="pending",I.then(function(ie){I.status==="pending"&&(I.status="fulfilled",I.value=ie)},function(ie){I.status==="pending"&&(I.status="rejected",I.reason=ie)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Z(I,ie,he,be,Me){var ze=typeof I;(ze==="undefined"||ze==="boolean")&&(I=null);var We=!1;if(I===null)We=!0;else switch(ze){case"bigint":case"string":case"number":We=!0;break;case"object":switch(I.$$typeof){case r:case n:We=!0;break;case B:return We=I._init,Z(We(I._payload),ie,he,be,Me)}}if(We)return Me=Me(I),We=be===""?"."+oi(I,0):be,Sn(Me)?(he="",We!=null&&(he=We.replace(En,"$&/")+"/"),Z(Me,ie,he,"",function(ba){return ba})):Me!=null&&(jt(Me)&&(Me=Je(Me,he+(Me.key==null||I&&I.key===Me.key?"":(""+Me.key).replace(En,"$&/")+"/")+We)),ie.push(Me)),1;We=0;var an=be===""?".":be+":";if(Sn(I))for(var me=0;me<I.length;me++)be=I[me],ze=an+oi(be,me),We+=Z(be,ie,he,ze,Me);else if(me=$(I),typeof me=="function")for(I=me.call(I),me=0;!(be=I.next()).done;)be=be.value,ze=an+oi(be,me++),We+=Z(be,ie,he,ze,Me);else if(ze==="object"){if(typeof I.then=="function")return Z(Cn(I),ie,he,be,Me);throw ie=String(I),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return We}function pe(I,ie,he){if(I==null)return I;var be=[],Me=0;return Z(I,be,"","",function(ze){return ie.call(he,ze,Me++)}),be}function we(I){if(I._status===-1){var ie=I._result;ie=ie(),ie.then(function(he){(I._status===0||I._status===-1)&&(I._status=1,I._result=he)},function(he){(I._status===0||I._status===-1)&&(I._status=2,I._result=he)}),I._status===-1&&(I._status=0,I._result=ie)}if(I._status===1)return I._result.default;throw I._result}var Pe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ke={map:pe,forEach:function(I,ie,he){pe(I,function(){ie.apply(this,arguments)},he)},count:function(I){var ie=0;return pe(I,function(){ie++}),ie},toArray:function(I){return pe(I,function(ie){return ie})||[]},only:function(I){if(!jt(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Be.Activity=x,Be.Children=Ke,Be.Component=it,Be.Fragment=a,Be.Profiler=u,Be.PureComponent=Te,Be.StrictMode=s,Be.Suspense=E,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ne,Be.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Ne.H.useMemoCache(I)}},Be.cache=function(I){return function(){return I.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(I,ie,he){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var be=_e({},I.props),Me=I.key;if(ie!=null)for(ze in ie.key!==void 0&&(Me=""+ie.key),ie)!Mt.call(ie,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&ie.ref===void 0||(be[ze]=ie[ze]);var ze=arguments.length-2;if(ze===1)be.children=he;else if(1<ze){for(var We=Array(ze),an=0;an<ze;an++)We[an]=arguments[an+2];be.children=We}return fe(I.type,Me,be)},Be.createContext=function(I){return I={$$typeof:m,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:d,_context:I},I},Be.createElement=function(I,ie,he){var be,Me={},ze=null;if(ie!=null)for(be in ie.key!==void 0&&(ze=""+ie.key),ie)Mt.call(ie,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Me[be]=ie[be]);var We=arguments.length-2;if(We===1)Me.children=he;else if(1<We){for(var an=Array(We),me=0;me<We;me++)an[me]=arguments[me+2];Me.children=an}if(I&&I.defaultProps)for(be in We=I.defaultProps,We)Me[be]===void 0&&(Me[be]=We[be]);return fe(I,ze,Me)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(I){return{$$typeof:_,render:I}},Be.isValidElement=jt,Be.lazy=function(I){return{$$typeof:B,_payload:{_status:-1,_result:I},_init:we}},Be.memo=function(I,ie){return{$$typeof:S,type:I,compare:ie===void 0?null:ie}},Be.startTransition=function(I){var ie=Ne.T,he={};Ne.T=he;try{var be=I(),Me=Ne.S;Me!==null&&Me(he,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(yt,Pe)}catch(ze){Pe(ze)}finally{ie!==null&&he.types!==null&&(ie.types=he.types),Ne.T=ie}},Be.unstable_useCacheRefresh=function(){return Ne.H.useCacheRefresh()},Be.use=function(I){return Ne.H.use(I)},Be.useActionState=function(I,ie,he){return Ne.H.useActionState(I,ie,he)},Be.useCallback=function(I,ie){return Ne.H.useCallback(I,ie)},Be.useContext=function(I){return Ne.H.useContext(I)},Be.useDebugValue=function(){},Be.useDeferredValue=function(I,ie){return Ne.H.useDeferredValue(I,ie)},Be.useEffect=function(I,ie){return Ne.H.useEffect(I,ie)},Be.useEffectEvent=function(I){return Ne.H.useEffectEvent(I)},Be.useId=function(){return Ne.H.useId()},Be.useImperativeHandle=function(I,ie,he){return Ne.H.useImperativeHandle(I,ie,he)},Be.useInsertionEffect=function(I,ie){return Ne.H.useInsertionEffect(I,ie)},Be.useLayoutEffect=function(I,ie){return Ne.H.useLayoutEffect(I,ie)},Be.useMemo=function(I,ie){return Ne.H.useMemo(I,ie)},Be.useOptimistic=function(I,ie){return Ne.H.useOptimistic(I,ie)},Be.useReducer=function(I,ie,he){return Ne.H.useReducer(I,ie,he)},Be.useRef=function(I){return Ne.H.useRef(I)},Be.useState=function(I){return Ne.H.useState(I)},Be.useSyncExternalStore=function(I,ie,he){return Ne.H.useSyncExternalStore(I,ie,he)},Be.useTransition=function(){return Ne.H.useTransition()},Be.version="19.2.0",Be}var xg;function zd(){return xg||(xg=1,Ph.exports=x0()),Ph.exports}var wt=zd(),Xh={exports:{}},bo={},Zh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function N0(){return Ng||(Ng=1,(function(r){function n(Z,pe){var we=Z.length;Z.push(pe);e:for(;0<we;){var Pe=we-1>>>1,Ke=Z[Pe];if(0<u(Ke,pe))Z[Pe]=pe,Z[we]=Ke,we=Pe;else break e}}function a(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var pe=Z[0],we=Z.pop();if(we!==pe){Z[0]=we;e:for(var Pe=0,Ke=Z.length,I=Ke>>>1;Pe<I;){var ie=2*(Pe+1)-1,he=Z[ie],be=ie+1,Me=Z[be];if(0>u(he,we))be<Ke&&0>u(Me,he)?(Z[Pe]=Me,Z[be]=we,Pe=be):(Z[Pe]=he,Z[ie]=we,Pe=ie);else if(be<Ke&&0>u(Me,we))Z[Pe]=Me,Z[be]=we,Pe=be;else break e}}return pe}function u(Z,pe){var we=Z.sortIndex-pe.sortIndex;return we!==0?we:Z.id-pe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var m=Date,_=m.now();r.unstable_now=function(){return m.now()-_}}var E=[],S=[],B=1,x=null,w=3,$=!1,ee=!1,_e=!1,Ee=!1,it=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function mt(Z){for(var pe=a(S);pe!==null;){if(pe.callback===null)s(S);else if(pe.startTime<=Z)s(S),pe.sortIndex=pe.expirationTime,n(E,pe);else break;pe=a(S)}}function Sn(Z){if(_e=!1,mt(Z),!ee)if(a(E)!==null)ee=!0,yt||(yt=!0,Lt());else{var pe=a(S);pe!==null&&Cn(Sn,pe.startTime-Z)}}var yt=!1,Ne=-1,Mt=5,fe=-1;function Je(){return Ee?!0:!(r.unstable_now()-fe<Mt)}function jt(){if(Ee=!1,yt){var Z=r.unstable_now();fe=Z;var pe=!0;try{e:{ee=!1,_e&&(_e=!1,ve(Ne),Ne=-1),$=!0;var we=w;try{t:{for(mt(Z),x=a(E);x!==null&&!(x.expirationTime>Z&&Je());){var Pe=x.callback;if(typeof Pe=="function"){x.callback=null,w=x.priorityLevel;var Ke=Pe(x.expirationTime<=Z);if(Z=r.unstable_now(),typeof Ke=="function"){x.callback=Ke,mt(Z),pe=!0;break t}x===a(E)&&s(E),mt(Z)}else s(E);x=a(E)}if(x!==null)pe=!0;else{var I=a(S);I!==null&&Cn(Sn,I.startTime-Z),pe=!1}}break e}finally{x=null,w=we,$=!1}pe=void 0}}finally{pe?Lt():yt=!1}}}var Lt;if(typeof Te=="function")Lt=function(){Te(jt)};else if(typeof MessageChannel<"u"){var En=new MessageChannel,oi=En.port2;En.port1.onmessage=jt,Lt=function(){oi.postMessage(null)}}else Lt=function(){it(jt,0)};function Cn(Z,pe){Ne=it(function(){Z(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var we=w;w=pe;try{return Z()}finally{w=we}},r.unstable_requestPaint=function(){Ee=!0},r.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var we=w;w=Z;try{return pe()}finally{w=we}},r.unstable_scheduleCallback=function(Z,pe,we){var Pe=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Pe+we:Pe):we=Pe,Z){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=we+Ke,Z={id:B++,callback:pe,priorityLevel:Z,startTime:we,expirationTime:Ke,sortIndex:-1},we>Pe?(Z.sortIndex=we,n(S,Z),a(E)===null&&Z===a(S)&&(_e?(ve(Ne),Ne=-1):_e=!0,Cn(Sn,we-Pe))):(Z.sortIndex=Ke,n(E,Z),ee||$||(ee=!0,yt||(yt=!0,Lt()))),Z},r.unstable_shouldYield=Je,r.unstable_wrapCallback=function(Z){var pe=w;return function(){var we=w;w=pe;try{return Z.apply(this,arguments)}finally{w=we}}}})(Jh)),Jh}var Dg;function D0(){return Dg||(Dg=1,Zh.exports=N0()),Zh.exports}var Wh={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function O0(){if(Og)return bn;Og=1;var r=zd();function n(E){var S="https://react.dev/errors/"+E;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)S+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+E+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(E,S,B){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:E,containerInfo:S,implementation:B}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(E,S){if(E==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(E,S){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(n(299));return d(E,S,null,B)},bn.flushSync=function(E){var S=m.T,B=s.p;try{if(m.T=null,s.p=2,E)return E()}finally{m.T=S,s.p=B,s.d.f()}},bn.preconnect=function(E,S){typeof E=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,s.d.C(E,S))},bn.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},bn.preinit=function(E,S){if(typeof E=="string"&&S&&typeof S.as=="string"){var B=S.as,x=_(B,S.crossOrigin),w=typeof S.integrity=="string"?S.integrity:void 0,$=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;B==="style"?s.d.S(E,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:$}):B==="script"&&s.d.X(E,{crossOrigin:x,integrity:w,fetchPriority:$,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},bn.preinitModule=function(E,S){if(typeof E=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var B=_(S.as,S.crossOrigin);s.d.M(E,{crossOrigin:B,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&s.d.M(E)},bn.preload=function(E,S){if(typeof E=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var B=S.as,x=_(B,S.crossOrigin);s.d.L(E,B,{crossOrigin:x,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},bn.preloadModule=function(E,S){if(typeof E=="string")if(S){var B=_(S.as,S.crossOrigin);s.d.m(E,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:B,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else s.d.m(E)},bn.requestFormReset=function(E){s.d.r(E)},bn.unstable_batchedUpdates=function(E,S){return E(S)},bn.useFormState=function(E,S,B){return m.H.useFormState(E,S,B)},bn.useFormStatus=function(){return m.H.useHostTransitionStatus()},bn.version="19.2.0",bn}var Rg;function R0(){if(Rg)return Wh.exports;Rg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Wh.exports=O0(),Wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function M0(){if(Mg)return bo;Mg=1;var r=D0(),n=zd(),a=R0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E(e){if(d(e)!==e)throw Error(s(188))}function S(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,l=t;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return E(c),e;if(h===l)return E(c),t;h=h.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=h;else{for(var g=!1,C=c.child;C;){if(C===i){g=!0,i=c,l=h;break}if(C===l){g=!0,l=c,i=h;break}C=C.sibling}if(!g){for(C=h.child;C;){if(C===i){g=!0,i=h,l=c;break}if(C===l){g=!0,l=h,i=c;break}C=C.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function B(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=B(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),Sn=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),jt=Symbol.iterator;function Lt(e){return e===null||typeof e!="object"?null:(e=jt&&e[jt]||e["@@iterator"],typeof e=="function"?e:null)}var En=Symbol.for("react.client.reference");function oi(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===En?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _e:return"Fragment";case it:return"Profiler";case Ee:return"StrictMode";case Sn:return"Suspense";case yt:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ee:return"Portal";case Te:return e.displayName||"Context";case ve:return(e._context.displayName||"Context")+".Consumer";case mt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:oi(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return oi(e(t))}catch{}}return null}var Cn=Array.isArray,Z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Pe=[],Ke=-1;function I(e){return{current:e}}function ie(e){0>Ke||(e.current=Pe[Ke],Pe[Ke]=null,Ke--)}function he(e,t){Ke++,Pe[Ke]=e.current,e.current=t}var be=I(null),Me=I(null),ze=I(null),We=I(null);function an(e,t){switch(he(ze,t),he(Me,e),he(be,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fy(t),e=Py(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(be),he(be,e)}function me(){ie(be),ie(Me),ie(ze)}function ba(e){e.memoizedState!==null&&he(We,e);var t=be.current,i=Py(t,e.type);t!==i&&(he(Me,e),he(be,i))}function Ui(e){Me.current===e&&(ie(be),ie(Me)),We.current===e&&(ie(We),mo._currentValue=we)}var $e,Sa;function Li(e){if($e===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Sa=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+e+Sa}var ui=!1;function ms(e,t){if(!e||ui)return"";ui=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(P){var F=P}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(P){F=P}e.call(ne.prototype)}}else{try{throw Error()}catch(P){F=P}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(P){if(P&&F&&typeof P.stack=="string")return[P.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],C=h[1];if(g&&C){var N=g.split(`
`),G=C.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===G.length)for(l=N.length-1,c=G.length-1;1<=l&&0<=c&&N[l]!==G[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==G[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==G[c]){var J=`
`+N[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=c);break}}}finally{ui=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Li(i):""}function Wc(e,t){switch(e.tag){case 26:case 27:case 5:return Li(e.type);case 16:return Li("Lazy");case 13:return e.child!==t&&t!==null?Li("Suspense Fallback"):Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return ms(e.type,!1);case 11:return ms(e.type.render,!1);case 1:return ms(e.type,!0);case 31:return Li("Activity");default:return""}}function tu(e){try{var t="",i=null;do t+=Wc(e,i),i=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ys=Object.prototype.hasOwnProperty,pr=r.unstable_scheduleCallback,On=r.unstable_cancelCallback,nu=r.unstable_shouldYield,mr=r.unstable_requestPaint,yn=r.unstable_now,yr=r.unstable_getCurrentPriorityLevel,Si=r.unstable_ImmediatePriority,Ei=r.unstable_UserBlockingPriority,Ea=r.unstable_NormalPriority,gr=r.unstable_LowPriority,rl=r.unstable_IdlePriority,ll=r.log,qi=r.unstable_setDisableYieldValue,Ci=null,rn=null;function ln(e){if(typeof ll=="function"&&qi(e),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Ci,e)}catch{}}var ye=Math.clz32?Math.clz32:sl,vr=Math.log,Hi=Math.LN2;function sl(e){return e>>>=0,e===0?32:31-(vr(e)/Hi|0)|0}var de=256,Ca=262144,_r=4194304;function ci(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function br(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~h,l!==0?c=ci(l):(g&=C,g!==0?c=ci(g):i||(i=C&~e,i!==0&&(c=ci(i))))):(C=l&~h,C!==0?c=ci(C):g!==0?c=ci(g):i||(i=l&~e,i!==0&&(c=ci(i)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,i=t&-t,h>=i||h===32&&(i&4194048)!==0)?t:c}function Ki(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $c(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),e}function Ti(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gs(e,t,i,l,c,h){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var C=e.entanglements,N=e.expirationTimes,G=e.hiddenUpdates;for(i=g&~i;0<i;){var J=31-ye(i),ne=1<<J;C[J]=0,N[J]=-1;var F=G[J];if(F!==null)for(G[J]=null,J=0;J<F.length;J++){var P=F[J];P!==null&&(P.lane&=-536870913)}i&=~ne}l!==0&&Sr(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~t))}function Sr(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ye(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function dt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-ye(i),c=1<<l;c&t|e[l]&t&&(e[l]|=t),i&=~c}}function zt(e,t){var i=t&-t;return i=(i&42)!==0?1:vs(i),(i&(e.suspendedLanes|t))!==0?0:i}function vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ta(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:gg(e.type))}function Cr(e,t){var i=pe.p;try{return pe.p=e,t()}finally{pe.p=i}}var wi=Math.random().toString(36).slice(2),gt="__reactFiber$"+wi,Bt="__reactProps$"+wi,Tn="__reactContainer$"+wi,wa="__reactEvents$"+wi,ef="__reactListeners$"+wi,Ai="__reactHandles$"+wi,_s="__reactResources$"+wi,Ln="__reactMarker$"+wi;function ol(e){delete e[gt],delete e[Bt],delete e[wa],delete e[ef],delete e[Ai]}function xi(e){var t=e[gt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Tn]||i[gt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=tg(e);e!==null;){if(i=e[gt])return i;e=tg(e)}return t}e=i,i=e.parentNode}return null}function ut(e){if(e=e[gt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function gn(e){var t=e[_s];return t||(t=e[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function It(e){e[Ln]=!0}var Vi=new Set,Tr={};function fi(e,t){Ni(e,t),Ni(e+"Capture",t)}function Ni(e,t){for(Tr[e]=t,e=0;e<t.length;e++)Vi.add(t[e])}var Yi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bs={},wr={};function au(e){return ys.call(wr,e)?!0:ys.call(bs,e)?!1:Yi.test(e)?wr[e]=!0:(bs[e]=!0,!1)}function Le(e,t,i){if(au(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ar(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Xn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Aa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ru(e,t,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ul(e){if(!e._valueTracker){var t=Aa(e)?"checked":"value";e._valueTracker=ru(e,t,""+e[t])}}function Ss(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=Aa(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function at(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xr=/[\n"\\]/g;function Zt(e){return e.replace(xr,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Di(e,t,i,l,c,h,g,C){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Nr(e,g,sn(t)):i!=null?Nr(e,g,sn(i)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+sn(C):e.removeAttribute("name")}function cl(e,t,i,l,c,h,g,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){ul(e);return}i=i!=null?""+sn(i):"",t=t!=null?""+sn(t):i,C||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ul(e)}function Nr(e,t,i){t==="number"&&at(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function hi(e,t,i,l){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+sn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Es(e,t,i){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+sn(i):""}function Dr(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(s(92));if(Cn(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=sn(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),ul(e)}function Gi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xe(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||tf.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Cs(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&i[c]!==l&&Xe(e,c,l)}else for(var h in t)t.hasOwnProperty(h)&&Xe(e,h,t[h])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(e){return wn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var Zn=null;function fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,St=null;function Hn(e){var t=ut(e);if(t&&(e=t.stateNode)){var i=e[Bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Di(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var c=l[Bt]||null;if(!c)throw Error(s(90));Di(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&Ss(l)}break e;case"textarea":Es(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&hi(e,!!i.multiple,t,!1)}}}var Fi=!1;function xa(e,t,i){if(Fi)return e(t,i);Fi=!0;try{var l=e(t);return l}finally{if(Fi=!1,(Qi!==null||St!==null)&&(Pu(),Qi&&(t=Qi,e=St,St=Qi=null,Hn(t),e)))for(t=0;t<e.length;t++)Hn(e[t])}}function Pi(e,t){var i=e.stateNode;if(i===null)return null;var l=i[Bt]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(Jt)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){ws=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{ws=!1}var Jn=null,hl=null,Na=null;function Da(){if(Na)return Na;var e,t=hl,i=t.length,l,c="value"in Jn?Jn.value:Jn.textContent,h=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(l=1;l<=g&&t[i-l]===c[h-l];l++);return Na=c.slice(e,1<l?1-l:void 0)}function Oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function lu(){return!1}function qt(e){function t(i,l,c,h,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Or:lu,this.isPropagationStopped=lu,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),t}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=qt(Xi),Oi=x({},Xi,{view:0,detail:0}),pl=qt(Oi),Rr,As,Mr,ml=x({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(Rr=e.screenX-Mr.screenX,As=e.screenY-Mr.screenY):As=Rr=0,Mr=e),Rr)},movementY:function(e){return"movementY"in e?e.movementY:As}}),yl=qt(ml),xs=x({},ml,{dataTransfer:0}),su=qt(xs),gl=x({},Oi,{relatedTarget:0}),Ra=qt(gl),vl=x({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=qt(vl),af=x({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ma=qt(af),Ns=x({},Xi,{data:0}),_l=qt(Ns),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Os={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wt[e])?!!t[e]:!1}function Zi(){return jr}var uu=x({},Oi,{key:function(e){if(e.key){var t=Ds[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Os[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?Oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bl=qt(uu),cu=x({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=qt(cu),Sl=x({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),Ms=qt(Sl),Ji=x({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),js=qt(Ji),zs=x({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),El=qt(zs),Bs=x({},Xi,{newState:0,oldState:0}),fu=qt(Bs),rf=[9,13,27,32],zr=Jt&&"CompositionEvent"in window,Ri=null;Jt&&"documentMode"in document&&(Ri=document.documentMode);var lf=Jt&&"TextEvent"in window&&!Ri,Cl=Jt&&(!zr||Ri&&8<Ri&&11>=Ri),Tl=" ",hu=!1;function Is(e,t){switch(e){case"keyup":return rf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function pu(e,t){switch(e){case"compositionend":return du(t);case"keypress":return t.which!==32?null:(hu=!0,Tl);case"textInput":return e=t.data,e===Tl&&hu?null:e;default:return null}}function sf(e,t){if(Wi)return e==="compositionend"||!zr&&Is(e,t)?(e=Da(),Na=hl=Jn=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cl&&t.locale!=="ko"?null:t.data;default:return null}}var mu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mu[e.type]:t==="textarea"}function ks(e,t,i,l){Qi?St?St.push(l):St=[l]:Qi=l,t=tc(t,"onChange"),0<t.length&&(i=new dl("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ja=null,Br=null;function of(e){Hy(e,0)}function Al(e){var t=qn(e);if(Ss(t))return e}function Ir(e,t){if(e==="change")return t}var Wn=!1;if(Jt){var Et;if(Jt){var za="oninput"in document;if(!za){var An=document.createElement("div");An.setAttribute("oninput","return;"),za=typeof An.oninput=="function"}Et=za}else Et=!1;Wn=Et&&(!document.documentMode||9<document.documentMode)}function yu(){ja&&(ja.detachEvent("onpropertychange",xl),Br=ja=null)}function xl(e){if(e.propertyName==="value"&&Al(Br)){var t=[];ks(t,Br,e,fl(e)),xa(of,t)}}function gu(e,t,i){e==="focusin"?(yu(),ja=t,Br=i,ja.attachEvent("onpropertychange",xl)):e==="focusout"&&yu()}function $i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Br)}function Us(e,t){if(e==="click")return Al(t)}function Ba(e,t){if(e==="input"||e==="change")return Al(t)}function Mi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:Mi;function o(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!ys.call(t,c)||!_n(e[c],t[c]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var i=f(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=f(i)}}function y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=at(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=at(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=Jt&&"documentMode"in document&&11>=document.documentMode,A=null,O=null,R=null,L=!1;function D(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;L||A==null||A!==at(l)||(l=A,"selectionStart"in l&&b(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),R&&o(R,l)||(R=l,l=tc(O,"onSelect"),0<l.length&&(t=new dl("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=A)))}function H(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var M={animationend:H("Animation","AnimationEnd"),animationiteration:H("Animation","AnimationIteration"),animationstart:H("Animation","AnimationStart"),transitionrun:H("Transition","TransitionRun"),transitionstart:H("Transition","TransitionStart"),transitioncancel:H("Transition","TransitionCancel"),transitionend:H("Transition","TransitionEnd")},k={},U={};Jt&&(U=document.createElement("div").style,"AnimationEvent"in window||(delete M.animationend.animation,delete M.animationiteration.animation,delete M.animationstart.animation),"TransitionEvent"in window||delete M.transitionend.transition);function q(e){if(k[e])return k[e];if(!M[e])return e;var t=M[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in U)return k[e]=t[i];return e}var V=q("animationend"),Q=q("animationiteration"),X=q("animationstart"),te=q("transitionrun"),le=q("transitionstart"),ce=q("transitioncancel"),ae=q("transitionend"),oe=new Map,ue="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ue.push("scrollEnd");function re(e,t){oe.set(e,t),fi(t,[e])}var ge=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ae=[],je=0,Ie=0;function $t(){for(var e=je,t=Ie=je=0;t<e;){var i=Ae[t];Ae[t++]=null;var l=Ae[t];Ae[t++]=null;var c=Ae[t];Ae[t++]=null;var h=Ae[t];if(Ae[t++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&kr(i,c,h)}}function Re(e,t,i,l){Ae[je++]=e,Ae[je++]=t,Ae[je++]=i,Ae[je++]=l,Ie|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ht(e,t,i,l){return Re(e,t,i,l),Kt(e)}function At(e,t){return Re(e,null,null,t),Kt(e)}function kr(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,l=h.alternate,l!==null&&(l.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-ye(i),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=i|536870912),h):null}function Kt(e){if(50<so)throw so=0,gh=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Mn={};function Ls(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,t,i,l){return new Ls(e,t,i,l)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,t){var i=e.alternate;return i===null?(i=Kn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Cp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vu(e,t,i,l,c,h){var g=0;if(l=e,typeof e=="function")uf(e)&&(g=1);else if(typeof e=="string")g=f0(e,i,be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Kn(31,i,t,c),e.elementType=fe,e.lanes=h,e;case _e:return Ur(i.children,c,h,t);case Ee:g=8,c|=24;break;case it:return e=Kn(12,i,t,c|2),e.elementType=it,e.lanes=h,e;case Sn:return e=Kn(13,i,t,c),e.elementType=Sn,e.lanes=h,e;case yt:return e=Kn(19,i,t,c),e.elementType=yt,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Te:g=10;break e;case ve:g=9;break e;case mt:g=11;break e;case Ne:g=14;break e;case Mt:g=16,l=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Kn(g,i,t,c),t.elementType=e,t.type=l,t.lanes=h,t}function Ur(e,t,i,l){return e=Kn(7,e,l,t),e.lanes=i,e}function cf(e,t,i){return e=Kn(6,e,null,t),e.lanes=i,e}function Tp(e){var t=Kn(18,null,null,0);return t.stateNode=e,t}function ff(e,t,i){return t=Kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wp=new WeakMap;function $n(e,t){if(typeof e=="object"&&e!==null){var i=wp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:tu(t)},wp.set(e,t),t)}return{value:e,source:t,stack:tu(t)}}var Nl=[],Dl=0,_u=null,qs=0,ei=[],ti=0,Ia=null,ji=1,zi="";function ta(e,t){Nl[Dl++]=qs,Nl[Dl++]=_u,_u=e,qs=t}function Ap(e,t,i){ei[ti++]=ji,ei[ti++]=zi,ei[ti++]=Ia,Ia=e;var l=ji;e=zi;var c=32-ye(l)-1;l&=~(1<<c),i+=1;var h=32-ye(t)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ji=1<<32-ye(t)+c|i<<c|l,zi=h+e}else ji=1<<h|i<<c|l,zi=e}function hf(e){e.return!==null&&(ta(e,1),Ap(e,1,0))}function df(e){for(;e===_u;)_u=Nl[--Dl],Nl[Dl]=null,qs=Nl[--Dl],Nl[Dl]=null;for(;e===Ia;)Ia=ei[--ti],ei[ti]=null,zi=ei[--ti],ei[ti]=null,ji=ei[--ti],ei[ti]=null}function xp(e,t){ei[ti++]=ji,ei[ti++]=zi,ei[ti++]=Ia,ji=t.id,zi=t.overflow,Ia=e}var on=null,Ct=null,Ze=!1,ka=null,ni=!1,pf=Error(s(519));function Ua(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hs($n(t,e)),pf}function Np(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Bt]=l,i){case"dialog":Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":case"embed":Ye("load",t);break;case"video":case"audio":for(i=0;i<uo.length;i++)Ye(uo[i],t);break;case"source":Ye("error",t);break;case"img":case"image":case"link":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"input":Ye("invalid",t),cl(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ye("invalid",t);break;case"textarea":Ye("invalid",t),Dr(t,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||Gy(t.textContent,i)?(l.popover!=null&&(Ye("beforetoggle",t),Ye("toggle",t)),l.onScroll!=null&&Ye("scroll",t),l.onScrollEnd!=null&&Ye("scrollend",t),l.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Ua(e,!0)}function Dp(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:on=on.return}}function Ol(e){if(e!==on)return!1;if(!Ze)return Dp(e),Ze=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Mh(e.type,e.memoizedProps)),i=!i),i&&Ct&&Ua(e),Dp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ct=eg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ct=eg(e)}else t===27?(t=Ct,Wa(e.type)?(e=kh,kh=null,Ct=e):Ct=t):Ct=on?ai(e.stateNode.nextSibling):null;return!0}function Lr(){Ct=on=null,Ze=!1}function mf(){var e=ka;return e!==null&&(In===null?In=e:In.push.apply(In,e),ka=null),e}function Hs(e){ka===null?ka=[e]:ka.push(e)}var yf=I(null),qr=null,na=null;function La(e,t,i){he(yf,t._currentValue),t._currentValue=i}function ia(e){e._currentValue=yf.current,ie(yf)}function gf(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function vf(e,t,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=c;for(var N=0;N<t.length;N++)if(C.context===t[N]){h.lanes|=i,C=h.alternate,C!==null&&(C.lanes|=i),gf(h.return,i,e),l||(g=null);break e}h=C.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=i,h=g.alternate,h!==null&&(h.lanes|=i),gf(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Rl(e,t,i,l){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var C=c.type;_n(c.pendingProps.value,g.value)||(e!==null?e.push(C):e=[C])}}else if(c===We.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(mo):e=[mo])}c=c.return}e!==null&&vf(t,e,i,l),t.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){qr=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function un(e){return Op(qr,e)}function Su(e,t){return qr===null&&Hr(e),Op(e,t)}function Op(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},na===null){if(e===null)throw Error(s(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return i}var sb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},ob=r.unstable_scheduleCallback,ub=r.unstable_NormalPriority,Vt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new sb,data:new Map,refCount:0}}function Ks(e){e.refCount--,e.refCount===0&&ob(ub,function(){e.controller.abort()})}var Vs=null,bf=0,Ml=0,jl=null;function cb(e,t){if(Vs===null){var i=Vs=[];bf=0,Ml=Ch(),jl={status:"pending",value:void 0,then:function(l){i.push(l)}}}return bf++,t.then(Rp,Rp),t}function Rp(){if(--bf===0&&Vs!==null){jl!==null&&(jl.status="fulfilled");var e=Vs;Vs=null,Ml=0,jl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fb(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var Mp=Z.S;Z.S=function(e,t){my=yn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cb(e,t),Mp!==null&&Mp(e,t)};var Kr=I(null);function Sf(){var e=Kr.current;return e!==null?e:pt.pooledCache}function Eu(e,t){t===null?he(Kr,Kr.current):he(Kr,t.pool)}function jp(){var e=Sf();return e===null?null:{parent:Vt._currentValue,pool:e}}var zl=Error(s(460)),Ef=Error(s(474)),Cu=Error(s(542)),Tu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Rn,Rn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kp(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kp(e),e}throw Yr=t,zl}}function Vr(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Yr=i,zl):i}}var Yr=null;function Ip(){if(Yr===null)throw Error(s(459));var e=Yr;return Yr=null,e}function kp(e){if(e===zl||e===Cu)throw Error(s(483))}var Bl=null,Ys=0;function wu(e){var t=Ys;return Ys+=1,Bl===null&&(Bl=[]),Bp(Bl,e,t)}function Gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Au(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Up(e){function t(K,j){if(e){var Y=K.deletions;Y===null?(K.deletions=[j],K.flags|=16):Y.push(j)}}function i(K,j){if(!e)return null;for(;j!==null;)t(K,j),j=j.sibling;return null}function l(K){for(var j=new Map;K!==null;)K.key!==null?j.set(K.key,K):j.set(K.index,K),K=K.sibling;return j}function c(K,j){return K=ea(K,j),K.index=0,K.sibling=null,K}function h(K,j,Y){return K.index=Y,e?(Y=K.alternate,Y!==null?(Y=Y.index,Y<j?(K.flags|=67108866,j):Y):(K.flags|=67108866,j)):(K.flags|=1048576,j)}function g(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function C(K,j,Y,W){return j===null||j.tag!==6?(j=cf(Y,K.mode,W),j.return=K,j):(j=c(j,Y),j.return=K,j)}function N(K,j,Y,W){var xe=Y.type;return xe===_e?J(K,j,Y.props.children,W,Y.key):j!==null&&(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Mt&&Vr(xe)===j.type)?(j=c(j,Y.props),Gs(j,Y),j.return=K,j):(j=vu(Y.type,Y.key,Y.props,null,K.mode,W),Gs(j,Y),j.return=K,j)}function G(K,j,Y,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=ff(Y,K.mode,W),j.return=K,j):(j=c(j,Y.children||[]),j.return=K,j)}function J(K,j,Y,W,xe){return j===null||j.tag!==7?(j=Ur(Y,K.mode,W,xe),j.return=K,j):(j=c(j,Y),j.return=K,j)}function ne(K,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=cf(""+j,K.mode,Y),j.return=K,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $:return Y=vu(j.type,j.key,j.props,null,K.mode,Y),Gs(Y,j),Y.return=K,Y;case ee:return j=ff(j,K.mode,Y),j.return=K,j;case Mt:return j=Vr(j),ne(K,j,Y)}if(Cn(j)||Lt(j))return j=Ur(j,K.mode,Y,null),j.return=K,j;if(typeof j.then=="function")return ne(K,wu(j),Y);if(j.$$typeof===Te)return ne(K,Su(K,j),Y);Au(K,j)}return null}function F(K,j,Y,W){var xe=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:C(K,j,""+Y,W);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===xe?N(K,j,Y,W):null;case ee:return Y.key===xe?G(K,j,Y,W):null;case Mt:return Y=Vr(Y),F(K,j,Y,W)}if(Cn(Y)||Lt(Y))return xe!==null?null:J(K,j,Y,W,null);if(typeof Y.then=="function")return F(K,j,wu(Y),W);if(Y.$$typeof===Te)return F(K,j,Su(K,Y),W);Au(K,Y)}return null}function P(K,j,Y,W,xe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return K=K.get(Y)||null,C(j,K,""+W,xe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return K=K.get(W.key===null?Y:W.key)||null,N(j,K,W,xe);case ee:return K=K.get(W.key===null?Y:W.key)||null,G(j,K,W,xe);case Mt:return W=Vr(W),P(K,j,Y,W,xe)}if(Cn(W)||Lt(W))return K=K.get(Y)||null,J(j,K,W,xe,null);if(typeof W.then=="function")return P(K,j,Y,wu(W),xe);if(W.$$typeof===Te)return P(K,j,Y,Su(j,W),xe);Au(j,W)}return null}function Se(K,j,Y,W){for(var xe=null,et=null,Ce=j,Ue=j=0,Qe=null;Ce!==null&&Ue<Y.length;Ue++){Ce.index>Ue?(Qe=Ce,Ce=null):Qe=Ce.sibling;var tt=F(K,Ce,Y[Ue],W);if(tt===null){Ce===null&&(Ce=Qe);break}e&&Ce&&tt.alternate===null&&t(K,Ce),j=h(tt,j,Ue),et===null?xe=tt:et.sibling=tt,et=tt,Ce=Qe}if(Ue===Y.length)return i(K,Ce),Ze&&ta(K,Ue),xe;if(Ce===null){for(;Ue<Y.length;Ue++)Ce=ne(K,Y[Ue],W),Ce!==null&&(j=h(Ce,j,Ue),et===null?xe=Ce:et.sibling=Ce,et=Ce);return Ze&&ta(K,Ue),xe}for(Ce=l(Ce);Ue<Y.length;Ue++)Qe=P(Ce,K,Ue,Y[Ue],W),Qe!==null&&(e&&Qe.alternate!==null&&Ce.delete(Qe.key===null?Ue:Qe.key),j=h(Qe,j,Ue),et===null?xe=Qe:et.sibling=Qe,et=Qe);return e&&Ce.forEach(function(ir){return t(K,ir)}),Ze&&ta(K,Ue),xe}function De(K,j,Y,W){if(Y==null)throw Error(s(151));for(var xe=null,et=null,Ce=j,Ue=j=0,Qe=null,tt=Y.next();Ce!==null&&!tt.done;Ue++,tt=Y.next()){Ce.index>Ue?(Qe=Ce,Ce=null):Qe=Ce.sibling;var ir=F(K,Ce,tt.value,W);if(ir===null){Ce===null&&(Ce=Qe);break}e&&Ce&&ir.alternate===null&&t(K,Ce),j=h(ir,j,Ue),et===null?xe=ir:et.sibling=ir,et=ir,Ce=Qe}if(tt.done)return i(K,Ce),Ze&&ta(K,Ue),xe;if(Ce===null){for(;!tt.done;Ue++,tt=Y.next())tt=ne(K,tt.value,W),tt!==null&&(j=h(tt,j,Ue),et===null?xe=tt:et.sibling=tt,et=tt);return Ze&&ta(K,Ue),xe}for(Ce=l(Ce);!tt.done;Ue++,tt=Y.next())tt=P(Ce,K,Ue,tt.value,W),tt!==null&&(e&&tt.alternate!==null&&Ce.delete(tt.key===null?Ue:tt.key),j=h(tt,j,Ue),et===null?xe=tt:et.sibling=tt,et=tt);return e&&Ce.forEach(function(E0){return t(K,E0)}),Ze&&ta(K,Ue),xe}function ht(K,j,Y,W){if(typeof Y=="object"&&Y!==null&&Y.type===_e&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:e:{for(var xe=Y.key;j!==null;){if(j.key===xe){if(xe=Y.type,xe===_e){if(j.tag===7){i(K,j.sibling),W=c(j,Y.props.children),W.return=K,K=W;break e}}else if(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Mt&&Vr(xe)===j.type){i(K,j.sibling),W=c(j,Y.props),Gs(W,Y),W.return=K,K=W;break e}i(K,j);break}else t(K,j);j=j.sibling}Y.type===_e?(W=Ur(Y.props.children,K.mode,W,Y.key),W.return=K,K=W):(W=vu(Y.type,Y.key,Y.props,null,K.mode,W),Gs(W,Y),W.return=K,K=W)}return g(K);case ee:e:{for(xe=Y.key;j!==null;){if(j.key===xe)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){i(K,j.sibling),W=c(j,Y.children||[]),W.return=K,K=W;break e}else{i(K,j);break}else t(K,j);j=j.sibling}W=ff(Y,K.mode,W),W.return=K,K=W}return g(K);case Mt:return Y=Vr(Y),ht(K,j,Y,W)}if(Cn(Y))return Se(K,j,Y,W);if(Lt(Y)){if(xe=Lt(Y),typeof xe!="function")throw Error(s(150));return Y=xe.call(Y),De(K,j,Y,W)}if(typeof Y.then=="function")return ht(K,j,wu(Y),W);if(Y.$$typeof===Te)return ht(K,j,Su(K,Y),W);Au(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(i(K,j.sibling),W=c(j,Y),W.return=K,K=W):(i(K,j),W=cf(Y,K.mode,W),W.return=K,K=W),g(K)):i(K,j)}return function(K,j,Y,W){try{Ys=0;var xe=ht(K,j,Y,W);return Bl=null,xe}catch(Ce){if(Ce===zl||Ce===Cu)throw Ce;var et=Kn(29,Ce,null,K.mode);return et.lanes=W,et.return=K,et}finally{}}}var Gr=Up(!0),Lp=Up(!1),qa=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Kt(e),kr(e,null,i),t}return Re(e,l,t,i),Kt(e)}function Qs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,dt(e,i)}}function wf(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?c=h=t:h=h.next=t}else c=h=t;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Af=!1;function Fs(){if(Af){var e=jl;if(e!==null)throw e}}function Ps(e,t,i,l){Af=!1;var c=e.updateQueue;qa=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var N=C,G=N.next;N.next=null,g===null?h=G:g.next=G,g=N;var J=e.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==g&&(C===null?J.firstBaseUpdate=G:C.next=G,J.lastBaseUpdate=N))}if(h!==null){var ne=c.baseState;g=0,J=G=N=null,C=h;do{var F=C.lane&-536870913,P=F!==C.lane;if(P?(Ge&F)===F:(l&F)===F){F!==0&&F===Ml&&(Af=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=e,De=C;F=t;var ht=i;switch(De.tag){case 1:if(Se=De.payload,typeof Se=="function"){ne=Se.call(ht,ne,F);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=De.payload,F=typeof Se=="function"?Se.call(ht,ne,F):Se,F==null)break e;ne=x({},ne,F);break e;case 2:qa=!0}}F=C.callback,F!==null&&(e.flags|=64,P&&(e.flags|=8192),P=c.callbacks,P===null?c.callbacks=[F]:P.push(F))}else P={lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(G=J=P,N=ne):J=J.next=P,g|=F;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;P=C,C=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);J===null&&(N=ne),c.baseState=N,c.firstBaseUpdate=G,c.lastBaseUpdate=J,h===null&&(c.shared.lanes=0),Fa|=g,e.lanes=g,e.memoizedState=ne}}function qp(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Hp(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)qp(i[e],t)}var Il=I(null),xu=I(0);function Kp(e,t){e=ha,he(xu,e),he(Il,t),ha=e|t.baseLanes}function xf(){he(xu,ha),he(Il,Il.current)}function Nf(){ha=xu.current,ie(Il),ie(xu)}var Vn=I(null),ii=null;function Va(e){var t=e.alternate;he(kt,kt.current&1),he(Vn,e),ii===null&&(t===null||Il.current!==null||t.memoizedState!==null)&&(ii=e)}function Df(e){he(kt,kt.current),he(Vn,e),ii===null&&(ii=e)}function Vp(e){e.tag===22?(he(kt,kt.current),he(Vn,e),ii===null&&(ii=e)):Ya()}function Ya(){he(kt,kt.current),he(Vn,Vn.current)}function Yn(e){ie(Vn),ii===e&&(ii=null),ie(kt)}var kt=I(0);function Nu(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Bh(i)||Ih(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=0,ke=null,ct=null,Yt=null,Du=!1,kl=!1,Qr=!1,Ou=0,Xs=0,Ul=null,hb=0;function Dt(){throw Error(s(321))}function Of(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!_n(e[i],t[i]))return!1;return!0}function Rf(e,t,i,l,c,h){return aa=h,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?Am:Qf,Qr=!1,h=i(l,c),Qr=!1,kl&&(h=Gp(t,i,l,c)),Yp(e),h}function Yp(e){Z.H=Ws;var t=ct!==null&&ct.next!==null;if(aa=0,Yt=ct=ke=null,Du=!1,Xs=0,Ul=null,t)throw Error(s(300));e===null||Gt||(e=e.dependencies,e!==null&&bu(e)&&(Gt=!0))}function Gp(e,t,i,l){ke=e;var c=0;do{if(kl&&(Ul=null),Xs=0,kl=!1,25<=c)throw Error(s(301));if(c+=1,Yt=ct=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Z.H=xm,h=t(i,l)}while(kl);return h}function db(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(ke.flags|=1024),t}function Mf(){var e=Ou!==0;return Ou=0,e}function jf(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function zf(e){if(Du){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Du=!1}aa=0,Yt=ct=ke=null,kl=!1,Xs=Ou=0,Ul=null}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ke.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function Ut(){if(ct===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Yt===null?ke.memoizedState:Yt.next;if(t!==null)Yt=t,ct=e;else{if(e===null)throw ke.alternate===null?Error(s(467)):Error(s(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Yt===null?ke.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=Xs;return Xs+=1,Ul===null&&(Ul=[]),e=Bp(Ul,e,t),t=ke,(Yt===null?t.memoizedState:Yt.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?Am:Qf),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===Te)return un(e)}throw Error(s(438,String(e)))}function Bf(e){var t=null,i=ke.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Ru(),ke.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=Je;return t.index++,i}function ra(e,t){return typeof t=="function"?t(e):t}function ju(e){var t=Ut();return If(t,ct,e)}function If(e,t,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}t.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var C=g=null,N=null,G=t,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Ge&ne)===ne:(aa&ne)===ne){var F=G.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Ml&&(J=!0);else if((aa&F)===F){G=G.next,F===Ml&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(C=N=ne,g=h):N=N.next=ne,ke.lanes|=F,Fa|=F;ne=G.action,Qr&&i(h,ne),h=G.hasEagerState?G.eagerState:i(h,ne)}else F={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(C=N=F,g=h):N=N.next=F,ke.lanes|=ne,Fa|=ne;G=G.next}while(G!==null&&G!==t);if(N===null?g=h:N.next=C,!_n(h,e.memoizedState)&&(Gt=!0,J&&(i=jl,i!==null)))throw i;e.memoizedState=h,e.baseState=g,e.baseQueue=N,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function kf(e){var t=Ut(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,h=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);_n(h,t.memoizedState)||(Gt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,l]}function Qp(e,t,i){var l=ke,c=Ut(),h=Ze;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=t();var g=!_n((ct||c).memoizedState,i);if(g&&(c.memoizedState=i,Gt=!0),c=c.queue,qf(Xp.bind(null,l,c,e),[e]),c.getSnapshot!==t||g||Yt!==null&&Yt.memoizedState.tag&1){if(l.flags|=2048,Ll(9,{destroy:void 0},Pp.bind(null,l,c,i,t),null),pt===null)throw Error(s(349));h||(aa&127)!==0||Fp(l,t,i)}return i}function Fp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ke.updateQueue,t===null?(t=Ru(),ke.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Pp(e,t,i,l){t.value=i,t.getSnapshot=l,Zp(t)&&Jp(e)}function Xp(e,t,i){return i(function(){Zp(t)&&Jp(e)})}function Zp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!_n(e,i)}catch{return!0}}function Jp(e){var t=At(e,2);t!==null&&kn(t,e,2)}function Uf(e){var t=xn();if(typeof e=="function"){var i=e;if(e=i(),Qr){ln(!0);try{i()}finally{ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},t}function Wp(e,t,i,l){return e.baseState=i,If(e,ct,typeof l=="function"?l:ra)}function pb(e,t,i,l,c){if(Iu(e))throw Error(s(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};Z.T!==null?i(!0):h.isTransition=!1,l(h),i=t.pending,i===null?(h.next=t.pending=h,$p(t,h)):(h.next=i.next,t.pending=i.next=h)}}function $p(e,t){var i=t.action,l=t.payload,c=e.state;if(t.isTransition){var h=Z.T,g={};Z.T=g;try{var C=i(c,l),N=Z.S;N!==null&&N(g,C),em(e,t,C)}catch(G){Lf(e,t,G)}finally{h!==null&&g.types!==null&&(h.types=g.types),Z.T=h}}else try{h=i(c,l),em(e,t,h)}catch(G){Lf(e,t,G)}}function em(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){tm(e,t,l)},function(l){return Lf(e,t,l)}):tm(e,t,i)}function tm(e,t,i){t.status="fulfilled",t.value=i,nm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,$p(e,i)))}function Lf(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,nm(t),t=t.next;while(t!==l)}e.action=null}function nm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function im(e,t){return t}function am(e,t){if(Ze){var i=pt.formState;if(i!==null){e:{var l=ke;if(Ze){if(Ct){t:{for(var c=Ct,h=ni;c.nodeType!==8;){if(!h){c=null;break t}if(c=ai(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ct=ai(c.nextSibling),l=c.data==="F!";break e}}Ua(l)}l=!1}l&&(t=i[0])}}return i=xn(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:t},i.queue=l,i=Cm.bind(null,ke,l),l.dispatch=i,l=Uf(!1),h=Gf.bind(null,ke,!1,l.queue),l=xn(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,i=pb.bind(null,ke,c,h,i),c.dispatch=i,l.memoizedState=e,[t,i,!1]}function rm(e){var t=Ut();return lm(t,ct,e)}function lm(e,t,i){if(t=If(e,t,im)[0],e=ju(ra)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zs(t)}catch(g){throw g===zl?Cu:g}else l=t;t=Ut();var c=t.queue,h=c.dispatch;return i!==t.memoizedState&&(ke.flags|=2048,Ll(9,{destroy:void 0},mb.bind(null,c,i),null)),[l,h,e]}function mb(e,t){e.action=t}function sm(e){var t=Ut(),i=ct;if(i!==null)return lm(t,i,e);Ut(),t=t.memoizedState,i=Ut();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function Ll(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=ke.updateQueue,t===null&&(t=Ru(),ke.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function om(){return Ut().memoizedState}function zu(e,t,i,l){var c=xn();ke.flags|=e,c.memoizedState=Ll(1|t,{destroy:void 0},i,l===void 0?null:l)}function Bu(e,t,i,l){var c=Ut();l=l===void 0?null:l;var h=c.memoizedState.inst;ct!==null&&l!==null&&Of(l,ct.memoizedState.deps)?c.memoizedState=Ll(t,h,i,l):(ke.flags|=e,c.memoizedState=Ll(1|t,h,i,l))}function um(e,t){zu(8390656,8,e,t)}function qf(e,t){Bu(2048,8,e,t)}function yb(e){ke.flags|=4;var t=ke.updateQueue;if(t===null)t=Ru(),ke.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function cm(e){var t=Ut().memoizedState;return yb({ref:t,nextImpl:e}),function(){if((rt&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function fm(e,t){return Bu(4,2,e,t)}function hm(e,t){return Bu(4,4,e,t)}function dm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pm(e,t,i){i=i!=null?i.concat([e]):null,Bu(4,4,dm.bind(null,t,e),i)}function Hf(){}function mm(e,t){var i=Ut();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&Of(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function ym(e,t){var i=Ut();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&Of(t,l[1]))return l[0];if(l=e(),Qr){ln(!0);try{e()}finally{ln(!1)}}return i.memoizedState=[l,t],l}function Kf(e,t,i){return i===void 0||(aa&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=gy(),ke.lanes|=e,Fa|=e,i)}function gm(e,t,i,l){return _n(i,t)?i:Il.current!==null?(e=Kf(e,i,l),_n(e,t)||(Gt=!0),e):(aa&42)===0||(aa&1073741824)!==0&&(Ge&261930)===0?(Gt=!0,e.memoizedState=i):(e=gy(),ke.lanes|=e,Fa|=e,t)}function vm(e,t,i,l,c){var h=pe.p;pe.p=h!==0&&8>h?h:8;var g=Z.T,C={};Z.T=C,Gf(e,!1,t,i);try{var N=c(),G=Z.S;if(G!==null&&G(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=fb(N,l);Js(e,t,J,Fn(e))}else Js(e,t,l,Fn(e))}catch(ne){Js(e,t,{then:function(){},status:"rejected",reason:ne},Fn())}finally{pe.p=h,g!==null&&C.types!==null&&(g.types=C.types),Z.T=g}}function gb(){}function Vf(e,t,i,l){if(e.tag!==5)throw Error(s(476));var c=_m(e).queue;vm(e,c,t,we,i===null?gb:function(){return bm(e),i(l)})}function _m(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:we},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bm(e){var t=_m(e);t.next===null&&(t=e.alternate.memoizedState),Js(e,t.next.queue,{},Fn())}function Yf(){return un(mo)}function Sm(){return Ut().memoizedState}function Em(){return Ut().memoizedState}function vb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Fn();e=Ha(i);var l=Ka(t,e,i);l!==null&&(kn(l,t,i),Qs(l,t,i)),t={cache:_f()},e.payload=t;return}t=t.return}}function _b(e,t,i){var l=Fn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Iu(e)?Tm(t,i):(i=Ht(e,t,i,l),i!==null&&(kn(i,e,l),wm(i,t,l)))}function Cm(e,t,i){var l=Fn();Js(e,t,i,l)}function Js(e,t,i,l){var c={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))Tm(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,C=h(g,i);if(c.hasEagerState=!0,c.eagerState=C,_n(C,g))return Re(e,t,c,0),pt===null&&$t(),!1}catch{}finally{}if(i=Ht(e,t,c,l),i!==null)return kn(i,e,l),wm(i,t,l),!0}return!1}function Gf(e,t,i,l){if(l={lane:2,revertLane:Ch(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(t)throw Error(s(479))}else t=Ht(e,i,l,2),t!==null&&kn(t,e,2)}function Iu(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Tm(e,t){kl=Du=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function wm(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,dt(e,i)}}var Ws={readContext:un,use:Mu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Ws.useEffectEvent=Dt;var Am={readContext:un,use:Mu,useCallback:function(e,t){return xn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:um,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,zu(4194308,4,dm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return zu(4194308,4,e,t)},useInsertionEffect:function(e,t){zu(4,2,e,t)},useMemo:function(e,t){var i=xn();t=t===void 0?null:t;var l=e();if(Qr){ln(!0);try{e()}finally{ln(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=xn();if(i!==void 0){var c=i(t);if(Qr){ln(!0);try{i(t)}finally{ln(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=_b.bind(null,ke,e),[l.memoizedState,e]},useRef:function(e){var t=xn();return e={current:e},t.memoizedState=e},useState:function(e){e=Uf(e);var t=e.queue,i=Cm.bind(null,ke,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Hf,useDeferredValue:function(e,t){var i=xn();return Kf(i,e,t)},useTransition:function(){var e=Uf(!1);return e=vm.bind(null,ke,e.queue,!0,!1),xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=ke,c=xn();if(Ze){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),pt===null)throw Error(s(349));(Ge&127)!==0||Fp(l,t,i)}c.memoizedState=i;var h={value:i,getSnapshot:t};return c.queue=h,um(Xp.bind(null,l,h,e),[e]),l.flags|=2048,Ll(9,{destroy:void 0},Pp.bind(null,l,h,i,t),null),i},useId:function(){var e=xn(),t=pt.identifierPrefix;if(Ze){var i=zi,l=ji;i=(l&~(1<<32-ye(l)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ou++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=hb++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Yf,useFormState:am,useActionState:am,useOptimistic:function(e){var t=xn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Gf.bind(null,ke,!0,i),i.dispatch=t,[e,t]},useMemoCache:Bf,useCacheRefresh:function(){return xn().memoizedState=vb.bind(null,ke)},useEffectEvent:function(e){var t=xn(),i={impl:e};return t.memoizedState=i,function(){if((rt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Qf={readContext:un,use:Mu,useCallback:mm,useContext:un,useEffect:qf,useImperativeHandle:pm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:ym,useReducer:ju,useRef:om,useState:function(){return ju(ra)},useDebugValue:Hf,useDeferredValue:function(e,t){var i=Ut();return gm(i,ct.memoizedState,e,t)},useTransition:function(){var e=ju(ra)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Qp,useId:Sm,useHostTransitionStatus:Yf,useFormState:rm,useActionState:rm,useOptimistic:function(e,t){var i=Ut();return Wp(i,ct,e,t)},useMemoCache:Bf,useCacheRefresh:Em};Qf.useEffectEvent=cm;var xm={readContext:un,use:Mu,useCallback:mm,useContext:un,useEffect:qf,useImperativeHandle:pm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:ym,useReducer:kf,useRef:om,useState:function(){return kf(ra)},useDebugValue:Hf,useDeferredValue:function(e,t){var i=Ut();return ct===null?Kf(i,e,t):gm(i,ct.memoizedState,e,t)},useTransition:function(){var e=kf(ra)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Qp,useId:Sm,useHostTransitionStatus:Yf,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var i=Ut();return ct!==null?Wp(i,ct,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Em};xm.useEffectEvent=cm;function Ff(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:x({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Pf={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Fn(),c=Ha(l);c.payload=t,i!=null&&(c.callback=i),t=Ka(e,c,l),t!==null&&(kn(t,e,l),Qs(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Fn(),c=Ha(l);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Ka(e,c,l),t!==null&&(kn(t,e,l),Qs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Fn(),l=Ha(i);l.tag=2,t!=null&&(l.callback=t),t=Ka(e,l,i),t!==null&&(kn(t,e,i),Qs(t,e,i))}};function Nm(e,t,i,l,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,g):t.prototype&&t.prototype.isPureReactComponent?!o(i,l)||!o(c,h):!0}function Dm(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Pf.enqueueReplaceState(t,t.state,null)}function Fr(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=x({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function Om(e){ge(e)}function Rm(e){console.error(e)}function Mm(e){ge(e)}function ku(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function jm(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Xf(e,t,i){return i=Ha(i),i.tag=3,i.payload={element:null},i.callback=function(){ku(e,t)},i}function zm(e){return e=Ha(e),e.tag=3,e}function Bm(e,t,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){jm(t,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){jm(t,i,l),typeof c!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function bb(e,t,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&Rl(t,i,c,!0),i=Vn.current,i!==null){switch(i.tag){case 31:case 13:return ii===null?Xu():i.alternate===null&&Ot===0&&(Ot=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===Tu?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),bh(e,l,c)),!1;case 22:return i.flags|=65536,l===Tu?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),bh(e,l,c)),!1}throw Error(s(435,i.tag))}return bh(e,l,c),Xu(),!1}if(Ze)return t=Vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==pf&&(e=Error(s(422),{cause:l}),Hs($n(e,i)))):(l!==pf&&(t=Error(s(423),{cause:l}),Hs($n(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=$n(l,i),c=Xf(e.stateNode,l,c),wf(e,c),Ot!==4&&(Ot=2)),!1;var h=Error(s(520),{cause:l});if(h=$n(h,i),lo===null?lo=[h]:lo.push(h),Ot!==4&&(Ot=2),t===null)return!0;l=$n(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Xf(i.stateNode,l,e),wf(i,e),!1;case 1:if(t=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Pa===null||!Pa.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=zm(c),Bm(c,e,i,l),wf(i,c),!1}i=i.return}while(i!==null);return!1}var Zf=Error(s(461)),Gt=!1;function cn(e,t,i,l){t.child=e===null?Lp(t,null,i,l):Gr(t,e.child,i,l)}function Im(e,t,i,l,c){i=i.render;var h=t.ref;if("ref"in l){var g={};for(var C in l)C!=="ref"&&(g[C]=l[C])}else g=l;return Hr(t),l=Rf(e,t,i,g,h,c),C=Mf(),e!==null&&!Gt?(jf(e,t,c),la(e,t,c)):(Ze&&C&&hf(t),t.flags|=1,cn(e,t,l,c),t.child)}function km(e,t,i,l,c){if(e===null){var h=i.type;return typeof h=="function"&&!uf(h)&&h.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=h,Um(e,t,h,l,c)):(e=vu(i.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!ah(e,c)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:o,i(g,l)&&e.ref===t.ref)return la(e,t,c)}return t.flags|=1,e=ea(h,l),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,i,l,c){if(e!==null){var h=e.memoizedProps;if(o(h,l)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=l=h,ah(e,c))(e.flags&131072)!==0&&(Gt=!0);else return t.lanes=e.lanes,la(e,t,c)}return Jf(e,t,i,l,c)}function Lm(e,t,i,l){var c=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,t.child=null;return qm(e,t,h,i,l)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(t,h!==null?h.cachePool:null),h!==null?Kp(t,h):xf(),Vp(t);else return l=t.lanes=536870912,qm(e,t,h!==null?h.baseLanes|i:i,i,l)}else h!==null?(Eu(t,h.cachePool),Kp(t,h),Ya(),t.memoizedState=null):(e!==null&&Eu(t,null),xf(),Ya());return cn(e,t,c,i),t.child}function $s(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qm(e,t,i,l,c){var h=Sf();return h=h===null?null:{parent:Vt._currentValue,pool:h},t.memoizedState={baseLanes:i,cachePool:h},e!==null&&Eu(t,null),xf(),Vp(t),e!==null&&Rl(e,t,l,!0),t.childLanes=c,null}function Uu(e,t){return t=qu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hm(e,t,i){return Gr(t,e.child,null,i),e=Uu(t,t.pendingProps),e.flags|=2,Yn(t),t.memoizedState=null,e}function Sb(e,t,i){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(l.mode==="hidden")return e=Uu(t,l),t.lanes=536870912,$s(null,e);if(Df(t),(e=Ct)?(e=$y(e,ni),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},i=Tp(e),i.return=t,t.child=i,on=t,Ct=null)):e=null,e===null)throw Ua(t);return t.lanes=536870912,null}return Uu(t,l)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(Df(t),c)if(t.flags&256)t.flags&=-257,t=Hm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Gt||Rl(e,t,i,!1),c=(i&e.childLanes)!==0,Gt||c){if(l=pt,l!==null&&(g=zt(l,i),g!==0&&g!==h.retryLane))throw h.retryLane=g,At(e,g),kn(l,e,g),Zf;Xu(),t=Hm(e,t,i)}else e=h.treeContext,Ct=ai(g.nextSibling),on=t,Ze=!0,ka=null,ni=!1,e!==null&&xp(t,e),t=Uu(t,l),t.flags|=4096;return t}return e=ea(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Lu(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Jf(e,t,i,l,c){return Hr(t),i=Rf(e,t,i,l,void 0,c),l=Mf(),e!==null&&!Gt?(jf(e,t,c),la(e,t,c)):(Ze&&l&&hf(t),t.flags|=1,cn(e,t,i,c),t.child)}function Km(e,t,i,l,c,h){return Hr(t),t.updateQueue=null,i=Gp(t,l,i,c),Yp(e),l=Mf(),e!==null&&!Gt?(jf(e,t,h),la(e,t,h)):(Ze&&l&&hf(t),t.flags|=1,cn(e,t,i,h),t.child)}function Vm(e,t,i,l,c){if(Hr(t),t.stateNode===null){var h=Mn,g=i.contextType;typeof g=="object"&&g!==null&&(h=un(g)),h=new i(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Pf,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},Cf(t),g=i.contextType,h.context=typeof g=="object"&&g!==null?un(g):Mn,h.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Ff(t,i,g,l),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Pf.enqueueReplaceState(h,h.state,null),Ps(t,l,h,c),Fs(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var C=t.memoizedProps,N=Fr(i,C);h.props=N;var G=h.context,J=i.contextType;g=Mn,typeof J=="object"&&J!==null&&(g=un(J));var ne=i.getDerivedStateFromProps;J=typeof ne=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||G!==g)&&Dm(t,h,l,g),qa=!1;var F=t.memoizedState;h.state=F,Ps(t,l,h,c),Fs(),G=t.memoizedState,C||F!==G||qa?(typeof ne=="function"&&(Ff(t,i,ne,l),G=t.memoizedState),(N=qa||Nm(t,i,N,l,F,G,g))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=G),h.props=l,h.state=G,h.context=g,l=N):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Tf(e,t),g=t.memoizedProps,J=Fr(i,g),h.props=J,ne=t.pendingProps,F=h.context,G=i.contextType,N=Mn,typeof G=="object"&&G!==null&&(N=un(G)),C=i.getDerivedStateFromProps,(G=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==ne||F!==N)&&Dm(t,h,l,N),qa=!1,F=t.memoizedState,h.state=F,Ps(t,l,h,c),Fs();var P=t.memoizedState;g!==ne||F!==P||qa||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof C=="function"&&(Ff(t,i,C,l),P=t.memoizedState),(J=qa||Nm(t,i,J,l,F,P,N)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,P,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,P,N)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=P),h.props=l,h.state=P,h.context=N,l=J):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,Lu(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Gr(t,e.child,null,c),t.child=Gr(t,null,i,c)):cn(e,t,i,c),t.memoizedState=h.state,e=t.child):e=la(e,t,c),e}function Ym(e,t,i,l){return Lr(),t.flags|=256,cn(e,t,i,l),t.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(e){return{baseLanes:e,cachePool:jp()}}function eh(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Qn),e}function Gm(e,t,i){var l=t.pendingProps,c=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(c?Va(t):Ya(),(e=Ct)?(e=$y(e,ni),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},i=Tp(e),i.return=t,t.child=i,on=t,Ct=null)):e=null,e===null)throw Ua(t);return Ih(e)?t.lanes=32:t.lanes=536870912,null}var C=l.children;return l=l.fallback,c?(Ya(),c=t.mode,C=qu({mode:"hidden",children:C},c),l=Ur(l,c,i,null),C.return=t,l.return=t,C.sibling=l,t.child=C,l=t.child,l.memoizedState=$f(i),l.childLanes=eh(e,g,i),t.memoizedState=Wf,$s(null,l)):(Va(t),th(t,C))}var N=e.memoizedState;if(N!==null&&(C=N.dehydrated,C!==null)){if(h)t.flags&256?(Va(t),t.flags&=-257,t=nh(e,t,i)):t.memoizedState!==null?(Ya(),t.child=e.child,t.flags|=128,t=null):(Ya(),C=l.fallback,c=t.mode,l=qu({mode:"visible",children:l.children},c),C=Ur(C,c,i,null),C.flags|=2,l.return=t,C.return=t,l.sibling=C,t.child=l,Gr(t,e.child,null,i),l=t.child,l.memoizedState=$f(i),l.childLanes=eh(e,g,i),t.memoizedState=Wf,t=$s(null,l));else if(Va(t),Ih(C)){if(g=C.nextSibling&&C.nextSibling.dataset,g)var G=g.dgst;g=G,l=Error(s(419)),l.stack="",l.digest=g,Hs({value:l,source:null,stack:null}),t=nh(e,t,i)}else if(Gt||Rl(e,t,i,!1),g=(i&e.childLanes)!==0,Gt||g){if(g=pt,g!==null&&(l=zt(g,i),l!==0&&l!==N.retryLane))throw N.retryLane=l,At(e,l),kn(g,e,l),Zf;Bh(C)||Xu(),t=nh(e,t,i)}else Bh(C)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Ct=ai(C.nextSibling),on=t,Ze=!0,ka=null,ni=!1,e!==null&&xp(t,e),t=th(t,l.children),t.flags|=4096);return t}return c?(Ya(),C=l.fallback,c=t.mode,N=e.child,G=N.sibling,l=ea(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?C=ea(G,C):(C=Ur(C,c,i,null),C.flags|=2),C.return=t,l.return=t,l.sibling=C,t.child=l,$s(null,l),l=t.child,C=e.child.memoizedState,C===null?C=$f(i):(c=C.cachePool,c!==null?(N=Vt._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=jp(),C={baseLanes:C.baseLanes|i,cachePool:c}),l.memoizedState=C,l.childLanes=eh(e,g,i),t.memoizedState=Wf,$s(e.child,l)):(Va(t),i=e.child,e=i.sibling,i=ea(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function th(e,t){return t=qu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qu(e,t){return e=Kn(22,e,null,t),e.lanes=0,e}function nh(e,t,i){return Gr(t,e.child,null,i),e=th(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qm(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),gf(e.return,t,i)}function ih(e,t,i,l,c,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c,treeForkCount:h}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=i,g.tailMode=c,g.treeForkCount=h)}function Fm(e,t,i){var l=t.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=kt.current,C=(g&2)!==0;if(C?(g=g&1|2,t.flags|=128):g&=1,he(kt,g),cn(e,t,l,i),l=Ze?qs:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qm(e,i,t);else if(e.tag===19)Qm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Nu(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),ih(t,!1,c,i,h,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Nu(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}ih(t,!0,i,null,h,l);break;case"together":ih(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function la(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fa|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Rl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=ea(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ea(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ah(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function Eb(e,t,i){switch(t.tag){case 3:an(t,t.stateNode.containerInfo),La(t,Vt,e.memoizedState.cache),Lr();break;case 27:case 5:ba(t);break;case 4:an(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Df(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Va(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Gm(e,t,i):(Va(t),e=la(e,t,i),e!==null?e.sibling:null);Va(t);break;case 19:var c=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(Rl(e,t,i,!1),l=(i&t.childLanes)!==0),c){if(l)return Fm(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),he(kt,kt.current),l)break;return null;case 22:return t.lanes=0,Lm(e,t,i,t.pendingProps);case 24:La(t,Vt,e.memoizedState.cache)}return la(e,t,i)}function Pm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Gt=!0;else{if(!ah(e,i)&&(t.flags&128)===0)return Gt=!1,Eb(e,t,i);Gt=(e.flags&131072)!==0}else Gt=!1,Ze&&(t.flags&1048576)!==0&&Ap(t,qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Vr(t.elementType),t.type=e,typeof e=="function")uf(e)?(l=Fr(e,l),t.tag=1,t=Vm(null,t,e,l,i)):(t.tag=0,t=Jf(null,t,e,l,i));else{if(e!=null){var c=e.$$typeof;if(c===mt){t.tag=11,t=Im(null,t,e,l,i);break e}else if(c===Ne){t.tag=14,t=km(null,t,e,l,i);break e}}throw t=oi(e)||e,Error(s(306,t,""))}}return t;case 0:return Jf(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,c=Fr(l,t.pendingProps),Vm(e,t,l,c,i);case 3:e:{if(an(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var h=t.memoizedState;c=h.element,Tf(e,t),Ps(t,l,null,i);var g=t.memoizedState;if(l=g.cache,La(t,Vt,l),l!==h.cache&&vf(t,[Vt],i,!0),Fs(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Ym(e,t,l,i);break e}else if(l!==c){c=$n(Error(s(424)),t),Hs(c),t=Ym(e,t,l,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ct=ai(e.firstChild),on=t,Ze=!0,ka=null,ni=!0,i=Lp(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Lr(),l===c){t=la(e,t,i);break e}cn(e,t,l,i)}t=t.child}return t;case 26:return Lu(e,t),e===null?(i=rg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ze||(i=t.type,e=t.pendingProps,l=nc(ze.current).createElement(i),l[gt]=t,l[Bt]=e,fn(l,i,e),It(l),t.stateNode=l):t.memoizedState=rg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ba(t),e===null&&Ze&&(l=t.stateNode=ng(t.type,t.pendingProps,ze.current),on=t,ni=!0,c=Ct,Wa(t.type)?(kh=c,Ct=ai(l.firstChild)):Ct=c),cn(e,t,t.pendingProps.children,i),Lu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((c=l=Ct)&&(l=Wb(l,t.type,t.pendingProps,ni),l!==null?(t.stateNode=l,on=t,Ct=ai(l.firstChild),ni=!1,c=!0):c=!1),c||Ua(t)),ba(t),c=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,l=h.children,Mh(c,h)?l=null:g!==null&&Mh(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Rf(e,t,db,null,null,i),mo._currentValue=c),Lu(e,t),cn(e,t,l,i),t.child;case 6:return e===null&&Ze&&((e=i=Ct)&&(i=$b(i,t.pendingProps,ni),i!==null?(t.stateNode=i,on=t,Ct=null,e=!0):e=!1),e||Ua(t)),null;case 13:return Gm(e,t,i);case 4:return an(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Gr(t,null,l,i):cn(e,t,l,i),t.child;case 11:return Im(e,t,t.type,t.pendingProps,i);case 7:return cn(e,t,t.pendingProps,i),t.child;case 8:return cn(e,t,t.pendingProps.children,i),t.child;case 12:return cn(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,La(t,t.type,l.value),cn(e,t,l.children,i),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Hr(t),c=un(c),l=l(c),t.flags|=1,cn(e,t,l,i),t.child;case 14:return km(e,t,t.type,t.pendingProps,i);case 15:return Um(e,t,t.type,t.pendingProps,i);case 19:return Fm(e,t,i);case 31:return Sb(e,t,i);case 22:return Lm(e,t,i,t.pendingProps);case 24:return Hr(t),l=un(Vt),e===null?(c=Sf(),c===null&&(c=pt,h=_f(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),t.memoizedState={parent:l,cache:c},Cf(t),La(t,Vt,c)):((e.lanes&i)!==0&&(Tf(e,t),Ps(t,null,null,i),Fs()),c=e.memoizedState,h=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),La(t,Vt,l)):(l=h.cache,La(t,Vt,l),l!==c.cache&&vf(t,[Vt],i,!0))),cn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function sa(e){e.flags|=4}function rh(e,t,i,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw Yr=Tu,Ef}else e.flags&=-16777217}function Xm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cg(t))if(Sy())e.flags|=8192;else throw Yr=Tu,Ef}function Hu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?iu():536870912,e.lanes|=t,Vl|=t)}function eo(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Cb(e,t,i){var l=t.pendingProps;switch(df(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ia(Vt),me(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ol(t)?sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mf())),Tt(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(sa(t),h!==null?(Tt(t),Xm(t,h)):(Tt(t),rh(t,c,null,l,i))):h?h!==e.memoizedState?(sa(t),Tt(t),Xm(t,h)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&sa(t),Tt(t),rh(t,c,e,l,i)),null;case 27:if(Ui(t),i=ze.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&sa(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Tt(t),null}e=be.current,Ol(t)?Np(t):(e=ng(c,l,i),t.stateNode=e,sa(t))}return Tt(t),null;case 5:if(Ui(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&sa(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Tt(t),null}if(h=be.current,Ol(t))Np(t);else{var g=nc(ze.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[gt]=t,h[Bt]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=h;e:switch(fn(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sa(t)}}return Tt(t),rh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&sa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=ze.current,Ol(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,c=on,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[gt]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Gy(e.nodeValue,i)),e||Ua(t,!0)}else e=nc(e).createTextNode(l),e[gt]=t,t.stateNode=e}return Tt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ol(t),i!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[gt]=t}else Lr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else i=mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Yn(t),t):(Yn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Tt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ol(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[gt]=t}else Lr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),c=!1}else c=mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Yn(t),t):(Yn(t),null)}return Yn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Hu(t,t.updateQueue),Tt(t),null);case 4:return me(),e===null&&xh(t.stateNode.containerInfo),Tt(t),null;case 10:return ia(t.type),Tt(t),null;case 19:if(ie(kt),l=t.memoizedState,l===null)return Tt(t),null;if(c=(t.flags&128)!==0,h=l.rendering,h===null)if(c)eo(l,!1);else{if(Ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Nu(e),h!==null){for(t.flags|=128,eo(l,!1),e=h.updateQueue,t.updateQueue=e,Hu(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Cp(i,e),i=i.sibling;return he(kt,kt.current&1|2),Ze&&ta(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&yn()>Qu&&(t.flags|=128,c=!0,eo(l,!1),t.lanes=4194304)}else{if(!c)if(e=Nu(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Hu(t,e),eo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ze)return Tt(t),null}else 2*yn()-l.renderingStartTime>Qu&&i!==536870912&&(t.flags|=128,c=!0,eo(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=yn(),e.sibling=null,i=kt.current,he(kt,c?i&1|2:i&1),Ze&&ta(t,l.treeForkCount),e):(Tt(t),null);case 22:case 23:return Yn(t),Nf(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),i=t.updateQueue,i!==null&&Hu(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&ie(Kr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ia(Vt),Tt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Tb(e,t){switch(df(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(Vt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ui(t),null;case 31:if(t.memoizedState!==null){if(Yn(t),t.alternate===null)throw Error(s(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(kt),null;case 4:return me(),null;case 10:return ia(t.type),null;case 22:case 23:return Yn(t),Nf(),e!==null&&ie(Kr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(Vt),null;case 25:return null;default:return null}}function Zm(e,t){switch(df(t),t.tag){case 3:ia(Vt),me();break;case 26:case 27:case 5:Ui(t);break;case 4:me();break;case 31:t.memoizedState!==null&&Yn(t);break;case 13:Yn(t);break;case 19:ie(kt);break;case 10:ia(t.type);break;case 22:case 23:Yn(t),Nf(),e!==null&&ie(Kr);break;case 24:ia(Vt)}}function to(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var h=i.create,g=i.inst;l=h(),g.destroy=l}i=i.next}while(i!==c)}}catch(C){st(t,t.return,C)}}function Ga(e,t,i){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var g=l.inst,C=g.destroy;if(C!==void 0){g.destroy=void 0,c=t;var N=i,G=C;try{G()}catch(J){st(c,N,J)}}}l=l.next}while(l!==h)}}catch(J){st(t,t.return,J)}}function Jm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Hp(t,i)}catch(l){st(e,e.return,l)}}}function Wm(e,t,i){i.props=Fr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){st(e,t,l)}}function no(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){st(e,t,c)}}function Bi(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){st(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){st(e,t,c)}else i.current=null}function $m(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){st(e,e.return,c)}}function lh(e,t,i){try{var l=e.stateNode;Qb(l,e.type,i,t),l[Bt]=t}catch(c){st(e,e.return,c)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wa(e.type)||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oh(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Rn));else if(l!==4&&(l===27&&Wa(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(oh(e,t,i),e=e.sibling;e!==null;)oh(e,t,i),e=e.sibling}function Ku(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&Wa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ku(e,t,i),e=e.sibling;e!==null;)Ku(e,t,i),e=e.sibling}function ty(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);fn(t,l,i),t[gt]=e,t[Bt]=i}catch(h){st(e,e.return,h)}}var oa=!1,Qt=!1,uh=!1,ny=typeof WeakSet=="function"?WeakSet:Set,en=null;function wb(e,t){if(e=e.containerInfo,Oh=uc,e=v(e),b(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,C=-1,N=-1,G=0,J=0,ne=e,F=null;t:for(;;){for(var P;ne!==i||c!==0&&ne.nodeType!==3||(C=g+c),ne!==h||l!==0&&ne.nodeType!==3||(N=g+l),ne.nodeType===3&&(g+=ne.nodeValue.length),(P=ne.firstChild)!==null;)F=ne,ne=P;for(;;){if(ne===e)break t;if(F===i&&++G===c&&(C=g),F===h&&++J===l&&(N=g),(P=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=P}i=C===-1||N===-1?null:{start:C,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(Rh={focusedElem:e,selectionRange:i},uc=!1,en=t;en!==null;)if(t=en,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,en=e;else for(;en!==null;){switch(t=en,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=t,c=h.memoizedProps,h=h.memoizedState,l=i.stateNode;try{var Se=Fr(i.type,c);e=l.getSnapshotBeforeUpdate(Se,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(De){st(i,i.return,De)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)zh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,en=e;break}en=t.return}}function iy(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ca(e,i),l&4&&to(5,i);break;case 1:if(ca(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){st(i,i.return,g)}else{var c=Fr(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){st(i,i.return,g)}}l&64&&Jm(i),l&512&&no(i,i.return);break;case 3:if(ca(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Hp(e,t)}catch(g){st(i,i.return,g)}}break;case 27:t===null&&l&4&&ty(i);case 26:case 5:ca(e,i),t===null&&l&4&&$m(i),l&512&&no(i,i.return);break;case 12:ca(e,i);break;case 31:ca(e,i),l&4&&ly(e,i);break;case 13:ca(e,i),l&4&&sy(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=zb.bind(null,i),e0(e,i))));break;case 22:if(l=i.memoizedState!==null||oa,!l){t=t!==null&&t.memoizedState!==null||Qt,c=oa;var h=Qt;oa=l,(Qt=t)&&!h?fa(e,i,(i.subtreeFlags&8772)!==0):ca(e,i),oa=c,Qt=h}break;case 30:break;default:ca(e,i)}}function ay(e){var t=e.alternate;t!==null&&(e.alternate=null,ay(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ol(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,jn=!1;function ua(e,t,i){for(i=i.child;i!==null;)ry(e,t,i),i=i.sibling}function ry(e,t,i){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ci,i)}catch{}switch(i.tag){case 26:Qt||Bi(i,t),ua(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Qt||Bi(i,t);var l=xt,c=jn;Wa(i.type)&&(xt=i.stateNode,jn=!1),ua(e,t,i),fo(i.stateNode),xt=l,jn=c;break;case 5:Qt||Bi(i,t);case 6:if(l=xt,c=jn,xt=null,ua(e,t,i),xt=l,jn=c,xt!==null)if(jn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(i.stateNode)}catch(h){st(i,t,h)}else try{xt.removeChild(i.stateNode)}catch(h){st(i,t,h)}break;case 18:xt!==null&&(jn?(e=xt,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Jl(e)):Jy(xt,i.stateNode));break;case 4:l=xt,c=jn,xt=i.stateNode.containerInfo,jn=!0,ua(e,t,i),xt=l,jn=c;break;case 0:case 11:case 14:case 15:Ga(2,i,t),Qt||Ga(4,i,t),ua(e,t,i);break;case 1:Qt||(Bi(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Wm(i,t,l)),ua(e,t,i);break;case 21:ua(e,t,i);break;case 22:Qt=(l=Qt)||i.memoizedState!==null,ua(e,t,i),Qt=l;break;default:ua(e,t,i)}}function ly(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(i){st(t,t.return,i)}}}function sy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(i){st(t,t.return,i)}}function Ab(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ny),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ny),t;default:throw Error(s(435,e.tag))}}function Vu(e,t){var i=Ab(e);t.forEach(function(l){if(!i.has(l)){i.add(l);var c=Bb.bind(null,e,l);l.then(c,c)}})}function zn(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],h=e,g=t,C=g;e:for(;C!==null;){switch(C.tag){case 27:if(Wa(C.type)){xt=C.stateNode,jn=!1;break e}break;case 5:xt=C.stateNode,jn=!1;break e;case 3:case 4:xt=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(xt===null)throw Error(s(160));ry(h,g,c),xt=null,jn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)oy(t,e),t=t.sibling}var pi=null;function oy(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zn(t,e),Bn(e),l&4&&(Ga(3,e,e.return),to(3,e),Ga(5,e,e.return));break;case 1:zn(t,e),Bn(e),l&512&&(Qt||i===null||Bi(i,i.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=pi;if(zn(t,e),Bn(e),l&512&&(Qt||i===null||Bi(i,i.return)),l&4){var h=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ln]||h[gt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),fn(h,l,i),h[gt]=e,It(h),l=h;break e;case"link":var g=og("link","href",c).get(l+(i.href||""));if(g){for(var C=0;C<g.length;C++)if(h=g[C],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(C,1);break t}}h=c.createElement(l),fn(h,l,i),c.head.appendChild(h);break;case"meta":if(g=og("meta","content",c).get(l+(i.content||""))){for(C=0;C<g.length;C++)if(h=g[C],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(C,1);break t}}h=c.createElement(l),fn(h,l,i),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[gt]=e,It(h),l=h}e.stateNode=l}else ug(c,e.type,e.stateNode);else e.stateNode=sg(c,l,e.memoizedProps);else h!==l?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,l===null?ug(c,e.type,e.stateNode):sg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&lh(e,e.memoizedProps,i.memoizedProps)}break;case 27:zn(t,e),Bn(e),l&512&&(Qt||i===null||Bi(i,i.return)),i!==null&&l&4&&lh(e,e.memoizedProps,i.memoizedProps);break;case 5:if(zn(t,e),Bn(e),l&512&&(Qt||i===null||Bi(i,i.return)),e.flags&32){c=e.stateNode;try{Gi(c,"")}catch(Se){st(e,e.return,Se)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,lh(e,c,i!==null?i.memoizedProps:c)),l&1024&&(uh=!0);break;case 6:if(zn(t,e),Bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(Se){st(e,e.return,Se)}}break;case 3:if(rc=null,c=pi,pi=ic(t.containerInfo),zn(t,e),pi=c,Bn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(Se){st(e,e.return,Se)}uh&&(uh=!1,uy(e));break;case 4:l=pi,pi=ic(e.stateNode.containerInfo),zn(t,e),Bn(e),pi=l;break;case 12:zn(t,e),Bn(e);break;case 31:zn(t,e),Bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vu(e,l)));break;case 13:zn(t,e),Bn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Gu=yn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vu(e,l)));break;case 22:c=e.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,G=oa,J=Qt;if(oa=G||c,Qt=J||N,zn(t,e),Qt=J,oa=G,Bn(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||N||oa||Qt||Pr(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){N=i=t;try{if(h=N.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{C=N.stateNode;var ne=N.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;C.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Se){st(N,N.return,Se)}}}else if(t.tag===6){if(i===null){N=t;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(Se){st(N,N.return,Se)}}}else if(t.tag===18){if(i===null){N=t;try{var P=N.stateNode;c?Wy(P,!0):Wy(N.stateNode,!1)}catch(Se){st(N,N.return,Se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Vu(e,i))));break;case 19:zn(t,e),Bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vu(e,l)));break;case 30:break;case 21:break;default:zn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(ey(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,h=sh(e);Ku(e,h,c);break;case 5:var g=i.stateNode;i.flags&32&&(Gi(g,""),i.flags&=-33);var C=sh(e);Ku(e,C,g);break;case 3:case 4:var N=i.stateNode.containerInfo,G=sh(e);oh(e,G,N);break;default:throw Error(s(161))}}catch(J){st(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;uy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)iy(e,t.alternate,t),t=t.sibling}function Pr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ga(4,t,t.return),Pr(t);break;case 1:Bi(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Wm(t,t.return,i),Pr(t);break;case 27:fo(t.stateNode);case 26:case 5:Bi(t,t.return),Pr(t);break;case 22:t.memoizedState===null&&Pr(t);break;case 30:Pr(t);break;default:Pr(t)}e=e.sibling}}function fa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,h=t,g=h.flags;switch(h.tag){case 0:case 11:case 15:fa(c,h,i),to(4,h);break;case 1:if(fa(c,h,i),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(G){st(l,l.return,G)}if(l=h,c=l.updateQueue,c!==null){var C=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)qp(N[c],C)}catch(G){st(l,l.return,G)}}i&&g&64&&Jm(h),no(h,h.return);break;case 27:ty(h);case 26:case 5:fa(c,h,i),i&&l===null&&g&4&&$m(h),no(h,h.return);break;case 12:fa(c,h,i);break;case 31:fa(c,h,i),i&&g&4&&ly(c,h);break;case 13:fa(c,h,i),i&&g&4&&sy(c,h);break;case 22:h.memoizedState===null&&fa(c,h,i),no(h,h.return);break;case 30:break;default:fa(c,h,i)}t=t.sibling}}function ch(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ks(i))}function fh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e))}function mi(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cy(e,t,i,l),t=t.sibling}function cy(e,t,i,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:mi(e,t,i,l),c&2048&&to(9,t);break;case 1:mi(e,t,i,l);break;case 3:mi(e,t,i,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e)));break;case 12:if(c&2048){mi(e,t,i,l),e=t.stateNode;try{var h=t.memoizedProps,g=h.id,C=h.onPostCommit;typeof C=="function"&&C(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){st(t,t.return,N)}}else mi(e,t,i,l);break;case 31:mi(e,t,i,l);break;case 13:mi(e,t,i,l);break;case 23:break;case 22:h=t.stateNode,g=t.alternate,t.memoizedState!==null?h._visibility&2?mi(e,t,i,l):io(e,t):h._visibility&2?mi(e,t,i,l):(h._visibility|=2,ql(e,t,i,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&ch(g,t);break;case 24:mi(e,t,i,l),c&2048&&fh(t.alternate,t);break;default:mi(e,t,i,l)}}function ql(e,t,i,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,g=t,C=i,N=l,G=g.flags;switch(g.tag){case 0:case 11:case 15:ql(h,g,C,N,c),to(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&2?ql(h,g,C,N,c):io(h,g):(J._visibility|=2,ql(h,g,C,N,c)),c&&G&2048&&ch(g.alternate,g);break;case 24:ql(h,g,C,N,c),c&&G&2048&&fh(g.alternate,g);break;default:ql(h,g,C,N,c)}t=t.sibling}}function io(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,c=l.flags;switch(l.tag){case 22:io(i,l),c&2048&&ch(l.alternate,l);break;case 24:io(i,l),c&2048&&fh(l.alternate,l);break;default:io(i,l)}t=t.sibling}}var ao=8192;function Hl(e,t,i){if(e.subtreeFlags&ao)for(e=e.child;e!==null;)fy(e,t,i),e=e.sibling}function fy(e,t,i){switch(e.tag){case 26:Hl(e,t,i),e.flags&ao&&e.memoizedState!==null&&h0(i,pi,e.memoizedState,e.memoizedProps);break;case 5:Hl(e,t,i);break;case 3:case 4:var l=pi;pi=ic(e.stateNode.containerInfo),Hl(e,t,i),pi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ao,ao=16777216,Hl(e,t,i),ao=l):Hl(e,t,i));break;default:Hl(e,t,i)}}function hy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ro(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];en=l,py(l,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:ro(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:ro(e);break;case 12:ro(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yu(e)):ro(e);break;default:ro(e)}}function Yu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];en=l,py(l,e)}hy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ga(8,t,t.return),Yu(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Yu(t));break;default:Yu(t)}e=e.sibling}}function py(e,t){for(;en!==null;){var i=en;switch(i.tag){case 0:case 11:case 15:Ga(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,en=l;else e:for(i=e;en!==null;){l=en;var c=l.sibling,h=l.return;if(ay(l),l===i){en=null;break e}if(c!==null){c.return=h,en=c;break e}en=h}}}var xb={getCacheForType:function(e){var t=un(Vt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return un(Vt).controller.signal}},Nb=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,Ve=null,Ge=0,lt=0,Gn=null,Qa=!1,Kl=!1,hh=!1,ha=0,Ot=0,Fa=0,Xr=0,dh=0,Qn=0,Vl=0,lo=null,In=null,ph=!1,Gu=0,my=0,Qu=1/0,Fu=null,Pa=null,Ft=0,Xa=null,Yl=null,da=0,mh=0,yh=null,yy=null,so=0,gh=null;function Fn(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:Z.T!==null?Ch():Er()}function gy(){if(Qn===0)if((Ge&536870912)===0||Ze){var e=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),Qn=e}else Qn=536870912;return e=Vn.current,e!==null&&(e.flags|=32),Qn}function kn(e,t,i){(e===pt&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(Gl(e,0),Za(e,Ge,Qn,!1)),Pn(e,i),((rt&2)===0||e!==pt)&&(e===pt&&((rt&2)===0&&(Xr|=i),Ot===4&&Za(e,Ge,Qn,!1)),Ii(e))}function vy(e,t,i){if((rt&6)!==0)throw Error(s(327));var l=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Ki(e,t),c=l?Rb(e,t):_h(e,t,!0),h=l;do{if(c===0){Kl&&!l&&Za(e,t,0,!1);break}else{if(i=e.current.alternate,h&&!Db(i)){c=_h(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var C=e;c=lo;var N=C.current.memoizedState.isDehydrated;if(N&&(Gl(C,g).flags|=256),g=_h(C,g,!1),g!==2){if(hh&&!N){C.errorRecoveryDisabledLanes|=h,Xr|=h,c=4;break e}h=In,In=c,h!==null&&(In===null?In=h:In.push.apply(In,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Gl(e,0),Za(e,t,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Za(l,t,Qn,!Qa);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Gu+300-yn(),10<c)){if(Za(l,t,Qn,!Qa),br(l,0,!0)!==0)break e;da=t,l.timeoutHandle=Xy(_y.bind(null,l,i,In,Fu,ph,t,Qn,Xr,Vl,Qa,h,"Throttled",-0,0),c);break e}_y(l,i,In,Fu,ph,t,Qn,Xr,Vl,Qa,h,null,-0,0)}}break}while(!0);Ii(e)}function _y(e,t,i,l,c,h,g,C,N,G,J,ne,F,P){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},fy(t,h,ne);var Se=(h&62914560)===h?Gu-yn():(h&4194048)===h?my-yn():0;if(Se=d0(ne,Se),Se!==null){da=h,e.cancelPendingCommit=Se(xy.bind(null,e,t,h,i,l,c,g,C,N,J,ne,null,F,P)),Za(e,h,g,!G);return}}xy(e,t,h,i,l,c,g,C,N)}function Db(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],h=c.getSnapshot;c=c.value;try{if(!_n(h(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,i,l){t&=~dh,t&=~Xr,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var h=31-ye(c),g=1<<h;l[h]=-1,c&=~g}i!==0&&Sr(e,i,t)}function Pu(){return(rt&6)===0?(oo(0),!1):!0}function vh(){if(Ve!==null){if(lt===0)var e=Ve.return;else e=Ve,na=qr=null,zf(e),Bl=null,Ys=0,e=Ve;for(;e!==null;)Zm(e.alternate,e),e=e.return;Ve=null}}function Gl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Xb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),da=0,vh(),pt=e,Ve=i=ea(e.current,null),Ge=t,lt=0,Gn=null,Qa=!1,Kl=Ki(e,t),hh=!1,Vl=Qn=dh=Xr=Fa=Ot=0,In=lo=null,ph=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ye(l),h=1<<c;t|=e[c],l&=~h}return ha=t,$t(),i}function by(e,t){ke=null,Z.H=Ws,t===zl||t===Cu?(t=Ip(),lt=3):t===Ef?(t=Ip(),lt=4):lt=t===Zf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gn=t,Ve===null&&(Ot=1,ku(e,$n(t,e.current)))}function Sy(){var e=Vn.current;return e===null?!0:(Ge&4194048)===Ge?ii===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===ii:!1}function Ey(){var e=Z.H;return Z.H=Ws,e===null?Ws:e}function Cy(){var e=Z.A;return Z.A=xb,e}function Xu(){Ot=4,Qa||(Ge&4194048)!==Ge&&Vn.current!==null||(Kl=!0),(Fa&134217727)===0&&(Xr&134217727)===0||pt===null||Za(pt,Ge,Qn,!1)}function _h(e,t,i){var l=rt;rt|=2;var c=Ey(),h=Cy();(pt!==e||Ge!==t)&&(Fu=null,Gl(e,t)),t=!1;var g=Ot;e:do try{if(lt!==0&&Ve!==null){var C=Ve,N=Gn;switch(lt){case 8:vh(),g=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(t=!0);var G=lt;if(lt=0,Gn=null,Ql(e,C,N,G),i&&Kl){g=0;break e}break;default:G=lt,lt=0,Gn=null,Ql(e,C,N,G)}}Ob(),g=Ot;break}catch(J){by(e,J)}while(!0);return t&&e.shellSuspendCounter++,na=qr=null,rt=l,Z.H=c,Z.A=h,Ve===null&&(pt=null,Ge=0,$t()),g}function Ob(){for(;Ve!==null;)Ty(Ve)}function Rb(e,t){var i=rt;rt|=2;var l=Ey(),c=Cy();pt!==e||Ge!==t?(Fu=null,Qu=yn()+500,Gl(e,t)):Kl=Ki(e,t);e:do try{if(lt!==0&&Ve!==null){t=Ve;var h=Gn;t:switch(lt){case 1:lt=0,Gn=null,Ql(e,t,h,1);break;case 2:case 9:if(zp(h)){lt=0,Gn=null,wy(t);break}t=function(){lt!==2&&lt!==9||pt!==e||(lt=7),Ii(e)},h.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:zp(h)?(lt=0,Gn=null,wy(t)):(lt=0,Gn=null,Ql(e,t,h,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var C=Ve;if(g?cg(g):C.stateNode.complete){lt=0,Gn=null;var N=C.sibling;if(N!==null)Ve=N;else{var G=C.return;G!==null?(Ve=G,Zu(G)):Ve=null}break t}}lt=0,Gn=null,Ql(e,t,h,5);break;case 6:lt=0,Gn=null,Ql(e,t,h,6);break;case 8:vh(),Ot=6;break e;default:throw Error(s(462))}}Mb();break}catch(J){by(e,J)}while(!0);return na=qr=null,Z.H=l,Z.A=c,rt=i,Ve!==null?0:(pt=null,Ge=0,$t(),Ot)}function Mb(){for(;Ve!==null&&!nu();)Ty(Ve)}function Ty(e){var t=Pm(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?Zu(e):Ve=t}function wy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Km(i,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=Km(i,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:zf(t);default:Zm(i,t),t=Ve=Cp(t,ha),t=Pm(i,t,ha)}e.memoizedProps=e.pendingProps,t===null?Zu(e):Ve=t}function Ql(e,t,i,l){na=qr=null,zf(t),Bl=null,Ys=0;var c=t.return;try{if(bb(e,c,t,i,Ge)){Ot=1,ku(e,$n(i,e.current)),Ve=null;return}}catch(h){if(c!==null)throw Ve=c,h;Ot=1,ku(e,$n(i,e.current)),Ve=null;return}t.flags&32768?(Ze||l===1?e=!0:Kl||(Ge&536870912)!==0?e=!1:(Qa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ay(t,e)):Zu(t)}function Zu(e){var t=e;do{if((t.flags&32768)!==0){Ay(t,Qa);return}e=t.return;var i=Cb(t.alternate,t,ha);if(i!==null){Ve=i;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ot===0&&(Ot=5)}function Ay(e,t){do{var i=Tb(e.alternate,e);if(i!==null){i.flags&=32767,Ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=i}while(e!==null);Ot=6,Ve=null}function xy(e,t,i,l,c,h,g,C,N){e.cancelPendingCommit=null;do Ju();while(Ft!==0);if((rt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(h=t.lanes|t.childLanes,h|=Ie,gs(e,i,h,g,C,N),e===pt&&(Ve=pt=null,Ge=0),Yl=t,Xa=e,da=i,mh=h,yh=c,yy=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(Ea,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,c=pe.p,pe.p=2,g=rt,rt|=4;try{wb(e,t,i)}finally{rt=g,pe.p=c,Z.T=l}}Ft=1,Ny(),Dy(),Oy()}}function Ny(){if(Ft===1){Ft=0;var e=Xa,t=Yl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=Z.T,Z.T=null;var l=pe.p;pe.p=2;var c=rt;rt|=4;try{oy(t,e);var h=Rh,g=v(e.containerInfo),C=h.focusedElem,N=h.selectionRange;if(g!==C&&C&&C.ownerDocument&&y(C.ownerDocument.documentElement,C)){if(N!==null&&b(C)){var G=N.start,J=N.end;if(J===void 0&&(J=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(J,C.value.length);else{var ne=C.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var P=F.getSelection(),Se=C.textContent.length,De=Math.min(N.start,Se),ht=N.end===void 0?De:Math.min(N.end,Se);!P.extend&&De>ht&&(g=ht,ht=De,De=g);var K=p(C,De),j=p(C,ht);if(K&&j&&(P.rangeCount!==1||P.anchorNode!==K.node||P.anchorOffset!==K.offset||P.focusNode!==j.node||P.focusOffset!==j.offset)){var Y=ne.createRange();Y.setStart(K.node,K.offset),P.removeAllRanges(),De>ht?(P.addRange(Y),P.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),P.addRange(Y))}}}}for(ne=[],P=C;P=P.parentNode;)P.nodeType===1&&ne.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ne.length;C++){var W=ne[C];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}uc=!!Oh,Rh=Oh=null}finally{rt=c,pe.p=l,Z.T=i}}e.current=t,Ft=2}}function Dy(){if(Ft===2){Ft=0;var e=Xa,t=Yl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=Z.T,Z.T=null;var l=pe.p;pe.p=2;var c=rt;rt|=4;try{iy(e,t.alternate,t)}finally{rt=c,pe.p=l,Z.T=i}}Ft=3}}function Oy(){if(Ft===4||Ft===3){Ft=0,mr();var e=Xa,t=Yl,i=da,l=yy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ft=5:(Ft=0,Yl=Xa=null,Ry(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Pa=null),Ta(i),t=t.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Z.T,c=pe.p,pe.p=2,Z.T=null;try{for(var h=e.onRecoverableError,g=0;g<l.length;g++){var C=l[g];h(C.value,{componentStack:C.stack})}}finally{Z.T=t,pe.p=c}}(da&3)!==0&&Ju(),Ii(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===gh?so++:(so=0,gh=e):so=0,oo(0)}}function Ry(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ks(t)))}function Ju(){return Ny(),Dy(),Oy(),My()}function My(){if(Ft!==5)return!1;var e=Xa,t=mh;mh=0;var i=Ta(da),l=Z.T,c=pe.p;try{pe.p=32>i?32:i,Z.T=null,i=yh,yh=null;var h=Xa,g=da;if(Ft=0,Yl=Xa=null,da=0,(rt&6)!==0)throw Error(s(331));var C=rt;if(rt|=4,dy(h.current),cy(h,h.current,g,i),rt=C,oo(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ci,h)}catch{}return!0}finally{pe.p=c,Z.T=l,Ry(e,t)}}function jy(e,t,i){t=$n(i,t),t=Xf(e.stateNode,t,2),e=Ka(e,t,2),e!==null&&(Pn(e,2),Ii(e))}function st(e,t,i){if(e.tag===3)jy(e,e,i);else for(;t!==null;){if(t.tag===3){jy(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pa===null||!Pa.has(l))){e=$n(i,e),i=zm(2),l=Ka(t,i,2),l!==null&&(Bm(i,l,t,e),Pn(l,2),Ii(l));break}}t=t.return}}function bh(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Nb;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(i)||(hh=!0,c.add(i),e=jb.bind(null,e,t,i),t.then(e,e))}function jb(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,pt===e&&(Ge&i)===i&&(Ot===4||Ot===3&&(Ge&62914560)===Ge&&300>yn()-Gu?(rt&2)===0&&Gl(e,0):dh|=i,Vl===Ge&&(Vl=0)),Ii(e)}function zy(e,t){t===0&&(t=iu()),e=At(e,t),e!==null&&(Pn(e,t),Ii(e))}function zb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),zy(e,i)}function Bb(e,t){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),zy(e,i)}function Ib(e,t){return pr(e,t)}var Wu=null,Fl=null,Sh=!1,$u=!1,Eh=!1,Ja=0;function Ii(e){e!==Fl&&e.next===null&&(Fl===null?Wu=Fl=e:Fl=Fl.next=e),$u=!0,Sh||(Sh=!0,Ub())}function oo(e,t){if(!Eh&&$u){Eh=!0;do for(var i=!1,l=Wu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,C=l.pingedLanes;h=(1<<31-ye(42|e)+1)-1,h&=c&~(g&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Uy(l,h))}else h=Ge,h=br(l,l===pt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ki(l,h)||(i=!0,Uy(l,h));l=l.next}while(i);Eh=!1}}function kb(){By()}function By(){$u=Sh=!1;var e=0;Ja!==0&&Pb()&&(e=Ja);for(var t=yn(),i=null,l=Wu;l!==null;){var c=l.next,h=Iy(l,t);h===0?(l.next=null,i===null?Wu=c:i.next=c,c===null&&(Fl=i)):(i=l,(e!==0||(h&3)!==0)&&($u=!0)),l=c}Ft!==0&&Ft!==5||oo(e),Ja!==0&&(Ja=0)}function Iy(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-ye(h),C=1<<g,N=c[g];N===-1?((C&i)===0||(C&l)!==0)&&(c[g]=$c(C,t)):N<=t&&(e.expiredLanes|=C),h&=~C}if(t=pt,i=Ge,i=br(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&On(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ki(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&On(l),Ta(i)){case 2:case 8:i=Ei;break;case 32:i=Ea;break;case 268435456:i=rl;break;default:i=Ea}return l=ky.bind(null,e),i=pr(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&On(l),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ju()&&e.callbackNode!==i)return null;var l=Ge;return l=br(e,e===pt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(vy(e,l,t),Iy(e,yn()),e.callbackNode!=null&&e.callbackNode===i?ky.bind(null,e):null)}function Uy(e,t){if(Ju())return null;vy(e,t,!0)}function Ub(){Zb(function(){(rt&6)!==0?pr(Si,kb):By()})}function Ch(){if(Ja===0){var e=Ml;e===0&&(e=de,de<<=1,(de&261888)===0&&(de=256)),Ja=e}return Ja}function Ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:di(""+e)}function qy(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Lb(e,t,i,l,c){if(t==="submit"&&i&&i.stateNode===c){var h=Ly((c[Bt]||null).action),g=l.submitter;g&&(t=(t=g[Bt]||null)?Ly(t.formAction):g.getAttribute("formAction"),t!==null&&(h=t,g=null));var C=new dl("action","action",null,l,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ja!==0){var N=g?qy(c,g):new FormData(c);Vf(i,{pending:!0,data:N,method:c.method,action:h},null,N)}}else typeof h=="function"&&(C.preventDefault(),N=g?qy(c,g):new FormData(c),Vf(i,{pending:!0,data:N,method:c.method,action:h},h,N))},currentTarget:c}]})}}for(var Th=0;Th<ue.length;Th++){var wh=ue[Th],qb=wh.toLowerCase(),Hb=wh[0].toUpperCase()+wh.slice(1);re(qb,"on"+Hb)}re(V,"onAnimationEnd"),re(Q,"onAnimationIteration"),re(X,"onAnimationStart"),re("dblclick","onDoubleClick"),re("focusin","onFocus"),re("focusout","onBlur"),re(te,"onTransitionRun"),re(le,"onTransitionStart"),re(ce,"onTransitionCancel"),re(ae,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Hy(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var g=l.length-1;0<=g;g--){var C=l[g],N=C.instance,G=C.currentTarget;if(C=C.listener,N!==h&&c.isPropagationStopped())break e;h=C,c.currentTarget=G;try{h(c)}catch(J){ge(J)}c.currentTarget=null,h=N}else for(g=0;g<l.length;g++){if(C=l[g],N=C.instance,G=C.currentTarget,C=C.listener,N!==h&&c.isPropagationStopped())break e;h=C,c.currentTarget=G;try{h(c)}catch(J){ge(J)}c.currentTarget=null,h=N}}}}function Ye(e,t){var i=t[wa];i===void 0&&(i=t[wa]=new Set);var l=e+"__bubble";i.has(l)||(Ky(t,e,2,!1),i.add(l))}function Ah(e,t,i){var l=0;t&&(l|=4),Ky(i,e,l,t)}var ec="_reactListening"+Math.random().toString(36).slice(2);function xh(e){if(!e[ec]){e[ec]=!0,Vi.forEach(function(i){i!=="selectionchange"&&(Kb.has(i)||Ah(i,!1,e),Ah(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ec]||(t[ec]=!0,Ah("selectionchange",!1,t))}}function Ky(e,t,i,l){switch(gg(t)){case 2:var c=y0;break;case 8:c=g0;break;default:c=Kh}i=c.bind(null,t,i,e),c=void 0,!ws||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Nh(e,t,i,l,c){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var C=l.stateNode.containerInfo;if(C===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;C!==null;){if(g=xi(C),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=h=g;continue e}C=C.parentNode}}l=l.return}xa(function(){var G=h,J=fl(i),ne=[];e:{var F=oe.get(e);if(F!==void 0){var P=dl,Se=e;switch(e){case"keypress":if(Oa(i)===0)break e;case"keydown":case"keyup":P=bl;break;case"focusin":Se="focus",P=Ra;break;case"focusout":Se="blur",P=Ra;break;case"beforeblur":case"afterblur":P=Ra;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Ms;break;case V:case Q:case X:P=ou;break;case ae:P=js;break;case"scroll":case"scrollend":P=pl;break;case"wheel":P=El;break;case"copy":case"cut":case"paste":P=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Rs;break;case"toggle":case"beforetoggle":P=fu}var De=(t&4)!==0,ht=!De&&(e==="scroll"||e==="scrollend"),K=De?F!==null?F+"Capture":null:F;De=[];for(var j=G,Y;j!==null;){var W=j;if(Y=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||Y===null||K===null||(W=Pi(j,K),W!=null&&De.push(co(j,W,Y))),ht)break;j=j.return}0<De.length&&(F=new P(F,Se,null,i,J),ne.push({event:F,listeners:De}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",F&&i!==Zn&&(Se=i.relatedTarget||i.fromElement)&&(xi(Se)||Se[Tn]))break e;if((P||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,P?(Se=i.relatedTarget||i.toElement,P=G,Se=Se?xi(Se):null,Se!==null&&(ht=d(Se),De=Se.tag,Se!==ht||De!==5&&De!==27&&De!==6)&&(Se=null)):(P=null,Se=G),P!==Se)){if(De=yl,W="onMouseLeave",K="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(De=Rs,W="onPointerLeave",K="onPointerEnter",j="pointer"),ht=P==null?F:qn(P),Y=Se==null?F:qn(Se),F=new De(W,j+"leave",P,i,J),F.target=ht,F.relatedTarget=Y,W=null,xi(J)===G&&(De=new De(K,j+"enter",Se,i,J),De.target=Y,De.relatedTarget=ht,W=De),ht=W,P&&Se)t:{for(De=Vb,K=P,j=Se,Y=0,W=K;W;W=De(W))Y++;W=0;for(var xe=j;xe;xe=De(xe))W++;for(;0<Y-W;)K=De(K),Y--;for(;0<W-Y;)j=De(j),W--;for(;Y--;){if(K===j||j!==null&&K===j.alternate){De=K;break t}K=De(K),j=De(j)}De=null}else De=null;P!==null&&Vy(ne,F,P,De,!1),Se!==null&&ht!==null&&Vy(ne,ht,Se,De,!0)}}e:{if(F=G?qn(G):window,P=F.nodeName&&F.nodeName.toLowerCase(),P==="select"||P==="input"&&F.type==="file")var et=Ir;else if(wl(F))if(Wn)et=Ba;else{et=$i;var Ce=gu}else P=F.nodeName,!P||P.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?G&&Ts(G.elementType)&&(et=Ir):et=Us;if(et&&(et=et(e,G))){ks(ne,et,i,J);break e}Ce&&Ce(e,F,G),e==="focusout"&&G&&F.type==="number"&&G.memoizedProps.value!=null&&Nr(F,"number",F.value)}switch(Ce=G?qn(G):window,e){case"focusin":(wl(Ce)||Ce.contentEditable==="true")&&(A=Ce,O=G,R=null);break;case"focusout":R=O=A=null;break;case"mousedown":L=!0;break;case"contextmenu":case"mouseup":case"dragend":L=!1,D(ne,i,J);break;case"selectionchange":if(T)break;case"keydown":case"keyup":D(ne,i,J)}var Ue;if(zr)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Wi?Is(e,i)&&(Qe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Qe="onCompositionStart");Qe&&(Cl&&i.locale!=="ko"&&(Wi||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Wi&&(Ue=Da()):(Jn=J,hl="value"in Jn?Jn.value:Jn.textContent,Wi=!0)),Ce=tc(G,Qe),0<Ce.length&&(Qe=new _l(Qe,e,null,i,J),ne.push({event:Qe,listeners:Ce}),Ue?Qe.data=Ue:(Ue=du(i),Ue!==null&&(Qe.data=Ue)))),(Ue=lf?pu(e,i):sf(e,i))&&(Qe=tc(G,"onBeforeInput"),0<Qe.length&&(Ce=new _l("onBeforeInput","beforeinput",null,i,J),ne.push({event:Ce,listeners:Qe}),Ce.data=Ue)),Lb(ne,e,G,i,J)}Hy(ne,t)})}function co(e,t,i){return{instance:e,listener:t,currentTarget:i}}function tc(e,t){for(var i=t+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Pi(e,i),c!=null&&l.unshift(co(e,c,h)),c=Pi(e,t),c!=null&&l.push(co(e,c,h))),e.tag===3)return l;e=e.return}return[]}function Vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,t,i,l,c){for(var h=t._reactName,g=[];i!==null&&i!==l;){var C=i,N=C.alternate,G=C.stateNode;if(C=C.tag,N!==null&&N===l)break;C!==5&&C!==26&&C!==27||G===null||(N=G,c?(G=Pi(i,h),G!=null&&g.unshift(co(i,G,N))):c||(G=Pi(i,h),G!=null&&g.push(co(i,G,N)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Yb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(Yb,`
`).replace(Gb,"")}function Gy(e,t){return t=Yy(t),Yy(e)===t}function ft(e,t,i,l,c,h){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Gi(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Gi(e,""+l);break;case"className":Ar(e,"class",l);break;case"tabIndex":Ar(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,i,l);break;case"style":Cs(e,l,h);break;case"data":if(t!=="object"){Ar(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=di(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(t!=="input"&&ft(e,t,"name",c.name,c,null),ft(e,t,"formEncType",c.formEncType,c,null),ft(e,t,"formMethod",c.formMethod,c,null),ft(e,t,"formTarget",c.formTarget,c,null)):(ft(e,t,"encType",c.encType,c,null),ft(e,t,"method",c.method,c,null),ft(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=di(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Rn);break;case"onScroll":l!=null&&Ye("scroll",e);break;case"onScrollEnd":l!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=di(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),Le(e,"popover",l);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Le(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=nf.get(i)||i,Le(e,i,l))}}function Dh(e,t,i,l,c,h){switch(i){case"style":Cs(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Gi(e,l):(typeof l=="number"||typeof l=="bigint")&&Gi(e,""+l);break;case"onScroll":l!=null&&Ye("scroll",e);break;case"onScrollEnd":l!=null&&Ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),h=e[Bt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Le(e,i,l)}}}function fn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var l=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var g=i[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ft(e,t,h,g,i,null)}}c&&ft(e,t,"srcSet",i.srcSet,i,null),l&&ft(e,t,"src",i.src,i,null);return;case"input":Ye("invalid",e);var C=h=g=c=null,N=null,G=null;for(l in i)if(i.hasOwnProperty(l)){var J=i[l];if(J!=null)switch(l){case"name":c=J;break;case"type":g=J;break;case"checked":N=J;break;case"defaultChecked":G=J;break;case"value":h=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,t));break;default:ft(e,t,l,J,i,null)}}cl(e,h,C,N,G,g,c,!1);return;case"select":Ye("invalid",e),l=g=h=null;for(c in i)if(i.hasOwnProperty(c)&&(C=i[c],C!=null))switch(c){case"value":h=C;break;case"defaultValue":g=C;break;case"multiple":l=C;default:ft(e,t,c,C,i,null)}t=h,i=g,e.multiple=!!l,t!=null?hi(e,!!l,t,!1):i!=null&&hi(e,!!l,i,!0);return;case"textarea":Ye("invalid",e),h=c=l=null;for(g in i)if(i.hasOwnProperty(g)&&(C=i[g],C!=null))switch(g){case"value":l=C;break;case"defaultValue":c=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:ft(e,t,g,C,i,null)}Dr(e,l,c,h);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(l=i[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(e,t,N,l,i,null)}return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(l=0;l<uo.length;l++)Ye(uo[l],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(l=i[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ft(e,t,G,l,i,null)}return;default:if(Ts(t)){for(J in i)i.hasOwnProperty(J)&&(l=i[J],l!==void 0&&Dh(e,t,J,l,i,void 0));return}}for(C in i)i.hasOwnProperty(C)&&(l=i[C],l!=null&&ft(e,t,C,l,i,null))}function Qb(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,C=null,N=null,G=null,J=null;for(P in i){var ne=i[P];if(i.hasOwnProperty(P)&&ne!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(P)||ft(e,t,P,null,l,ne)}}for(var F in l){var P=l[F];if(ne=i[F],l.hasOwnProperty(F)&&(P!=null||ne!=null))switch(F){case"type":h=P;break;case"name":c=P;break;case"checked":G=P;break;case"defaultChecked":J=P;break;case"value":g=P;break;case"defaultValue":C=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:P!==ne&&ft(e,t,F,P,l,ne)}}Di(e,g,C,N,G,J,h,c);return;case"select":P=g=C=F=null;for(h in i)if(N=i[h],i.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":P=N;default:l.hasOwnProperty(h)||ft(e,t,h,null,l,N)}for(c in l)if(h=l[c],N=i[c],l.hasOwnProperty(c)&&(h!=null||N!=null))switch(c){case"value":F=h;break;case"defaultValue":C=h;break;case"multiple":g=h;default:h!==N&&ft(e,t,c,h,l,N)}t=C,i=g,l=P,F!=null?hi(e,!!i,F,!1):!!l!=!!i&&(t!=null?hi(e,!!i,t,!0):hi(e,!!i,i?[]:"",!1));return;case"textarea":P=F=null;for(C in i)if(c=i[C],i.hasOwnProperty(C)&&c!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ft(e,t,C,null,l,c)}for(g in l)if(c=l[g],h=i[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":F=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&ft(e,t,g,c,l,h)}Es(e,F,P);return;case"option":for(var Se in i)if(F=i[Se],i.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:ft(e,t,Se,null,l,F)}for(N in l)if(F=l[N],P=i[N],l.hasOwnProperty(N)&&F!==P&&(F!=null||P!=null))switch(N){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ft(e,t,N,F,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in i)F=i[De],i.hasOwnProperty(De)&&F!=null&&!l.hasOwnProperty(De)&&ft(e,t,De,null,l,F);for(G in l)if(F=l[G],P=i[G],l.hasOwnProperty(G)&&F!==P&&(F!=null||P!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,t));break;default:ft(e,t,G,F,l,P)}return;default:if(Ts(t)){for(var ht in i)F=i[ht],i.hasOwnProperty(ht)&&F!==void 0&&!l.hasOwnProperty(ht)&&Dh(e,t,ht,void 0,l,F);for(J in l)F=l[J],P=i[J],!l.hasOwnProperty(J)||F===P||F===void 0&&P===void 0||Dh(e,t,J,F,l,P);return}}for(var K in i)F=i[K],i.hasOwnProperty(K)&&F!=null&&!l.hasOwnProperty(K)&&ft(e,t,K,null,l,F);for(ne in l)F=l[ne],P=i[ne],!l.hasOwnProperty(ne)||F===P||F==null&&P==null||ft(e,t,ne,F,l,P)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var c=i[l],h=c.transferSize,g=c.initiatorType,C=c.duration;if(h&&C&&Qy(g)){for(g=0,C=c.responseEnd,l+=1;l<i.length;l++){var N=i[l],G=N.startTime;if(G>C)break;var J=N.transferSize,ne=N.initiatorType;J&&Qy(ne)&&(N=N.responseEnd,g+=J*(N<C?1:(C-G)/(N-G)))}if(--l,t+=8*(h+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oh=null,Rh=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jh=null;function Pb(){var e=window.event;return e&&e.type==="popstate"?e===jh?!1:(jh=e,!0):(jh=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,Zb=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(Jb)}:Xy;function Jb(e){setTimeout(function(){throw e})}function Wa(e){return e==="head"}function Jy(e,t){var i=t,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(c),Jl(t);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")fo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,fo(i);for(var h=i.firstChild;h;){var g=h.nextSibling,C=h.nodeName;h[Ln]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=g}}else i==="body"&&fo(e.ownerDocument.body);i=c}while(i);Jl(t)}function Wy(e,t){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function zh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":zh(i),ol(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Wb(e,t,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ln])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ai(e.nextSibling),e===null)break}return null}function $b(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ai(e.nextSibling),e===null))return null;return e}function $y(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ai(e.nextSibling),e===null))return null;return e}function Bh(e){return e.data==="$?"||e.data==="$~"}function Ih(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function e0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var kh=null;function eg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return ai(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function ng(e,t,i){switch(t=nc(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ol(e)}var ri=new Map,ig=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=pe.d;pe.d={f:t0,r:n0,D:i0,C:a0,L:r0,m:l0,X:o0,S:s0,M:u0};function t0(){var e=pa.f(),t=Pu();return e||t}function n0(e){var t=ut(e);t!==null&&t.tag===5&&t.type==="form"?bm(t):pa.r(e)}var Pl=typeof document>"u"?null:document;function ag(e,t,i){var l=Pl;if(l&&typeof t=="string"&&t){var c=Zt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),ig.has(c)||(ig.add(c),e={rel:e,crossOrigin:i,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),fn(t,"link",e),It(t),l.head.appendChild(t)))}}function i0(e){pa.D(e),ag("dns-prefetch",e,null)}function a0(e,t){pa.C(e,t),ag("preconnect",e,t)}function r0(e,t,i){pa.L(e,t,i);var l=Pl;if(l&&e&&t){var c='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Zt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Zt(i.imageSizes)+'"]')):c+='[href="'+Zt(e)+'"]';var h=c;switch(t){case"style":h=Xl(e);break;case"script":h=Zl(e)}ri.has(h)||(e=x({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),ri.set(h,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(ho(h))||t==="script"&&l.querySelector(po(h))||(t=l.createElement("link"),fn(t,"link",e),It(t),l.head.appendChild(t)))}}function l0(e,t){pa.m(e,t);var i=Pl;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Zt(l)+'"][href="'+Zt(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Zl(e)}if(!ri.has(h)&&(e=x({rel:"modulepreload",href:e},t),ri.set(h,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(po(h)))return}l=i.createElement("link"),fn(l,"link",e),It(l),i.head.appendChild(l)}}}function s0(e,t,i){pa.S(e,t,i);var l=Pl;if(l&&e){var c=gn(l).hoistableStyles,h=Xl(e);t=t||"default";var g=c.get(h);if(!g){var C={loading:0,preload:null};if(g=l.querySelector(ho(h)))C.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},i),(i=ri.get(h))&&Uh(e,i);var N=g=l.createElement("link");It(N),fn(N,"link",e),N._p=new Promise(function(G,J){N.onload=G,N.onerror=J}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ac(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:C},c.set(h,g)}}}function o0(e,t){pa.X(e,t);var i=Pl;if(i&&e){var l=gn(i).hoistableScripts,c=Zl(e),h=l.get(c);h||(h=i.querySelector(po(c)),h||(e=x({src:e,async:!0},t),(t=ri.get(c))&&Lh(e,t),h=i.createElement("script"),It(h),fn(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function u0(e,t){pa.M(e,t);var i=Pl;if(i&&e){var l=gn(i).hoistableScripts,c=Zl(e),h=l.get(c);h||(h=i.querySelector(po(c)),h||(e=x({src:e,async:!0,type:"module"},t),(t=ri.get(c))&&Lh(e,t),h=i.createElement("script"),It(h),fn(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function rg(e,t,i,l){var c=(c=ze.current)?ic(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Xl(i.href),i=gn(c).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Xl(i.href);var h=gn(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(ho(e)))&&!h._p&&(g.instance=h,g.state.loading=5),ri.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ri.set(e,i),h||c0(c,e,i,g.state))),t&&l===null)throw Error(s(528,""));return g}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zl(i),i=gn(c).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xl(e){return'href="'+Zt(e)+'"'}function ho(e){return'link[rel="stylesheet"]['+e+"]"}function lg(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),fn(t,"link",i),It(t),e.head.appendChild(t))}function Zl(e){return'[src="'+Zt(e)+'"]'}function po(e){return"script[async]"+e}function sg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Zt(i.href)+'"]');if(l)return t.instance=l,It(l),l;var c=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),It(l),fn(l,"style",c),ac(l,i.precedence,e),t.instance=l;case"stylesheet":c=Xl(i.href);var h=e.querySelector(ho(c));if(h)return t.state.loading|=4,t.instance=h,It(h),h;l=lg(i),(c=ri.get(c))&&Uh(l,c),h=(e.ownerDocument||e).createElement("link"),It(h);var g=h;return g._p=new Promise(function(C,N){g.onload=C,g.onerror=N}),fn(h,"link",l),t.state.loading|=4,ac(h,i.precedence,e),t.instance=h;case"script":return h=Zl(i.src),(c=e.querySelector(po(h)))?(t.instance=c,It(c),c):(l=i,(c=ri.get(h))&&(l=x({},i),Lh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),It(c),fn(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ac(l,i.precedence,e));return t.instance}function ac(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var C=l[g];if(C.dataset.precedence===t)h=C;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Uh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var rc=null;function og(e,t,i){if(rc===null){var l=new Map,c=rc=new Map;c.set(i,l)}else c=rc,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[Ln]||h[gt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(t)||"";g=e+g;var C=l.get(g);C?C.push(h):l.set(g,[h])}}return l}function ug(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function f0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h0(e,t,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Xl(l.href),h=t.querySelector(ho(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=lc.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=h,It(h);return}h=t.ownerDocument||t,l=lg(l),(c=ri.get(c))&&Uh(l,c),h=h.createElement("link"),It(h);var g=h;g._p=new Promise(function(C,N){g.onload=C,g.onerror=N}),fn(h,"link",l),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=lc.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var qh=0;function d0(e,t){return e.stylesheets&&e.count===0&&oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&qh===0&&(qh=62500*Fb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>qh?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function oc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,t.forEach(p0,e),sc=null,lc.call(e))}function p0(e,t){if(!(t.state.loading&4)){var i=sc.get(e);if(i)var l=i.get(null);else{i=new Map,sc.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}c=t.instance,g=c.getAttribute("data-precedence"),h=i.get(g)||l,h===l&&i.set(null,c),i.set(g,c),this.count++,l=lc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var mo={$$typeof:Te,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function m0(e,t,i,l,c,h,g,C,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function fg(e,t,i,l,c,h,g,C,N,G,J,ne){return e=new m0(e,t,i,g,N,G,J,ne,C),t=1,h===!0&&(t|=24),h=Kn(3,null,null,t),e.current=h,h.stateNode=e,t=_f(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:i,cache:t},Cf(h),e}function hg(e){return e?(e=Mn,e):Mn}function dg(e,t,i,l,c,h){c=hg(c),l.context===null?l.context=c:l.pendingContext=c,l=Ha(t),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Ka(e,l,t),i!==null&&(kn(i,e,t),Qs(i,e,t))}function pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Hh(e,t){pg(e,t),(e=e.alternate)&&pg(e,t)}function mg(e){if(e.tag===13||e.tag===31){var t=At(e,67108864);t!==null&&kn(t,e,67108864),Hh(e,67108864)}}function yg(e){if(e.tag===13||e.tag===31){var t=Fn();t=vs(t);var i=At(e,t);i!==null&&kn(i,e,t),Hh(e,t)}}var uc=!0;function y0(e,t,i,l){var c=Z.T;Z.T=null;var h=pe.p;try{pe.p=2,Kh(e,t,i,l)}finally{pe.p=h,Z.T=c}}function g0(e,t,i,l){var c=Z.T;Z.T=null;var h=pe.p;try{pe.p=8,Kh(e,t,i,l)}finally{pe.p=h,Z.T=c}}function Kh(e,t,i,l){if(uc){var c=Vh(l);if(c===null)Nh(e,t,l,cc,i),vg(e,l);else if(_0(c,e,t,i,l))l.stopPropagation();else if(vg(e,l),t&4&&-1<v0.indexOf(e)){for(;c!==null;){var h=ut(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ci(h.pendingLanes);if(g!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;g;){var N=1<<31-ye(g);C.entanglements[1]|=N,g&=~N}Ii(h),(rt&6)===0&&(Qu=yn()+500,oo(0))}}break;case 31:case 13:C=At(h,2),C!==null&&kn(C,h,2),Pu(),Hh(h,2)}if(h=Vh(l),h===null&&Nh(e,t,l,cc,i),h===c)break;c=h}c!==null&&l.stopPropagation()}else Nh(e,t,l,null,i)}}function Vh(e){return e=fl(e),Yh(e)}var cc=null;function Yh(e){if(cc=null,e=xi(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=m(t),e!==null)return e;e=null}else if(i===31){if(e=_(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cc=e,null}function gg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Si:return 2;case Ei:return 8;case Ea:case gr:return 32;case rl:return 268435456;default:return 32}default:return 32}}var Gh=!1,$a=null,er=null,tr=null,yo=new Map,go=new Map,nr=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vg(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function vo(e,t,i,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},t!==null&&(t=ut(t),t!==null&&mg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function _0(e,t,i,l,c){switch(t){case"focusin":return $a=vo($a,e,t,i,l,c),!0;case"dragenter":return er=vo(er,e,t,i,l,c),!0;case"mouseover":return tr=vo(tr,e,t,i,l,c),!0;case"pointerover":var h=c.pointerId;return yo.set(h,vo(yo.get(h)||null,e,t,i,l,c)),!0;case"gotpointercapture":return h=c.pointerId,go.set(h,vo(go.get(h)||null,e,t,i,l,c)),!0}return!1}function _g(e){var t=xi(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=m(i),t!==null){e.blockedOn=t,Cr(e.priority,function(){yg(i)});return}}else if(t===31){if(t=_(i),t!==null){e.blockedOn=t,Cr(e.priority,function(){yg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Vh(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Zn=l,i.target.dispatchEvent(l),Zn=null}else return t=ut(i),t!==null&&mg(t),e.blockedOn=i,!1;t.shift()}return!0}function bg(e,t,i){fc(e)&&i.delete(t)}function b0(){Gh=!1,$a!==null&&fc($a)&&($a=null),er!==null&&fc(er)&&(er=null),tr!==null&&fc(tr)&&(tr=null),yo.forEach(bg),go.forEach(bg)}function hc(e,t){e.blockedOn===t&&(e.blockedOn=null,Gh||(Gh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b0)))}var dc=null;function Sg(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Yh(l||i)===null)continue;break}var h=ut(i);h!==null&&(e.splice(t,3),t-=3,Vf(h,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function Jl(e){function t(N){return hc(N,e)}$a!==null&&hc($a,e),er!==null&&hc(er,e),tr!==null&&hc(tr,e),yo.forEach(t),go.forEach(t);for(var i=0;i<nr.length;i++){var l=nr[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<nr.length&&(i=nr[0],i.blockedOn===null);)_g(i),i.blockedOn===null&&nr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],h=i[l+1],g=c[Bt]||null;if(typeof h=="function")g||Sg(i);else if(g){var C=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Bt]||null)C=g.formAction;else if(Yh(c)!==null)continue}else C=g.action;typeof C=="function"?i[l+1]=C:(i.splice(l,3),l-=3),Sg(i)}}}function Eg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Qh(e){this._internalRoot=e}pc.prototype.render=Qh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,l=Fn();dg(i,l,e,t,null,null)},pc.prototype.unmount=Qh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dg(e.current,2,null,e,null,null),Pu(),t[Tn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Er();e={blockedOn:null,target:e,priority:t};for(var i=0;i<nr.length&&t!==0&&t<nr[i].priority;i++);nr.splice(i,0,e),i===0&&_g(e)}};var Cg=n.version;if(Cg!=="19.2.0")throw Error(s(527,Cg,"19.2.0"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=S(t),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var S0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Ci=mc.inject(S0),rn=mc}catch{}}return bo.createRoot=function(e,t){if(!u(e))throw Error(s(299));var i=!1,l="",c=Om,h=Rm,g=Mm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=fg(e,1,!1,null,null,i,l,null,c,h,g,Eg),e[Tn]=t.current,xh(e),new Qh(t)},bo.hydrateRoot=function(e,t,i){if(!u(e))throw Error(s(299));var l=!1,c="",h=Om,g=Rm,C=Mm,N=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),t=fg(e,1,!0,t,i??null,l,c,N,h,g,C,Eg),t.context=hg(null),i=t.current,l=Fn(),l=vs(l),c=Ha(l),c.callback=null,Ka(i,c,l),i=l,t.current.lanes=i,Pn(t,i),Ii(t),e[Tn]=t.current,xh(e),new pc(t)},bo.version="19.2.0",bo}var jg;function j0(){if(jg)return Xh.exports;jg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Xh.exports=M0(),Xh.exports}var z0=j0(),vc={exports:{}},B0=vc.exports,zg;function I0(){return zg||(zg=1,(function(r,n){(function(a,s){r.exports=s()})(B0,function(){var a=function(o,f){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(p[v]=y[v])})(o,f)},s=function(){return(s=Object.assign||function(o){for(var f,p=1,y=arguments.length;p<y;p++)for(var v in f=arguments[p])Object.prototype.hasOwnProperty.call(f,v)&&(o[v]=f[v]);return o}).apply(this,arguments)};function u(o,f,p){for(var y,v=0,b=f.length;v<b;v++)!y&&v in f||((y=y||Array.prototype.slice.call(f,0,v))[v]=f[v]);return o.concat(y||Array.prototype.slice.call(f))}var d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:C0,m=Object.keys,_=Array.isArray;function E(o,f){return typeof f!="object"||m(f).forEach(function(p){o[p]=f[p]}),o}typeof Promise>"u"||d.Promise||(d.Promise=Promise);var S=Object.getPrototypeOf,B={}.hasOwnProperty;function x(o,f){return B.call(o,f)}function w(o,f){typeof f=="function"&&(f=f(S(o))),(typeof Reflect>"u"?m:Reflect.ownKeys)(f).forEach(function(p){ee(o,p,f[p])})}var $=Object.defineProperty;function ee(o,f,p,y){$(o,f,E(p&&x(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},y))}function _e(o){return{from:function(f){return o.prototype=Object.create(f.prototype),ee(o.prototype,"constructor",o),{extend:w.bind(null,o.prototype)}}}}var Ee=Object.getOwnPropertyDescriptor,it=[].slice;function ve(o,f,p){return it.call(o,f,p)}function Te(o,f){return f(o)}function mt(o){if(!o)throw new Error("Assertion Failed")}function Sn(o){d.setImmediate?setImmediate(o):setTimeout(o,0)}function yt(o,f){if(typeof f=="string"&&x(o,f))return o[f];if(!f)return o;if(typeof f!="string"){for(var p=[],y=0,v=f.length;y<v;++y){var b=yt(o,f[y]);p.push(b)}return p}var T=f.indexOf(".");if(T!==-1){var A=o[f.substr(0,T)];return A==null?void 0:yt(A,f.substr(T+1))}}function Ne(o,f,p){if(o&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof f!="string"&&"length"in f){mt(typeof p!="string"&&"length"in p);for(var y=0,v=f.length;y<v;++y)Ne(o,f[y],p[y])}else{var b,T,A=f.indexOf(".");A!==-1?(b=f.substr(0,A),(T=f.substr(A+1))===""?p===void 0?_(o)&&!isNaN(parseInt(b))?o.splice(b,1):delete o[b]:o[b]=p:Ne(A=!(A=o[b])||!x(o,b)?o[b]={}:A,T,p)):p===void 0?_(o)&&!isNaN(parseInt(f))?o.splice(f,1):delete o[f]:o[f]=p}}function Mt(o){var f,p={};for(f in o)x(o,f)&&(p[f]=o[f]);return p}var fe=[].concat;function Je(o){return fe.apply([],o)}var Si="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Je([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(f){return f+o+"Array"})}))).filter(function(o){return d[o]}),jt=new Set(Si.map(function(o){return d[o]})),Lt=null;function En(o){return Lt=new WeakMap,o=(function f(p){if(!p||typeof p!="object")return p;var y=Lt.get(p);if(y)return y;if(_(p)){y=[],Lt.set(p,y);for(var v=0,b=p.length;v<b;++v)y.push(f(p[v]))}else if(jt.has(p.constructor))y=p;else{var T,A=S(p);for(T in y=A===Object.prototype?{}:Object.create(A),Lt.set(p,y),p)x(p,T)&&(y[T]=f(p[T]))}return y})(o),Lt=null,o}var oi={}.toString;function Cn(o){return oi.call(o).slice(8,-1)}var Z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pe=typeof Z=="symbol"?function(o){var f;return o!=null&&(f=o[Z])&&f.apply(o)}:function(){return null};function we(o,f){return f=o.indexOf(f),0<=f&&o.splice(f,1),0<=f}var Pe={};function Ke(o){var f,p,y,v;if(arguments.length===1){if(_(o))return o.slice();if(this===Pe&&typeof o=="string")return[o];if(v=pe(o)){for(p=[];!(y=v.next()).done;)p.push(y.value);return p}if(o==null)return[o];if(typeof(f=o.length)!="number")return[o];for(p=new Array(f);f--;)p[f]=o[f];return p}for(f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];return p}var I=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},yr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],An=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(yr),ie={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function he(o,f){this.name=o,this.message=f}function be(o,f){return o+". Errors: "+Object.keys(f).map(function(p){return f[p].toString()}).filter(function(p,y,v){return v.indexOf(p)===y}).join(`
`)}function Me(o,f,p,y){this.failures=f,this.failedKeys=y,this.successCount=p,this.message=be(o,f)}function ze(o,f){this.name="BulkError",this.failures=Object.keys(f).map(function(p){return f[p]}),this.failuresByPos=f,this.message=be(o,this.failures)}_e(he).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_e(Me).from(he),_e(ze).from(he);var We=An.reduce(function(o,f){return o[f]=f+"Error",o},{}),an=he,me=An.reduce(function(o,f){var p=f+"Error";function y(v,b){this.name=p,v?typeof v=="string"?(this.message="".concat(v).concat(b?`
 `+b:""),this.inner=b||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=ie[f]||p,this.inner=null)}return _e(y).from(an),o[f]=y,o},{});me.Syntax=SyntaxError,me.Type=TypeError,me.Range=RangeError;var ba=yr.reduce(function(o,f){return o[f+"Error"]=me[f],o},{}),Ui=An.reduce(function(o,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(o[f+"Error"]=me[f]),o},{});function $e(){}function Sa(o){return o}function Li(o,f){return o==null||o===Sa?f:function(p){return f(o(p))}}function ui(o,f){return function(){o.apply(this,arguments),f.apply(this,arguments)}}function ms(o,f){return o===$e?f:function(){var p=o.apply(this,arguments);p!==void 0&&(arguments[0]=p);var y=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var b=f.apply(this,arguments);return y&&(this.onsuccess=this.onsuccess?ui(y,this.onsuccess):y),v&&(this.onerror=this.onerror?ui(v,this.onerror):v),b!==void 0?b:p}}function Wc(o,f){return o===$e?f:function(){o.apply(this,arguments);var p=this.onsuccess,y=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?ui(p,this.onsuccess):p),y&&(this.onerror=this.onerror?ui(y,this.onerror):y)}}function tu(o,f){return o===$e?f:function(p){var y=o.apply(this,arguments);E(p,y);var v=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,p=f.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?ui(v,this.onsuccess):v),b&&(this.onerror=this.onerror?ui(b,this.onerror):b),y===void 0?p===void 0?void 0:p:E(y,p)}}function ys(o,f){return o===$e?f:function(){return f.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function pr(o,f){return o===$e?f:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var y=this,v=arguments.length,b=new Array(v);v--;)b[v]=arguments[v];return p.then(function(){return f.apply(y,b)})}return f.apply(this,arguments)}}Ui.ModifyError=Me,Ui.DexieError=he,Ui.BulkError=ze;var On=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function nu(o){On=o}var mr={},yn=100,Si=typeof Promise>"u"?[]:(function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,S(o),o];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,S(f),o]})(),yr=Si[0],An=Si[1],Si=Si[2],An=An&&An.then,Ei=yr&&yr.constructor,Ea=!!Si,gr=function(o,f){vr.push([o,f]),ll&&(queueMicrotask(iu),ll=!1)},rl=!0,ll=!0,qi=[],Ci=[],rn=Sa,ln={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$e,pgp:!1,env:{},finalize:$e},ye=ln,vr=[],Hi=0,sl=[];function de(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=ye;if(typeof o!="function"){if(o!==mr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ci(this,this._value))}this._state=null,this._value=null,++f.ref,(function p(y,v){try{v(function(b){if(y._state===null){if(b===y)throw new TypeError("A promise cannot be resolved with itself.");var T=y._lib&&Ti();b&&typeof b.then=="function"?p(y,function(A,O){b instanceof de?b._then(A,O):b.then(A,O)}):(y._state=!0,y._value=b,br(y)),T&&Pn()}},ci.bind(null,y))}catch(b){ci(y,b)}})(this,o)}var Ca={get:function(){var o=ye,f=Cr;function p(y,v){var b=this,T=!o.global&&(o!==ye||f!==Cr),A=T&&!Tn(),O=new de(function(R,L){Ki(b,new _r(ol(y,o,T,A),ol(v,o,T,A),R,L,o))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return p.prototype=mr,p},set:function(o){ee(this,"then",o&&o.prototype===mr?Ca:{get:function(){return o},set:Ca.set})}};function _r(o,f,p,y,v){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof f=="function"?f:null,this.resolve=p,this.reject=y,this.psd=v}function ci(o,f){var p,y;Ci.push(f),o._state===null&&(p=o._lib&&Ti(),f=rn(f),o._state=!1,o._value=f,y=o,qi.some(function(v){return v._value===y._value})||qi.push(y),br(o),p&&Pn())}function br(o){var f=o._listeners;o._listeners=[];for(var p=0,y=f.length;p<y;++p)Ki(o,f[p]);var v=o._PSD;--v.ref||v.finalize(),Hi===0&&(++Hi,gr(function(){--Hi==0&&gs()},[]))}function Ki(o,f){if(o._state!==null){var p=o._state?f.onFulfilled:f.onRejected;if(p===null)return(o._state?f.resolve:f.reject)(o._value);++f.psd.ref,++Hi,gr($c,[p,o,f])}else o._listeners.push(f)}function $c(o,f,p){try{var y,v=f._value;!f._state&&Ci.length&&(Ci=[]),y=On&&f._consoleTask?f._consoleTask.run(function(){return o(v)}):o(v),f._state||Ci.indexOf(v)!==-1||(function(b){for(var T=qi.length;T;)if(qi[--T]._value===b._value)return qi.splice(T,1)})(f),p.resolve(y)}catch(b){p.reject(b)}finally{--Hi==0&&gs(),--p.psd.ref||p.psd.finalize()}}function iu(){Ln(ln,function(){Ti()&&Pn()})}function Ti(){var o=rl;return ll=rl=!1,o}function Pn(){var o,f,p;do for(;0<vr.length;)for(o=vr,vr=[],p=o.length,f=0;f<p;++f){var y=o[f];y[0].apply(null,y[1])}while(0<vr.length);ll=rl=!0}function gs(){var o=qi;qi=[],o.forEach(function(y){y._PSD.onunhandled.call(null,y._value,y)});for(var f=sl.slice(0),p=f.length;p;)f[--p]()}function Sr(o){return new de(mr,!1,o)}function dt(o,f){var p=ye;return function(){var y=Ti(),v=ye;try{return Ai(p,!0),o.apply(this,arguments)}catch(b){f&&f(b)}finally{Ai(v,!1),y&&Pn()}}}w(de.prototype,{then:Ca,_then:function(o,f){Ki(this,new _r(null,null,o,f,ye))},catch:function(o){if(arguments.length===1)return this.then(null,o);var f=o,p=arguments[1];return typeof f=="function"?this.then(null,function(y){return(y instanceof f?p:Sr)(y)}):this.then(null,function(y){return(y&&y.name===f?p:Sr)(y)})},finally:function(o){return this.then(function(f){return de.resolve(o()).then(function(){return f})},function(f){return de.resolve(o()).then(function(){return Sr(f)})})},timeout:function(o,f){var p=this;return o<1/0?new de(function(y,v){var b=setTimeout(function(){return v(new me.Timeout(f))},o);p.then(y,v).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ee(de.prototype,Symbol.toStringTag,"Dexie.Promise"),ln.env=_s(),w(de,{all:function(){var o=Ke.apply(null,arguments).map(wa);return new de(function(f,p){o.length===0&&f([]);var y=o.length;o.forEach(function(v,b){return de.resolve(v).then(function(T){o[b]=T,--y||f(o)},p)})})},resolve:function(o){return o instanceof de?o:o&&typeof o.then=="function"?new de(function(f,p){o.then(f,p)}):new de(mr,!0,o)},reject:Sr,race:function(){var o=Ke.apply(null,arguments).map(wa);return new de(function(f,p){o.map(function(y){return de.resolve(y).then(f,p)})})},PSD:{get:function(){return ye},set:function(o){return ye=o}},totalEchoes:{get:function(){return Cr}},newPSD:gt,usePSD:Ln,scheduler:{get:function(){return gr},set:function(o){gr=o}},rejectionMapper:{get:function(){return rn},set:function(o){rn=o}},follow:function(o,f){return new de(function(p,y){return gt(function(v,b){var T=ye;T.unhandleds=[],T.onunhandled=b,T.finalize=ui(function(){var A,O=this;A=function(){O.unhandleds.length===0?v():b(O.unhandleds[0])},sl.push(function R(){A(),sl.splice(sl.indexOf(R),1)}),++Hi,gr(function(){--Hi==0&&gs()},[])},T.finalize),o()},f,p,y)})}}),Ei&&(Ei.allSettled&&ee(de,"allSettled",function(){var o=Ke.apply(null,arguments).map(wa);return new de(function(f){o.length===0&&f([]);var p=o.length,y=new Array(p);o.forEach(function(v,b){return de.resolve(v).then(function(T){return y[b]={status:"fulfilled",value:T}},function(T){return y[b]={status:"rejected",reason:T}}).then(function(){return--p||f(y)})})})}),Ei.any&&typeof AggregateError<"u"&&ee(de,"any",function(){var o=Ke.apply(null,arguments).map(wa);return new de(function(f,p){o.length===0&&p(new AggregateError([]));var y=o.length,v=new Array(y);o.forEach(function(b,T){return de.resolve(b).then(function(A){return f(A)},function(A){v[T]=A,--y||p(new AggregateError(v))})})})}),Ei.withResolvers&&(de.withResolvers=Ei.withResolvers));var zt={awaits:0,echoes:0,id:0},vs=0,Ta=[],Er=0,Cr=0,wi=0;function gt(o,f,p,y){var v=ye,b=Object.create(v);return b.parent=v,b.ref=0,b.global=!1,b.id=++wi,ln.env,b.env=Ea?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject}:{},f&&E(b,f),++v.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},y=Ln(b,o,p,y),b.ref===0&&b.finalize(),y}function Bt(){return zt.id||(zt.id=++vs),++zt.awaits,zt.echoes+=yn,zt.id}function Tn(){return!!zt.awaits&&(--zt.awaits==0&&(zt.id=0),zt.echoes=zt.awaits*yn,!0)}function wa(o){return zt.echoes&&o&&o.constructor===Ei?(Bt(),o.then(function(f){return Tn(),f},function(f){return Tn(),ut(f)})):o}function ef(){var o=Ta[Ta.length-1];Ta.pop(),Ai(o,!1)}function Ai(o,f){var p,y=ye;(f?!zt.echoes||Er++&&o===ye:!Er||--Er&&o===ye)||queueMicrotask(f?(function(v){++Cr,zt.echoes&&--zt.echoes!=0||(zt.echoes=zt.awaits=zt.id=0),Ta.push(ye),Ai(v,!0)}).bind(null,o):ef),o!==ye&&(ye=o,y===ln&&(ln.env=_s()),Ea&&(p=ln.env.Promise,f=o.env,(y.global||o.global)&&(Object.defineProperty(d,"Promise",f.PromiseProp),p.all=f.all,p.race=f.race,p.resolve=f.resolve,p.reject=f.reject,f.allSettled&&(p.allSettled=f.allSettled),f.any&&(p.any=f.any))))}function _s(){var o=d.Promise;return Ea?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(d,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function Ln(o,f,p,y,v){var b=ye;try{return Ai(o,!0),f(p,y,v)}finally{Ai(b,!1)}}function ol(o,f,p,y){return typeof o!="function"?o:function(){var v=ye;p&&Bt(),Ai(f,!0);try{return o.apply(this,arguments)}finally{Ai(v,!1),y&&queueMicrotask(Tn)}}}function xi(o){Promise===Ei&&zt.echoes===0?Er===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+An).indexOf("[native code]")===-1&&(Bt=Tn=$e);var ut=de.reject,qn="",gn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",It="String expected.",Vi=[],Tr="__dbnames",fi="readonly",Ni="readwrite";function Yi(o,f){return o?f?function(){return o.apply(this,arguments)&&f.apply(this,arguments)}:o:f}var bs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function wr(o){return typeof o!="string"||/\./.test(o)?function(f){return f}:function(f){return f[o]===void 0&&o in f&&delete(f=En(f))[o],f}}function au(){throw me.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Le(o,f){try{var p=Ar(o),y=Ar(f);if(p!==y)return p==="Array"?1:y==="Array"?-1:p==="binary"?1:y==="binary"?-1:p==="string"?1:y==="string"?-1:p==="Date"?1:y!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return f<o?1:o<f?-1:0;case"binary":return(function(v,b){for(var T=v.length,A=b.length,O=T<A?T:A,R=0;R<O;++R)if(v[R]!==b[R])return v[R]<b[R]?-1:1;return T===A?0:T<A?-1:1})(Xn(o),Xn(f));case"Array":return(function(v,b){for(var T=v.length,A=b.length,O=T<A?T:A,R=0;R<O;++R){var L=Le(v[R],b[R]);if(L!==0)return L}return T===A?0:T<A?-1:1})(o,f)}}catch{}return NaN}function Ar(o){var f=typeof o;return f!="object"?f:ArrayBuffer.isView(o)?"binary":(o=Cn(o),o==="ArrayBuffer"?"binary":o)}function Xn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function sn(o,f,p){var y=o.schema.yProps;return y?(f&&0<p.numFailures&&(f=f.filter(function(v,b){return!p.failures[b]})),Promise.all(y.map(function(v){return v=v.updatesTable,f?o.db.table(v).where("k").anyOf(f).delete():o.db.table(v).clear()})).then(function(){return p})):p}var Aa=(ru.prototype.execute=function(o){var f=this["@@propmod"];if(f.add!==void 0){var p=f.add;if(_(p))return u(u([],_(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(f.remove!==void 0){var y=f.remove;if(_(y))return _(o)?o.filter(function(v){return!y.includes(v)}).sort():[];if(typeof y=="number")return Number(o)-y;if(typeof y=="bigint")try{return BigInt(o)-y}catch{return BigInt(0)-y}throw new TypeError("Invalid subtrahend ".concat(y))}return p=(p=f.replacePrefix)===null||p===void 0?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?f.replacePrefix[1]+o.substring(p.length):o},ru);function ru(o){this["@@propmod"]=o}function ul(o,f){for(var p=m(f),y=p.length,v=!1,b=0;b<y;++b){var T=p[b],A=f[T],O=yt(o,T);A instanceof Aa?(Ne(o,T,A.execute(O)),v=!0):O!==A&&(Ne(o,T,A),v=!0)}return v}var Ss=(at.prototype._trans=function(o,f,p){var y=this._tx||ye.trans,v=this.name,b=On&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function T(R,L,D){if(!D.schema[v])throw new me.NotFound("Table "+v+" not part of transaction");return f(D.idbtrans,D)}var A=Ti();try{var O=y&&y.db._novip===this.db._novip?y===ye.trans?y._promise(o,T,p):gt(function(){return y._promise(o,T,p)},{trans:y,transless:ye.transless||ye}):(function R(L,D,H,M){if(L.idbdb&&(L._state.openComplete||ye.letThrough||L._vip)){var k=L._createTransaction(D,H,L._dbSchema);try{k.create(),L._state.PR1398_maxLoop=3}catch(U){return U.name===We.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return R(L,D,H,M)})):ut(U)}return k._promise(D,function(U,q){return gt(function(){return ye.trans=k,M(U,q,k)})}).then(function(U){if(D==="readwrite")try{k.idbtrans.commit()}catch{}return D==="readonly"?U:k._completion.then(function(){return U})})}if(L._state.openComplete)return ut(new me.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return ut(new me.DatabaseClosed);L.open().catch($e)}return L._state.dbReadyPromise.then(function(){return R(L,D,H,M)})})(this.db,o,[this.name],T);return b&&(O._consoleTask=b,O=O.catch(function(R){return console.trace(R),ut(R)})),O}finally{A&&Pn()}},at.prototype.get=function(o,f){var p=this;return o&&o.constructor===Object?this.where(o).first(f):o==null?ut(new me.Type("Invalid argument to Table.get()")):this._trans("readonly",function(y){return p.core.get({trans:y,key:o}).then(function(v){return p.hook.reading.fire(v)})}).then(f)},at.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(_(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var f=m(o);if(f.length===1)return this.where(f[0]).equals(o[f[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(A){if(A.compound&&f.every(function(R){return 0<=A.keyPath.indexOf(R)})){for(var O=0;O<f.length;++O)if(f.indexOf(A.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(A,O){return A.keyPath.length-O.keyPath.length})[0];if(p&&this.db._maxKey!==qn){var b=p.keyPath.slice(0,f.length);return this.where(b).equals(b.map(function(O){return o[O]}))}!p&&On&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var y=this.schema.idxByName;function v(A,O){return Le(A,O)===0}var T=f.reduce(function(D,O){var R=D[0],L=D[1],D=y[O],H=o[O];return[R||D,R||!D?Yi(L,D&&D.multi?function(M){return M=yt(M,O),_(M)&&M.some(function(k){return v(H,k)})}:function(M){return v(H,yt(M,O))}):L]},[null,null]),b=T[0],T=T[1];return b?this.where(b.name).equals(o[b.keyPath]).filter(T):p?this.filter(T):this.where(f).equals("")},at.prototype.filter=function(o){return this.toCollection().and(o)},at.prototype.count=function(o){return this.toCollection().count(o)},at.prototype.offset=function(o){return this.toCollection().offset(o)},at.prototype.limit=function(o){return this.toCollection().limit(o)},at.prototype.each=function(o){return this.toCollection().each(o)},at.prototype.toArray=function(o){return this.toCollection().toArray(o)},at.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},at.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,_(o)?"[".concat(o.join("+"),"]"):o))},at.prototype.reverse=function(){return this.toCollection().reverse()},at.prototype.mapToClass=function(o){var f,p=this.db,y=this.name;function v(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof au&&((function(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function L(){this.constructor=O}a(O,R),O.prototype=R===null?Object.create(R):(L.prototype=R.prototype,new L)})(v,f=o),Object.defineProperty(v.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),v.prototype.table=function(){return y},o=v);for(var b=new Set,T=o.prototype;T;T=S(T))Object.getOwnPropertyNames(T).forEach(function(O){return b.add(O)});function A(O){if(!O)return O;var R,L=Object.create(o.prototype);for(R in O)if(!b.has(R))try{L[R]=O[R]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=A,this.hook("reading",A),o},at.prototype.defineClass=function(){return this.mapToClass(function(o){E(this,o)})},at.prototype.add=function(o,f){var p=this,y=this.schema.primKey,v=y.auto,b=y.keyPath,T=o;return b&&v&&(T=wr(b)(o)),this._trans("readwrite",function(A){return p.core.mutate({trans:A,type:"add",keys:f!=null?[f]:null,values:[T]})}).then(function(A){return A.numFailures?de.reject(A.failures[0]):A.lastResult}).then(function(A){if(b)try{Ne(o,b,A)}catch{}return A})},at.prototype.upsert=function(o,f){var p=this,y=this.schema.primKey.keyPath;return this._trans("readwrite",function(v){return p.core.get({trans:v,key:o}).then(function(b){var T=b??{};return ul(T,f),y&&Ne(T,y,o),p.core.mutate({trans:v,type:"put",values:[T],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[f]}}).then(function(A){return A.numFailures?de.reject(A.failures[0]):!!b})})})},at.prototype.update=function(o,f){return typeof o!="object"||_(o)?this.where(":id").equals(o).modify(f):(o=yt(o,this.schema.primKey.keyPath),o===void 0?ut(new me.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(f))},at.prototype.put=function(o,f){var p=this,y=this.schema.primKey,v=y.auto,b=y.keyPath,T=o;return b&&v&&(T=wr(b)(o)),this._trans("readwrite",function(A){return p.core.mutate({trans:A,type:"put",values:[T],keys:f!=null?[f]:null})}).then(function(A){return A.numFailures?de.reject(A.failures[0]):A.lastResult}).then(function(A){if(b)try{Ne(o,b,A)}catch{}return A})},at.prototype.delete=function(o){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"delete",keys:[o]}).then(function(y){return sn(f,[o],y)}).then(function(y){return y.numFailures?de.reject(y.failures[0]):void 0})})},at.prototype.clear=function(){var o=this;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"deleteRange",range:bs}).then(function(p){return sn(o,null,p)})}).then(function(f){return f.numFailures?de.reject(f.failures[0]):void 0})},at.prototype.bulkGet=function(o){var f=this;return this._trans("readonly",function(p){return f.core.getMany({keys:o,trans:p}).then(function(y){return y.map(function(v){return f.hook.reading.fire(v)})})})},at.prototype.bulkAdd=function(o,f,p){var y=this,v=Array.isArray(f)?f:void 0,b=(p=p||(v?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(T){var R=y.schema.primKey,A=R.auto,R=R.keyPath;if(R&&v)throw new me.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(v&&v.length!==o.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");var O=o.length,R=R&&A?o.map(wr(R)):o;return y.core.mutate({trans:T,type:"add",keys:v,values:R,wantResults:b}).then(function(k){var D=k.numFailures,H=k.results,M=k.lastResult,k=k.failures;if(D===0)return b?H:M;throw new ze("".concat(y.name,".bulkAdd(): ").concat(D," of ").concat(O," operations failed"),k)})})},at.prototype.bulkPut=function(o,f,p){var y=this,v=Array.isArray(f)?f:void 0,b=(p=p||(v?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(T){var R=y.schema.primKey,A=R.auto,R=R.keyPath;if(R&&v)throw new me.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(v&&v.length!==o.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");var O=o.length,R=R&&A?o.map(wr(R)):o;return y.core.mutate({trans:T,type:"put",keys:v,values:R,wantResults:b}).then(function(k){var D=k.numFailures,H=k.results,M=k.lastResult,k=k.failures;if(D===0)return b?H:M;throw new ze("".concat(y.name,".bulkPut(): ").concat(D," of ").concat(O," operations failed"),k)})})},at.prototype.bulkUpdate=function(o){var f=this,p=this.core,y=o.map(function(T){return T.key}),v=o.map(function(T){return T.changes}),b=[];return this._trans("readwrite",function(T){return p.getMany({trans:T,keys:y,cache:"clone"}).then(function(A){var O=[],R=[];o.forEach(function(D,H){var M=D.key,k=D.changes,U=A[H];if(U){for(var q=0,V=Object.keys(k);q<V.length;q++){var Q=V[q],X=k[Q];if(Q===f.schema.primKey.keyPath){if(Le(X,M)!==0)throw new me.Constraint("Cannot update primary key in bulkUpdate()")}else Ne(U,Q,X)}b.push(H),O.push(M),R.push(U)}});var L=O.length;return p.mutate({trans:T,type:"put",keys:O,values:R,updates:{keys:y,changeSpecs:v}}).then(function(D){var H=D.numFailures,M=D.failures;if(H===0)return L;for(var k=0,U=Object.keys(M);k<U.length;k++){var q,V=U[k],Q=b[Number(V)];Q!=null&&(q=M[V],delete M[V],M[Q]=q)}throw new ze("".concat(f.name,".bulkUpdate(): ").concat(H," of ").concat(L," operations failed"),M)})})})},at.prototype.bulkDelete=function(o){var f=this,p=o.length;return this._trans("readwrite",function(y){return f.core.mutate({trans:y,type:"delete",keys:o}).then(function(v){return sn(f,o,v)})}).then(function(T){var v=T.numFailures,b=T.lastResult,T=T.failures;if(v===0)return b;throw new ze("".concat(f.name,".bulkDelete(): ").concat(v," of ").concat(p," operations failed"),T)})},at);function at(){}function xr(o){function f(T,A){if(A){for(var O=arguments.length,R=new Array(O-1);--O;)R[O-1]=arguments[O];return p[T].subscribe.apply(null,R),o}if(typeof T=="string")return p[T]}var p={};f.addEventType=b;for(var y=1,v=arguments.length;y<v;++y)b(arguments[y]);return f;function b(T,A,O){if(typeof T!="object"){var R;A=A||ys;var L={subscribers:[],fire:O=O||$e,subscribe:function(D){L.subscribers.indexOf(D)===-1&&(L.subscribers.push(D),L.fire=A(L.fire,D))},unsubscribe:function(D){L.subscribers=L.subscribers.filter(function(H){return H!==D}),L.fire=L.subscribers.reduce(A,O)}};return p[T]=f[T]=L}m(R=T).forEach(function(D){var H=R[D];if(_(H))b(D,R[D][0],R[D][1]);else{if(H!=="asap")throw new me.InvalidArgument("Invalid event config");var M=b(D,Sa,function(){for(var k=arguments.length,U=new Array(k);k--;)U[k]=arguments[k];M.subscribers.forEach(function(q){Sn(function(){q.apply(null,U)})})})}})}}function Zt(o,f){return _e(f).from({prototype:o}),f}function Di(o,f){return!(o.filter||o.algorithm||o.or)&&(f?o.justLimit:!o.replayFilter)}function cl(o,f){o.filter=Yi(o.filter,f)}function Nr(o,f,p){var y=o.replayFilter;o.replayFilter=y?function(){return Yi(y(),f())}:f,o.justLimit=p&&!y}function hi(o,f){if(o.isPrimKey)return f.primaryKey;var p=f.getIndexByKeyPath(o.index);if(!p)throw new me.Schema("KeyPath "+o.index+" on object store "+f.name+" is not indexed");return p}function Es(o,f,p){var y=hi(o,f.schema);return f.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:y,range:o.range}})}function Dr(o,f,p,y){var v=o.replayFilter?Yi(o.filter,o.replayFilter()):o.filter;if(o.or){var b={},T=function(A,O,R){var L,D;v&&!v(O,R,function(H){return O.stop(H)},function(H){return O.fail(H)})||((D=""+(L=O.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(L)),x(b,D)||(b[D]=!0,f(A,O,R)))};return Promise.all([o.or._iterate(T,p),Gi(Es(o,y,p),o.algorithm,T,!o.keysOnly&&o.valueMapper)])}return Gi(Es(o,y,p),Yi(o.algorithm,v),f,!o.keysOnly&&o.valueMapper)}function Gi(o,f,p,y){var v=dt(y?function(b,T,A){return p(y(b),T,A)}:p);return o.then(function(b){if(b)return b.start(function(){var T=function(){return b.continue()};f&&!f(b,function(A){return T=A},function(A){b.stop(A),T=$e},function(A){b.fail(A),T=$e})||v(b.value,b,function(A){return T=A}),T()})})}var tf=(Xe.prototype._read=function(o,f){var p=this._ctx;return p.error?p.table._trans(null,ut.bind(null,p.error)):p.table._trans("readonly",o).then(f)},Xe.prototype._write=function(o){var f=this._ctx;return f.error?f.table._trans(null,ut.bind(null,f.error)):f.table._trans("readwrite",o,"locked")},Xe.prototype._addAlgorithm=function(o){var f=this._ctx;f.algorithm=Yi(f.algorithm,o)},Xe.prototype._iterate=function(o,f){return Dr(this._ctx,o,f,this._ctx.table.core)},Xe.prototype.clone=function(o){var f=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&E(p,o),f._ctx=p,f},Xe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Xe.prototype.each=function(o){var f=this._ctx;return this._read(function(p){return Dr(f,o,p,f.table.core)})},Xe.prototype.count=function(o){var f=this;return this._read(function(p){var y=f._ctx,v=y.table.core;if(Di(y,!0))return v.count({trans:p,query:{index:hi(y,v.schema),range:y.range}}).then(function(T){return Math.min(T,y.limit)});var b=0;return Dr(y,function(){return++b,!1},p,v).then(function(){return b})}).then(o)},Xe.prototype.sortBy=function(o,f){var p=o.split(".").reverse(),y=p[0],v=p.length-1;function b(O,R){return R?b(O[p[R]],R-1):O[y]}var T=this._ctx.dir==="next"?1:-1;function A(O,R){return Le(b(O,v),b(R,v))*T}return this.toArray(function(O){return O.sort(A)}).then(f)},Xe.prototype.toArray=function(o){var f=this;return this._read(function(p){var y=f._ctx;if(y.dir==="next"&&Di(y,!0)&&0<y.limit){var v=y.valueMapper,b=hi(y,y.table.core.schema);return y.table.core.query({trans:p,limit:y.limit,values:!0,query:{index:b,range:y.range}}).then(function(A){return A=A.result,v?A.map(v):A})}var T=[];return Dr(y,function(A){return T.push(A)},p,y.table.core).then(function(){return T})},o)},Xe.prototype.offset=function(o){var f=this._ctx;return o<=0||(f.offset+=o,Di(f)?Nr(f,function(){var p=o;return function(y,v){return p===0||(p===1?--p:v(function(){y.advance(p),p=0}),!1)}}):Nr(f,function(){var p=o;return function(){return--p<0}})),this},Xe.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Nr(this._ctx,function(){var f=o;return function(p,y,v){return--f<=0&&y(v),0<=f}},!0),this},Xe.prototype.until=function(o,f){return cl(this._ctx,function(p,y,v){return!o(p.value)||(y(v),f)}),this},Xe.prototype.first=function(o){return this.limit(1).toArray(function(f){return f[0]}).then(o)},Xe.prototype.last=function(o){return this.reverse().first(o)},Xe.prototype.filter=function(o){var f;return cl(this._ctx,function(p){return o(p.value)}),(f=this._ctx).isMatch=Yi(f.isMatch,o),this},Xe.prototype.and=function(o){return this.filter(o)},Xe.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},Xe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Xe.prototype.desc=function(){return this.reverse()},Xe.prototype.eachKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,y){o(y.key,y)})},Xe.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},Xe.prototype.eachPrimaryKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,y){o(y.primaryKey,y)})},Xe.prototype.keys=function(o){var f=this._ctx;f.keysOnly=!f.isMatch;var p=[];return this.each(function(y,v){p.push(v.key)}).then(function(){return p}).then(o)},Xe.prototype.primaryKeys=function(o){var f=this._ctx;if(f.dir==="next"&&Di(f,!0)&&0<f.limit)return this._read(function(y){var v=hi(f,f.table.core.schema);return f.table.core.query({trans:y,values:!1,limit:f.limit,query:{index:v,range:f.range}})}).then(function(y){return y.result}).then(o);f.keysOnly=!f.isMatch;var p=[];return this.each(function(y,v){p.push(v.primaryKey)}).then(function(){return p}).then(o)},Xe.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},Xe.prototype.firstKey=function(o){return this.limit(1).keys(function(f){return f[0]}).then(o)},Xe.prototype.lastKey=function(o){return this.reverse().firstKey(o)},Xe.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var f={};return cl(this._ctx,function(v){var y=v.primaryKey.toString(),v=x(f,y);return f[y]=!0,!v}),this},Xe.prototype.modify=function(o){var f=this,p=this._ctx;return this._write(function(y){var v=typeof o=="function"?o:function(U){return ul(U,o)},b=p.table.core,R=b.schema.primaryKey,T=R.outbound,A=R.extractKey,O=200,R=f.db._options.modifyChunkSize;R&&(O=typeof R=="object"?R[b.name]||R["*"]||200:R);function L(U,Q){var V=Q.failures,Q=Q.numFailures;H+=U-Q;for(var X=0,te=m(V);X<te.length;X++){var le=te[X];D.push(V[le])}}var D=[],H=0,M=[],k=o===Cs;return f.clone().primaryKeys().then(function(U){function q(Q){var X=Math.min(O,U.length-Q),te=U.slice(Q,Q+X);return(k?Promise.resolve([]):b.getMany({trans:y,keys:te,cache:"immutable"})).then(function(le){var ce=[],ae=[],oe=T?[]:null,ue=k?te:[];if(!k)for(var re=0;re<X;++re){var ge=le[re],Ae={value:En(ge),primKey:U[Q+re]};v.call(Ae,Ae.value,Ae)!==!1&&(Ae.value==null?ue.push(U[Q+re]):T||Le(A(ge),A(Ae.value))===0?(ae.push(Ae.value),T&&oe.push(U[Q+re])):(ue.push(U[Q+re]),ce.push(Ae.value)))}return Promise.resolve(0<ce.length&&b.mutate({trans:y,type:"add",values:ce}).then(function(je){for(var Ie in je.failures)ue.splice(parseInt(Ie),1);L(ce.length,je)})).then(function(){return(0<ae.length||V&&typeof o=="object")&&b.mutate({trans:y,type:"put",keys:oe,values:ae,criteria:V,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<Q}).then(function(je){return L(ae.length,je)})}).then(function(){return(0<ue.length||V&&k)&&b.mutate({trans:y,type:"delete",keys:ue,criteria:V,isAdditionalChunk:0<Q}).then(function(je){return sn(p.table,ue,je)}).then(function(je){return L(ue.length,je)})}).then(function(){return U.length>Q+X&&q(Q+O)})})}var V=Di(p)&&p.limit===1/0&&(typeof o!="function"||k)&&{index:p.index,range:p.range};return q(0).then(function(){if(0<D.length)throw new Me("Error modifying one or more objects",D,H,M);return U.length})})})},Xe.prototype.delete=function(){var o=this._ctx,f=o.range;return!Di(o)||o.table.schema.yProps||!o.isPrimKey&&f.type!==3?this.modify(Cs):this._write(function(p){var y=o.table.core.schema.primaryKey,v=f;return o.table.core.count({trans:p,query:{index:y,range:v}}).then(function(b){return o.table.core.mutate({trans:p,type:"deleteRange",range:v}).then(function(O){var A=O.failures,O=O.numFailures;if(O)throw new Me("Could not delete some values",Object.keys(A).map(function(R){return A[R]}),b-O);return b-O})})})},Xe);function Xe(){}var Cs=function(o,f){return f.value=null};function Ts(o,f){return o<f?-1:o===f?0:1}function nf(o,f){return f<o?-1:o===f?0:1}function wn(o,f,p){return o=o instanceof Qi?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(f),o}function di(o){return new o.Collection(o,function(){return fl("")}).limit(0)}function Rn(o,f,p,y){var v,b,T,A,O,R,L,D=p.length;if(!p.every(function(k){return typeof k=="string"}))return wn(o,It);function H(k){v=k==="next"?function(q){return q.toUpperCase()}:function(q){return q.toLowerCase()},b=k==="next"?function(q){return q.toLowerCase()}:function(q){return q.toUpperCase()},T=k==="next"?Ts:nf;var U=p.map(function(q){return{lower:b(q),upper:v(q)}}).sort(function(q,V){return T(q.lower,V.lower)});A=U.map(function(q){return q.upper}),O=U.map(function(q){return q.lower}),L=(R=k)==="next"?"":y}H("next"),o=new o.Collection(o,function(){return Zn(A[0],O[D-1]+y)}),o._ondirectionchange=function(k){H(k)};var M=0;return o._addAlgorithm(function(k,U,q){var V=k.key;if(typeof V!="string")return!1;var Q=b(V);if(f(Q,O,M))return!0;for(var X=null,te=M;te<D;++te){var le=(function(ce,ae,oe,ue,re,ge){for(var Ae=Math.min(ce.length,ue.length),je=-1,Ie=0;Ie<Ae;++Ie){var $t=ae[Ie];if($t!==ue[Ie])return re(ce[Ie],oe[Ie])<0?ce.substr(0,Ie)+oe[Ie]+oe.substr(Ie+1):re(ce[Ie],ue[Ie])<0?ce.substr(0,Ie)+ue[Ie]+oe.substr(Ie+1):0<=je?ce.substr(0,je)+ae[je]+oe.substr(je+1):null;re(ce[Ie],$t)<0&&(je=Ie)}return Ae<ue.length&&ge==="next"?ce+oe.substr(ce.length):Ae<ce.length&&ge==="prev"?ce.substr(0,oe.length):je<0?null:ce.substr(0,je)+ue[je]+oe.substr(je+1)})(V,Q,A[te],O[te],T,R);le===null&&X===null?M=te+1:(X===null||0<T(X,le))&&(X=le)}return U(X!==null?function(){k.continue(X+L)}:q),!1}),o}function Zn(o,f,p,y){return{type:2,lower:o,upper:f,lowerOpen:p,upperOpen:y}}function fl(o){return{type:1,lower:o,upper:o}}var Qi=(Object.defineProperty(St.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),St.prototype.between=function(o,f,p,y){p=p!==!1,y=y===!0;try{return 0<this._cmp(o,f)||this._cmp(o,f)===0&&(p||y)&&(!p||!y)?di(this):new this.Collection(this,function(){return Zn(o,f,!p,!y)})}catch{return wn(this,gn)}},St.prototype.equals=function(o){return o==null?wn(this,gn):new this.Collection(this,function(){return fl(o)})},St.prototype.above=function(o){return o==null?wn(this,gn):new this.Collection(this,function(){return Zn(o,void 0,!0)})},St.prototype.aboveOrEqual=function(o){return o==null?wn(this,gn):new this.Collection(this,function(){return Zn(o,void 0,!1)})},St.prototype.below=function(o){return o==null?wn(this,gn):new this.Collection(this,function(){return Zn(void 0,o,!1,!0)})},St.prototype.belowOrEqual=function(o){return o==null?wn(this,gn):new this.Collection(this,function(){return Zn(void 0,o)})},St.prototype.startsWith=function(o){return typeof o!="string"?wn(this,It):this.between(o,o+qn,!0,!0)},St.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Rn(this,function(f,p){return f.indexOf(p[0])===0},[o],qn)},St.prototype.equalsIgnoreCase=function(o){return Rn(this,function(f,p){return f===p[0]},[o],"")},St.prototype.anyOfIgnoreCase=function(){var o=Ke.apply(Pe,arguments);return o.length===0?di(this):Rn(this,function(f,p){return p.indexOf(f)!==-1},o,"")},St.prototype.startsWithAnyOfIgnoreCase=function(){var o=Ke.apply(Pe,arguments);return o.length===0?di(this):Rn(this,function(f,p){return p.some(function(y){return f.indexOf(y)===0})},o,qn)},St.prototype.anyOf=function(){var o=this,f=Ke.apply(Pe,arguments),p=this._cmp;try{f.sort(p)}catch{return wn(this,gn)}if(f.length===0)return di(this);var y=new this.Collection(this,function(){return Zn(f[0],f[f.length-1])});y._ondirectionchange=function(b){p=b==="next"?o._ascending:o._descending,f.sort(p)};var v=0;return y._addAlgorithm(function(b,T,A){for(var O=b.key;0<p(O,f[v]);)if(++v===f.length)return T(A),!1;return p(O,f[v])===0||(T(function(){b.continue(f[v])}),!1)}),y},St.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},St.prototype.noneOf=function(){var o=Ke.apply(Pe,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return wn(this,gn)}var f=o.reduce(function(p,y){return p?p.concat([[p[p.length-1][1],y]]):[[-1/0,y]]},null);return f.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},St.prototype.inAnyRange=function(V,f){var p=this,y=this._cmp,v=this._ascending,b=this._descending,T=this._min,A=this._max;if(V.length===0)return di(this);if(!V.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&v(Q[0],Q[1])<=0}))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",me.InvalidArgument);var O=!f||f.includeLowers!==!1,R=f&&f.includeUppers===!0,L,D=v;function H(Q,X){return D(Q[0],X[0])}try{(L=V.reduce(function(Q,X){for(var te=0,le=Q.length;te<le;++te){var ce=Q[te];if(y(X[0],ce[1])<0&&0<y(X[1],ce[0])){ce[0]=T(ce[0],X[0]),ce[1]=A(ce[1],X[1]);break}}return te===le&&Q.push(X),Q},[])).sort(H)}catch{return wn(this,gn)}var M=0,k=R?function(Q){return 0<v(Q,L[M][1])}:function(Q){return 0<=v(Q,L[M][1])},U=O?function(Q){return 0<b(Q,L[M][0])}:function(Q){return 0<=b(Q,L[M][0])},q=k,V=new this.Collection(this,function(){return Zn(L[0][0],L[L.length-1][1],!O,!R)});return V._ondirectionchange=function(Q){D=Q==="next"?(q=k,v):(q=U,b),L.sort(H)},V._addAlgorithm(function(Q,X,te){for(var le,ce=Q.key;q(ce);)if(++M===L.length)return X(te),!1;return!k(le=ce)&&!U(le)||(p._cmp(ce,L[M][1])===0||p._cmp(ce,L[M][0])===0||X(function(){D===v?Q.continue(L[M][0]):Q.continue(L[M][1])}),!1)}),V},St.prototype.startsWithAnyOf=function(){var o=Ke.apply(Pe,arguments);return o.every(function(f){return typeof f=="string"})?o.length===0?di(this):this.inAnyRange(o.map(function(f){return[f,f+qn]})):wn(this,"startsWithAnyOf() only works with strings")},St);function St(){}function Hn(o){return dt(function(f){return Fi(f),o(f.target.error),!1})}function Fi(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var xa="storagemutated",Pi="x-storagemutated-1",Jt=xr(null,xa),ws=(vn.prototype._lock=function(){return mt(!ye.global),++this._reculock,this._reculock!==1||ye.global||(ye.lockOwnerFor=this),this},vn.prototype._unlock=function(){if(mt(!ye.global),--this._reculock==0)for(ye.global||(ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{Ln(o[1],o[0])}catch{}}return this},vn.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},vn.prototype.create=function(o){var f=this;if(!this.mode)return this;var p=this.db.idbdb,y=this.db._state.dbOpenError;if(mt(!this.idbtrans),!o&&!p)switch(y&&y.name){case"DatabaseClosedError":throw new me.DatabaseClosed(y);case"MissingAPIError":throw new me.MissingAPI(y.message,y);default:throw new me.OpenFailed(y)}if(!this.active)throw new me.TransactionInactive;return mt(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=dt(function(v){Fi(v),f._reject(o.error)}),o.onabort=dt(function(v){Fi(v),f.active&&f._reject(new me.Abort(o.error)),f.active=!1,f.on("abort").fire(v)}),o.oncomplete=dt(function(){f.active=!1,f._resolve(),"mutatedParts"in o&&Jt.storagemutated.fire(o.mutatedParts)}),this},vn.prototype._promise=function(o,f,p){var y=this;if(o==="readwrite"&&this.mode!=="readwrite")return ut(new me.ReadOnly("Transaction is readonly"));if(!this.active)return ut(new me.TransactionInactive);if(this._locked())return new de(function(b,T){y._blockedFuncs.push([function(){y._promise(o,f,p).then(b,T)},ye])});if(p)return gt(function(){var b=new de(function(T,A){y._lock();var O=f(T,A,y);O&&O.then&&O.then(T,A)});return b.finally(function(){return y._unlock()}),b._lib=!0,b});var v=new de(function(b,T){var A=f(b,T,y);A&&A.then&&A.then(b,T)});return v._lib=!0,v},vn.prototype._root=function(){return this.parent?this.parent._root():this},vn.prototype.waitFor=function(o){var f,p=this._root(),y=de.resolve(o);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return y}):(p._waitingFor=y,p._waitingQueue=[],f=p.idbtrans.objectStore(p.storeNames[0]),(function b(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(f.get(-1/0).onsuccess=b)})());var v=p._waitingFor;return new de(function(b,T){y.then(function(A){return p._waitingQueue.push(dt(b.bind(null,A)))},function(A){return p._waitingQueue.push(dt(T.bind(null,A)))}).finally(function(){p._waitingFor===v&&(p._waitingFor=null)})})},vn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new me.Abort))},vn.prototype.table=function(o){var f=this._memoizedTables||(this._memoizedTables={});if(x(f,o))return f[o];var p=this.schema[o];if(!p)throw new me.NotFound("Table "+o+" not part of transaction");return p=new this.db.Table(o,p,this),p.core=this.db.core.table(o),f[o]=p},vn);function vn(){}function Jn(o,f,p,y,v,b,T,A){return{name:o,keyPath:f,unique:p,multi:y,auto:v,compound:b,src:(p&&!T?"&":"")+(y?"*":"")+(v?"++":"")+hl(f),type:A}}function hl(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Na(o,f,p){return{name:o,primKey:f,indexes:p,mappedClass:null,idxByName:(y=function(v){return[v.name,v]},p.reduce(function(v,b,T){return T=y(b,T),T&&(v[T[0]]=T[1]),v},{}))};var y}var Da=function(o){try{return o.only([[]]),Da=function(){return[[]]},[[]]}catch{return Da=function(){return qn},qn}};function Oa(o){return o==null?function(){}:typeof o=="string"?(f=o).split(".").length===1?function(p){return p[f]}:function(p){return yt(p,f)}:function(p){return yt(p,o)};var f}function Or(o){return[].slice.call(o)}var lu=0;function qt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Xi(o,f,O){function y(q){if(q.type===3)return null;if(q.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var M=q.lower,k=q.upper,U=q.lowerOpen,q=q.upperOpen;return M===void 0?k===void 0?null:f.upperBound(k,!!q):k===void 0?f.lowerBound(M,!!U):f.bound(M,k,!!U,!!q)}function v(H){var M,k=H.name;return{name:k,schema:H,mutate:function(U){var q=U.trans,V=U.type,Q=U.keys,X=U.values,te=U.range;return new Promise(function(le,ce){le=dt(le);var ae=q.objectStore(k),oe=ae.keyPath==null,ue=V==="put"||V==="add";if(!ue&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var re,ge=(Q||X||{length:1}).length;if(Q&&X&&Q.length!==X.length)throw new Error("Given keys array must have same length as given values array.");if(ge===0)return le({numFailures:0,failures:{},results:[],lastResult:void 0});function Ae(Kt){++$t,Fi(Kt)}var je=[],Ie=[],$t=0;if(V==="deleteRange"){if(te.type===4)return le({numFailures:$t,failures:Ie,results:[],lastResult:void 0});te.type===3?je.push(re=ae.clear()):je.push(re=ae.delete(y(te)))}else{var oe=ue?oe?[X,Q]:[X,null]:[Q,null],Re=oe[0],Ht=oe[1];if(ue)for(var At=0;At<ge;++At)je.push(re=Ht&&Ht[At]!==void 0?ae[V](Re[At],Ht[At]):ae[V](Re[At])),re.onerror=Ae;else for(At=0;At<ge;++At)je.push(re=ae[V](Re[At])),re.onerror=Ae}function kr(Kt){Kt=Kt.target.result,je.forEach(function(Mn,Ls){return Mn.error!=null&&(Ie[Ls]=Mn.error)}),le({numFailures:$t,failures:Ie,results:V==="delete"?Q:je.map(function(Mn){return Mn.result}),lastResult:Kt})}re.onerror=function(Kt){Ae(Kt),kr(Kt)},re.onsuccess=kr})},getMany:function(U){var q=U.trans,V=U.keys;return new Promise(function(Q,X){Q=dt(Q);for(var te,le=q.objectStore(k),ce=V.length,ae=new Array(ce),oe=0,ue=0,re=function(je){je=je.target,ae[je._pos]=je.result,++ue===oe&&Q(ae)},ge=Hn(X),Ae=0;Ae<ce;++Ae)V[Ae]!=null&&((te=le.get(V[Ae]))._pos=Ae,te.onsuccess=re,te.onerror=ge,++oe);oe===0&&Q(ae)})},get:function(U){var q=U.trans,V=U.key;return new Promise(function(Q,X){Q=dt(Q);var te=q.objectStore(k).get(V);te.onsuccess=function(le){return Q(le.target.result)},te.onerror=Hn(X)})},query:(M=R,function(U){return new Promise(function(q,V){q=dt(q);var Q,X,te,oe=U.trans,le=U.values,ce=U.limit,re=U.query,ae=ce===1/0?void 0:ce,ue=re.index,re=re.range,oe=oe.objectStore(k),ue=ue.isPrimaryKey?oe:oe.index(ue.name),re=y(re);if(ce===0)return q({result:[]});M?((ae=le?ue.getAll(re,ae):ue.getAllKeys(re,ae)).onsuccess=function(ge){return q({result:ge.target.result})},ae.onerror=Hn(V)):(Q=0,X=!le&&"openKeyCursor"in ue?ue.openKeyCursor(re):ue.openCursor(re),te=[],X.onsuccess=function(ge){var Ae=X.result;return Ae?(te.push(le?Ae.value:Ae.primaryKey),++Q===ce?q({result:te}):void Ae.continue()):q({result:te})},X.onerror=Hn(V))})}),openCursor:function(U){var q=U.trans,V=U.values,Q=U.query,X=U.reverse,te=U.unique;return new Promise(function(le,ce){le=dt(le);var ue=Q.index,ae=Q.range,oe=q.objectStore(k),oe=ue.isPrimaryKey?oe:oe.index(ue.name),ue=X?te?"prevunique":"prev":te?"nextunique":"next",re=!V&&"openKeyCursor"in oe?oe.openKeyCursor(y(ae),ue):oe.openCursor(y(ae),ue);re.onerror=Hn(ce),re.onsuccess=dt(function(ge){var Ae,je,Ie,$t,Re=re.result;Re?(Re.___id=++lu,Re.done=!1,Ae=Re.continue.bind(Re),je=(je=Re.continuePrimaryKey)&&je.bind(Re),Ie=Re.advance.bind(Re),$t=function(){throw new Error("Cursor not stopped")},Re.trans=q,Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=function(){throw new Error("Cursor not started")},Re.fail=dt(ce),Re.next=function(){var Ht=this,At=1;return this.start(function(){return At--?Ht.continue():Ht.stop()}).then(function(){return Ht})},Re.start=function(Ht){function At(){if(re.result)try{Ht()}catch(Kt){Re.fail(Kt)}else Re.done=!0,Re.start=function(){throw new Error("Cursor behind last entry")},Re.stop()}var kr=new Promise(function(Kt,Mn){Kt=dt(Kt),re.onerror=Hn(Mn),Re.fail=Mn,Re.stop=function(Ls){Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=$t,Kt(Ls)}});return re.onsuccess=dt(function(Kt){re.onsuccess=At,At()}),Re.continue=Ae,Re.continuePrimaryKey=je,Re.advance=Ie,At(),kr},le(Re)):le(null)},ce)})},count:function(U){var q=U.query,V=U.trans,Q=q.index,X=q.range;return new Promise(function(te,le){var ce=V.objectStore(k),ae=Q.isPrimaryKey?ce:ce.index(Q.name),ce=y(X),ae=ce?ae.count(ce):ae.count();ae.onsuccess=dt(function(oe){return te(oe.target.result)}),ae.onerror=Hn(le)})}}}var b,T,A,L=(T=O,A=Or((b=o).objectStoreNames),{schema:{name:b.name,tables:A.map(function(H){return T.objectStore(H)}).map(function(H){var M=H.keyPath,q=H.autoIncrement,k=_(M),U={},q={name:H.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M==null,compound:k,keyPath:M,autoIncrement:q,unique:!0,extractKey:Oa(M)},indexes:Or(H.indexNames).map(function(V){return H.index(V)}).map(function(te){var Q=te.name,X=te.unique,le=te.multiEntry,te=te.keyPath,le={name:Q,compound:_(te),keyPath:te,unique:X,multiEntry:le,extractKey:Oa(te)};return U[qt(te)]=le}),getIndexByKeyPath:function(V){return U[qt(V)]}};return U[":id"]=q.primaryKey,M!=null&&(U[qt(M)]=q.primaryKey),q})},hasGetAll:0<A.length&&"getAll"in T.objectStore(A[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),O=L.schema,R=L.hasGetAll,L=O.tables.map(v),D={};return L.forEach(function(H){return D[H.name]=H}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(H){if(!D[H])throw new Error("Table '".concat(H,"' not found"));return D[H]},MIN_KEY:-1/0,MAX_KEY:Da(f),schema:O}}function dl(o,f,p,y){var v=p.IDBKeyRange;return p.indexedDB,{dbcore:(y=Xi(f,v,y),o.dbcore.reduce(function(b,T){return T=T.create,s(s({},b),T(b))},y))}}function Oi(o,y){var p=y.db,y=dl(o._middlewares,p,o._deps,y);o.core=y.dbcore,o.tables.forEach(function(v){var b=v.name;o.core.schema.tables.some(function(T){return T.name===b})&&(v.core=o.core.table(b),o[b]instanceof o.Table&&(o[b].core=v.core))})}function pl(o,f,p,y){p.forEach(function(v){var b=y[v];f.forEach(function(T){var A=(function O(R,L){return Ee(R,L)||(R=S(R))&&O(R,L)})(T,v);(!A||"value"in A&&A.value===void 0)&&(T===o.Transaction.prototype||T instanceof o.Transaction?ee(T,v,{get:function(){return this.table(v)},set:function(O){$(this,v,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):T[v]=new o.Table(v,b))})})}function Rr(o,f){f.forEach(function(p){for(var y in p)p[y]instanceof o.Table&&delete p[y]})}function As(o,f){return o._cfg.version-f._cfg.version}function Mr(o,f,p,y){var v=o._dbSchema;p.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=Na("$meta",ou("")[0],[]),o._storeNames.push("$meta"));var b=o._createTransaction("readwrite",o._storeNames,v);b.create(p),b._completion.catch(y);var T=b._reject.bind(b),A=ye.transless||ye;gt(function(){return ye.trans=b,ye.transless=A,f!==0?(Oi(o,p),R=f,((O=b).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(L){return L??R}):de.resolve(R)).then(function(L){return H=L,M=b,k=p,U=[],L=(D=o)._versions,q=D._dbSchema=Ra(0,D.idbdb,k),(L=L.filter(function(V){return V._cfg.version>=H})).length!==0?(L.forEach(function(V){U.push(function(){var Q=q,X=V._cfg.dbschema;vl(D,Q,k),vl(D,X,k),q=D._dbSchema=X;var te=yl(Q,X);te.add.forEach(function(ue){xs(k,ue[0],ue[1].primKey,ue[1].indexes)}),te.change.forEach(function(ue){if(ue.recreate)throw new me.Upgrade("Not yet support for changing primary key");var re=k.objectStore(ue.name);ue.add.forEach(function(ge){return gl(re,ge)}),ue.change.forEach(function(ge){re.deleteIndex(ge.name),gl(re,ge)}),ue.del.forEach(function(ge){return re.deleteIndex(ge)})});var le=V._cfg.contentUpgrade;if(le&&V._cfg.version>H){Oi(D,k),M._memoizedTables={};var ce=Mt(X);te.del.forEach(function(ue){ce[ue]=Q[ue]}),Rr(D,[D.Transaction.prototype]),pl(D,[D.Transaction.prototype],m(ce),ce),M.schema=ce;var ae,oe=I(le);return oe&&Bt(),te=de.follow(function(){var ue;(ae=le(M))&&oe&&(ue=Tn.bind(null,null),ae.then(ue,ue))}),ae&&typeof ae.then=="function"?de.resolve(ae):te.then(function(){return ae})}}),U.push(function(Q){var X,te,le=V._cfg.dbschema;X=le,te=Q,[].slice.call(te.db.objectStoreNames).forEach(function(ce){return X[ce]==null&&te.db.deleteObjectStore(ce)}),Rr(D,[D.Transaction.prototype]),pl(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),M.schema=D._dbSchema}),U.push(function(Q){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===V._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(X){return X!=="$meta"})):Q.objectStore("$meta").put(V._cfg.version,"version"))})}),(function V(){return U.length?de.resolve(U.shift()(M.idbtrans)).then(V):de.resolve()})().then(function(){su(q,k)})):de.resolve();var D,H,M,k,U,q}).catch(T)):(m(v).forEach(function(L){xs(p,L,v[L].primKey,v[L].indexes)}),Oi(o,p),void de.follow(function(){return o.on.populate.fire(b)}).catch(T));var O,R})}function ml(o,f){su(o._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var p=Ra(0,o.idbdb,f);vl(o,o._dbSchema,f);for(var y=0,v=yl(p,o._dbSchema).change;y<v.length;y++){var b=(function(T){if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var A=f.objectStore(T.name);T.add.forEach(function(O){On&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(O.src)),gl(A,O)})})(v[y]);if(typeof b=="object")return b.value}}function yl(o,f){var p,y={del:[],add:[],change:[]};for(p in o)f[p]||y.del.push(p);for(p in f){var v=o[p],b=f[p];if(v){var T={name:p,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||v.primKey.auto!==b.primKey.auto)T.recreate=!0,y.change.push(T);else{var A=v.idxByName,O=b.idxByName,R=void 0;for(R in A)O[R]||T.del.push(R);for(R in O){var L=A[R],D=O[R];L?L.src!==D.src&&T.change.push(D):T.add.push(D)}(0<T.del.length||0<T.add.length||0<T.change.length)&&y.change.push(T)}}else y.add.push([p,b])}return y}function xs(o,f,p,y){var v=o.db.createObjectStore(f,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return y.forEach(function(b){return gl(v,b)}),v}function su(o,f){m(o).forEach(function(p){f.db.objectStoreNames.contains(p)||(On&&console.debug("Dexie: Creating missing table",p),xs(f,p,o[p].primKey,o[p].indexes))})}function gl(o,f){o.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function Ra(o,f,p){var y={};return ve(f.objectStoreNames,0).forEach(function(v){for(var b=p.objectStore(v),T=Jn(hl(R=b.keyPath),R||"",!0,!1,!!b.autoIncrement,R&&typeof R!="string",!0),A=[],O=0;O<b.indexNames.length;++O){var L=b.index(b.indexNames[O]),R=L.keyPath,L=Jn(L.name,R,!!L.unique,!!L.multiEntry,!1,R&&typeof R!="string",!1);A.push(L)}y[v]=Na(v,T,A)}),y}function vl(o,f,p){for(var y=p.db.objectStoreNames,v=0;v<y.length;++v){var b=y[v],T=p.objectStore(b);o._hasGetAll="getAll"in T;for(var A=0;A<T.indexNames.length;++A){var O=T.indexNames[A],R=T.index(O).keyPath,L=typeof R=="string"?R:"["+ve(R).join("+")+"]";!f[b]||(R=f[b].idxByName[L])&&(R.name=O,delete f[b].idxByName[L],f[b].idxByName[O]=R)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&d.WorkerGlobalScope&&d instanceof d.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function ou(o){return o.split(",").map(function(f,p){var b=f.split(":"),y=(v=b[1])===null||v===void 0?void 0:v.trim(),v=(f=b[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(v)?v.match(/^\[(.*)\]$/)[1].split("+"):v;return Jn(v,b||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),_(b),p===0,y)})}var af=(Ma.prototype._createTableSchema=Na,Ma.prototype._parseIndexSyntax=ou,Ma.prototype._parseStoresSpec=function(o,f){var p=this;m(o).forEach(function(y){if(o[y]!==null){var v=p._parseIndexSyntax(o[y]),b=v.shift();if(!b)throw new me.Schema("Invalid schema for table "+y+": "+o[y]);if(b.unique=!0,b.multi)throw new me.Schema("Primary key cannot be multiEntry*");v.forEach(function(T){if(T.auto)throw new me.Schema("Only primary key can be marked as autoIncrement (++)");if(!T.keyPath)throw new me.Schema("Index must have a name and cannot be an empty string")}),v=p._createTableSchema(y,b,v),f[y]=v}})},Ma.prototype.stores=function(p){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?E(this._cfg.storesSource,p):p;var p=f._versions,y={},v={};return p.forEach(function(b){E(y,b._cfg.storesSource),v=b._cfg.dbschema={},b._parseStoresSpec(y,v)}),f._dbSchema=v,Rr(f,[f._allTables,f,f.Transaction.prototype]),pl(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],m(v),v),f._storeNames=m(v),this},Ma.prototype.upgrade=function(o){return this._cfg.contentUpgrade=pr(this._cfg.contentUpgrade||$e,o),this},Ma);function Ma(){}function Ns(o,f){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new Wn(Tr,{addons:[],indexedDB:o,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function _l(o){return o&&typeof o.databases=="function"}function Ds(o){return gt(function(){return ye.letThrough=!0,o()})}function Os(o){return!("from"in o)}var Wt=function(o,f){if(!this){var p=new Wt;return o&&"d"in o&&E(p,o),p}E(this,arguments.length?{d:1,from:o,to:1<arguments.length?f:o}:{d:0})};function jr(o,f,p){var y=Le(f,p);if(!isNaN(y)){if(0<y)throw RangeError();if(Os(o))return E(o,{from:f,to:p,d:1});var v=o.l,y=o.r;if(Le(p,o.from)<0)return v?jr(v,f,p):o.l={from:f,to:p,d:1,l:null,r:null},cu(o);if(0<Le(f,o.to))return y?jr(y,f,p):o.r={from:f,to:p,d:1,l:null,r:null},cu(o);Le(f,o.from)<0&&(o.from=f,o.l=null,o.d=y?y.d+1:1),0<Le(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),p=!o.r,v&&!o.l&&Zi(o,v),y&&p&&Zi(o,y)}}function Zi(o,f){Os(f)||(function p(y,O){var b=O.from,T=O.to,A=O.l,O=O.r;jr(y,b,T),A&&p(y,A),O&&p(y,O)})(o,f)}function uu(o,f){var p=bl(f),y=p.next();if(y.done)return!1;for(var v=y.value,b=bl(o),T=b.next(v.from),A=T.value;!y.done&&!T.done;){if(Le(A.from,v.to)<=0&&0<=Le(A.to,v.from))return!0;Le(v.from,A.from)<0?v=(y=p.next(A.from)).value:A=(T=b.next(v.from)).value}return!1}function bl(o){var f=Os(o)?null:{s:0,n:o};return{next:function(p){for(var y=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,y)for(;f.n.l&&Le(p,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!y||Le(p,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function cu(o){var f,p,y=(((f=o.r)===null||f===void 0?void 0:f.d)||0)-(((p=o.l)===null||p===void 0?void 0:p.d)||0),v=1<y?"r":y<-1?"l":"";v&&(f=v=="r"?"l":"r",p=s({},o),y=o[v],o.from=y.from,o.to=y.to,o[v]=y[v],p[v]=y[f],(o[f]=p).d=Rs(p)),o.d=Rs(o)}function Rs(p){var f=p.r,p=p.l;return(f?p?Math.max(f.d,p.d):f.d:p?p.d:0)+1}function Sl(o,f){return m(f).forEach(function(p){o[p]?Zi(o[p],f[p]):o[p]=(function y(v){var b,T,A={};for(b in v)x(v,b)&&(T=v[b],A[b]=!T||typeof T!="object"||jt.has(T.constructor)?T:y(T));return A})(f[p])}),o}function Ms(o,f){return o.all||f.all||Object.keys(o).some(function(p){return f[p]&&uu(f[p],o[p])})}w(Wt.prototype,((An={add:function(o){return Zi(this,o),this},addKey:function(o){return jr(this,o,o),this},addKeys:function(o){var f=this;return o.forEach(function(p){return jr(f,p,p)}),this},hasKey:function(o){var f=bl(this).next(o).value;return f&&Le(f.from,o)<=0&&0<=Le(f.to,o)}})[Z]=function(){return bl(this)},An));var Ji={},js={},zs=!1;function El(o){Sl(js,o),zs||(zs=!0,setTimeout(function(){zs=!1,Bs(js,!(js={}))},0))}function Bs(o,f){f===void 0&&(f=!1);var p=new Set;if(o.all)for(var y=0,v=Object.values(Ji);y<v.length;y++)fu(T=v[y],o,p,f);else for(var b in o){var T,A=/^idb\:\/\/(.*)\/(.*)\//.exec(b);A&&(b=A[1],A=A[2],(T=Ji["idb://".concat(b,"/").concat(A)])&&fu(T,o,p,f))}p.forEach(function(O){return O()})}function fu(o,f,p,y){for(var v=[],b=0,T=Object.entries(o.queries.query);b<T.length;b++){for(var A=T[b],O=A[0],R=[],L=0,D=A[1];L<D.length;L++){var H=D[L];Ms(f,H.obsSet)?H.subscribers.forEach(function(q){return p.add(q)}):y&&R.push(H)}y&&v.push([O,R])}if(y)for(var M=0,k=v;M<k.length;M++){var U=k[M],O=U[0],R=U[1];o.queries.query[O]=R}}function rf(o){var f=o._state,p=o._deps.indexedDB;if(f.isBeingOpened||o.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?ut(f.dbOpenError):o});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var y=f.openCanceller,v=Math.round(10*o.verno),b=!1;function T(){if(f.openCanceller!==y)throw new me.DatabaseClosed("db.open() was cancelled")}function A(){return new de(function(H,M){if(T(),!p)throw new me.MissingAPI;var k=o.name,U=f.autoSchema||!v?p.open(k):p.open(k,v);if(!U)throw new me.MissingAPI;U.onerror=Hn(M),U.onblocked=dt(o._fireOnBlocked),U.onupgradeneeded=dt(function(q){var V;L=U.transaction,f.autoSchema&&!o._options.allowEmptyDB?(U.onerror=Fi,L.abort(),U.result.close(),(V=p.deleteDatabase(k)).onsuccess=V.onerror=dt(function(){M(new me.NoSuchDatabase("Database ".concat(k," doesnt exist")))})):(L.onerror=Hn(M),q=q.oldVersion>Math.pow(2,62)?0:q.oldVersion,D=q<1,o.idbdb=U.result,b&&ml(o,L),Mr(o,q/10,L,M))},M),U.onsuccess=dt(function(){L=null;var q,V,Q,X,te,le=o.idbdb=U.result,ce=ve(le.objectStoreNames);if(0<ce.length)try{var ae=le.transaction((X=ce).length===1?X[0]:X,"readonly");if(f.autoSchema)V=le,Q=ae,(q=o).verno=V.version/10,Q=q._dbSchema=Ra(0,V,Q),q._storeNames=ve(V.objectStoreNames,0),pl(q,[q._allTables],m(Q),Q);else if(vl(o,o._dbSchema,ae),((te=yl(Ra(0,(te=o).idbdb,ae),te._dbSchema)).add.length||te.change.some(function(oe){return oe.add.length||oe.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),le.close(),v=le.version+1,b=!0,H(A());Oi(o,ae)}catch{}Vi.push(o),le.onversionchange=dt(function(oe){f.vcFired=!0,o.on("versionchange").fire(oe)}),le.onclose=dt(function(){o.close({disableAutoOpen:!1})}),D&&(te=o._deps,ae=k,le=te.indexedDB,te=te.IDBKeyRange,_l(le)||ae===Tr||Ns(le,te).put({name:ae}).catch($e)),H()},M)}).catch(function(H){switch(H?.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),A();break;case"VersionError":if(0<v)return v=0,A()}return de.reject(H)})}var O,R=f.dbReadyResolve,L=null,D=!1;return de.race([y,(typeof navigator>"u"?de.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(H){function M(){return indexedDB.databases().finally(H)}O=setInterval(M,100),M()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(A)]).then(function(){return T(),f.onReadyBeingFired=[],de.resolve(Ds(function(){return o.on.ready.fire(o.vip)})).then(function H(){if(0<f.onReadyBeingFired.length){var M=f.onReadyBeingFired.reduce(pr,$e);return f.onReadyBeingFired=[],de.resolve(Ds(function(){return M(o.vip)})).then(H)}})}).finally(function(){f.openCanceller===y&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(H){f.dbOpenError=H;try{L&&L.abort()}catch{}return y===f.openCanceller&&o._close(),ut(H)}).finally(function(){f.openComplete=!0,R()}).then(function(){var H;return D&&(H={},o.tables.forEach(function(M){M.schema.indexes.forEach(function(k){k.name&&(H["idb://".concat(o.name,"/").concat(M.name,"/").concat(k.name)]=new Wt(-1/0,[[[]]]))}),H["idb://".concat(o.name,"/").concat(M.name,"/")]=H["idb://".concat(o.name,"/").concat(M.name,"/:dels")]=new Wt(-1/0,[[[]]])}),Jt(xa).fire(H),Bs(H,!0)),o})}function zr(o){function f(b){return o.next(b)}var p=v(f),y=v(function(b){return o.throw(b)});function v(b){return function(O){var A=b(O),O=A.value;return A.done?O:O&&typeof O.then=="function"?O.then(p,y):_(O)?Promise.all(O).then(p,y):p(O)}}return v(f)()}function Ri(o,f,p){for(var y=_(o)?o.slice():[o],v=0;v<p;++v)y.push(f);return y}var lf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return s(s({},o),{table:function(f){var p=o.table(f),y=p.schema,v={},b=[];function T(D,H,M){var k=qt(D),U=v[k]=v[k]||[],q=D==null?0:typeof D=="string"?1:D.length,V=0<H,V=s(s({},M),{name:V?"".concat(k,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:V,keyTail:H,keyLength:q,extractKey:Oa(D),unique:!V&&M.unique});return U.push(V),V.isPrimaryKey||b.push(V),1<q&&T(q===2?D[0]:D.slice(0,q-1),H+1,M),U.sort(function(Q,X){return Q.keyTail-X.keyTail}),V}f=T(y.primaryKey.keyPath,0,y.primaryKey),v[":id"]=[f];for(var A=0,O=y.indexes;A<O.length;A++){var R=O[A];T(R.keyPath,0,R)}function L(D){var H,M=D.query.index;return M.isVirtual?s(s({},D),{query:{index:M.lowLevelIndex,range:(H=D.query.range,M=M.keyTail,{type:H.type===1?2:H.type,lower:Ri(H.lower,H.lowerOpen?o.MAX_KEY:o.MIN_KEY,M),lowerOpen:!0,upper:Ri(H.upper,H.upperOpen?o.MIN_KEY:o.MAX_KEY,M),upperOpen:!0})}}):D}return s(s({},p),{schema:s(s({},y),{primaryKey:f,indexes:b,getIndexByKeyPath:function(D){return(D=v[qt(D)])&&D[0]}}),count:function(D){return p.count(L(D))},query:function(D){return p.query(L(D))},openCursor:function(D){var H=D.query.index,M=H.keyTail,k=H.isVirtual,U=H.keyLength;return k?p.openCursor(L(D)).then(function(V){return V&&q(V)}):p.openCursor(D);function q(V){return Object.create(V,{continue:{value:function(Q){Q!=null?V.continue(Ri(Q,D.reverse?o.MAX_KEY:o.MIN_KEY,M)):D.unique?V.continue(V.key.slice(0,U).concat(D.reverse?o.MIN_KEY:o.MAX_KEY,M)):V.continue()}},continuePrimaryKey:{value:function(Q,X){V.continuePrimaryKey(Ri(Q,o.MAX_KEY,M),X)}},primaryKey:{get:function(){return V.primaryKey}},key:{get:function(){var Q=V.key;return U===1?Q[0]:Q.slice(0,U)}},value:{get:function(){return V.value}}})}}})}})}};function Cl(o,f,p,y){return p=p||{},y=y||"",m(o).forEach(function(v){var b,T,A;x(f,v)?(b=o[v],T=f[v],typeof b=="object"&&typeof T=="object"&&b&&T?(A=Cn(b))!==Cn(T)?p[y+v]=f[v]:A==="Object"?Cl(b,T,p,y+v+"."):b!==T&&(p[y+v]=f[v]):b!==T&&(p[y+v]=f[v])):p[y+v]=void 0}),m(f).forEach(function(v){x(o,v)||(p[y+v]=f[v])}),p}function Tl(o,f){return f.type==="delete"?f.keys:f.keys||f.values.map(o.extractKey)}var hu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return s(s({},o),{table:function(f){var p=o.table(f),y=p.schema.primaryKey;return s(s({},p),{mutate:function(v){var b=ye.trans,T=b.table(f).hook,A=T.deleting,O=T.creating,R=T.updating;switch(v.type){case"add":if(O.fire===$e)break;return b._promise("readwrite",function(){return L(v)},!0);case"put":if(O.fire===$e&&R.fire===$e)break;return b._promise("readwrite",function(){return L(v)},!0);case"delete":if(A.fire===$e)break;return b._promise("readwrite",function(){return L(v)},!0);case"deleteRange":if(A.fire===$e)break;return b._promise("readwrite",function(){return(function D(H,M,k){return p.query({trans:H,values:!1,query:{index:y,range:M},limit:k}).then(function(U){var q=U.result;return L({type:"delete",keys:q,trans:H}).then(function(V){return 0<V.numFailures?Promise.reject(V.failures[0]):q.length<k?{failures:[],numFailures:0,lastResult:void 0}:D(H,s(s({},M),{lower:q[q.length-1],lowerOpen:!0}),k)})})})(v.trans,v.range,1e4)},!0)}return p.mutate(v);function L(D){var H,M,k,U=ye.trans,q=D.keys||Tl(y,D);if(!q)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?s(s({},D),{keys:q}):s({},D)).type!=="delete"&&(D.values=u([],D.values)),D.keys&&(D.keys=u([],D.keys)),H=p,k=q,((M=D).type==="add"?Promise.resolve([]):H.getMany({trans:M.trans,keys:k,cache:"immutable"})).then(function(V){var Q=q.map(function(X,te){var le,ce,ae,oe=V[te],ue={onerror:null,onsuccess:null};return D.type==="delete"?A.fire.call(ue,X,oe,U):D.type==="add"||oe===void 0?(le=O.fire.call(ue,X,D.values[te],U),X==null&&le!=null&&(D.keys[te]=X=le,y.outbound||Ne(D.values[te],y.keyPath,X))):(le=Cl(oe,D.values[te]),(ce=R.fire.call(ue,le,X,oe,U))&&(ae=D.values[te],Object.keys(ce).forEach(function(re){x(ae,re)?ae[re]=ce[re]:Ne(ae,re,ce[re])}))),ue});return p.mutate(D).then(function(X){for(var te=X.failures,le=X.results,ce=X.numFailures,X=X.lastResult,ae=0;ae<q.length;++ae){var oe=(le||q)[ae],ue=Q[ae];oe==null?ue.onerror&&ue.onerror(te[ae]):ue.onsuccess&&ue.onsuccess(D.type==="put"&&V[ae]?D.values[ae]:oe)}return{failures:te,results:le,numFailures:ce,lastResult:X}}).catch(function(X){return Q.forEach(function(te){return te.onerror&&te.onerror(X)}),Promise.reject(X)})})}}})}})}};function Is(o,f,p){try{if(!f||f.keys.length<o.length)return null;for(var y=[],v=0,b=0;v<f.keys.length&&b<o.length;++v)Le(f.keys[v],o[b])===0&&(y.push(p?En(f.values[v]):f.values[v]),++b);return y.length===o.length?y:null}catch{return null}}var du={stack:"dbcore",level:-1,create:function(o){return{table:function(f){var p=o.table(f);return s(s({},p),{getMany:function(y){if(!y.cache)return p.getMany(y);var v=Is(y.keys,y.trans._cache,y.cache==="clone");return v?de.resolve(v):p.getMany(y).then(function(b){return y.trans._cache={keys:y.keys,values:y.cache==="clone"?En(b):b},b})},mutate:function(y){return y.type!=="add"&&(y.trans._cache=null),p.mutate(y)}})}}}};function Wi(o,f){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function pu(o,f){switch(o){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var sf={stack:"dbcore",level:0,name:"Observability",create:function(o){var f=o.schema.name,p=new Wt(o.MIN_KEY,o.MAX_KEY);return s(s({},o),{transaction:function(y,v,b){if(ye.subscr&&v!=="readonly")throw new me.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ye.querier));return o.transaction(y,v,b)},table:function(y){var v=o.table(y),b=v.schema,T=b.primaryKey,D=b.indexes,A=T.extractKey,O=T.outbound,R=T.autoIncrement&&D.filter(function(M){return M.compound&&M.keyPath.includes(T.keyPath)}),L=s(s({},v),{mutate:function(M){function k(re){return re="idb://".concat(f,"/").concat(y,"/").concat(re),X[re]||(X[re]=new Wt)}var U,q,V,Q=M.trans,X=M.mutatedParts||(M.mutatedParts={}),te=k(""),le=k(":dels"),ce=M.type,ue=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[Tl(T,M).filter(function(re){return re}),M.values]:[],ae=ue[0],oe=ue[1],ue=M.trans._cache;return _(ae)?(te.addKeys(ae),(ue=ce==="delete"||ae.length===oe.length?Is(ae,ue):null)||le.addKeys(ae),(ue||oe)&&(U=k,q=ue,V=oe,b.indexes.forEach(function(re){var ge=U(re.name||"");function Ae(Ie){return Ie!=null?re.extractKey(Ie):null}function je(Ie){return re.multiEntry&&_(Ie)?Ie.forEach(function($t){return ge.addKey($t)}):ge.addKey(Ie)}(q||V).forEach(function(Ie,Ht){var Re=q&&Ae(q[Ht]),Ht=V&&Ae(V[Ht]);Le(Re,Ht)!==0&&(Re!=null&&je(Re),Ht!=null&&je(Ht))})}))):ae?(oe={from:(oe=ae.lower)!==null&&oe!==void 0?oe:o.MIN_KEY,to:(oe=ae.upper)!==null&&oe!==void 0?oe:o.MAX_KEY},le.add(oe),te.add(oe)):(te.add(p),le.add(p),b.indexes.forEach(function(re){return k(re.name).add(p)})),v.mutate(M).then(function(re){return!ae||M.type!=="add"&&M.type!=="put"||(te.addKeys(re.results),R&&R.forEach(function(ge){for(var Ae=M.values.map(function(Re){return ge.extractKey(Re)}),je=ge.keyPath.findIndex(function(Re){return Re===T.keyPath}),Ie=0,$t=re.results.length;Ie<$t;++Ie)Ae[Ie][je]=re.results[Ie];k(ge.name).addKeys(Ae)})),Q.mutatedParts=Sl(Q.mutatedParts||{},X),re})}}),D=function(k){var U=k.query,k=U.index,U=U.range;return[k,new Wt((k=U.lower)!==null&&k!==void 0?k:o.MIN_KEY,(U=U.upper)!==null&&U!==void 0?U:o.MAX_KEY)]},H={get:function(M){return[T,new Wt(M.key)]},getMany:function(M){return[T,new Wt().addKeys(M.keys)]},count:D,query:D,openCursor:D};return m(H).forEach(function(M){L[M]=function(k){var U=ye.subscr,q=!!U,V=Wi(ye,v)&&pu(M,k)?k.obsSet={}:U;if(q){var Q=function(oe){return oe="idb://".concat(f,"/").concat(y,"/").concat(oe),V[oe]||(V[oe]=new Wt)},X=Q(""),te=Q(":dels"),U=H[M](k),q=U[0],U=U[1];if((M==="query"&&q.isPrimaryKey&&!k.values?te:Q(q.name||"")).add(U),!q.isPrimaryKey){if(M!=="count"){var le=M==="query"&&O&&k.values&&v.query(s(s({},k),{values:!1}));return v[M].apply(this,arguments).then(function(oe){if(M==="query"){if(O&&k.values)return le.then(function(Ae){return Ae=Ae.result,X.addKeys(Ae),oe});var ue=k.values?oe.result.map(A):oe.result;(k.values?X:te).addKeys(ue)}else if(M==="openCursor"){var re=oe,ge=k.values;return re&&Object.create(re,{key:{get:function(){return te.addKey(re.primaryKey),re.key}},primaryKey:{get:function(){var Ae=re.primaryKey;return te.addKey(Ae),Ae}},value:{get:function(){return ge&&X.addKey(re.primaryKey),re.value}}})}return oe})}te.add(p)}}return v[M].apply(this,arguments)}}),L}})}};function mu(o,f,p){if(p.numFailures===0)return f;if(f.type==="deleteRange")return null;var y=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return p.numFailures===y?null:(f=s({},f),_(f.keys)&&(f.keys=f.keys.filter(function(v,b){return!(b in p.failures)})),"values"in f&&_(f.values)&&(f.values=f.values.filter(function(v,b){return!(b in p.failures)})),f)}function wl(o,f){return p=o,((y=f).lower===void 0||(y.lowerOpen?0<Le(p,y.lower):0<=Le(p,y.lower)))&&(o=o,(f=f).upper===void 0||(f.upperOpen?Le(o,f.upper)<0:Le(o,f.upper)<=0));var p,y}function ks(o,f,H,y,v,b){if(!H||H.length===0)return o;var T=f.query.index,A=T.multiEntry,O=f.query.range,R=y.schema.primaryKey.extractKey,L=T.extractKey,D=(T.lowLevelIndex||T).extractKey,H=H.reduce(function(M,k){var U=M,q=[];if(k.type==="add"||k.type==="put")for(var V=new Wt,Q=k.values.length-1;0<=Q;--Q){var X,te=k.values[Q],le=R(te);V.hasKey(le)||(X=L(te),(A&&_(X)?X.some(function(re){return wl(re,O)}):wl(X,O))&&(V.addKey(le),q.push(te)))}switch(k.type){case"add":var ce=new Wt().addKeys(f.values?M.map(function(ge){return R(ge)}):M),U=M.concat(f.values?q.filter(function(ge){return ge=R(ge),!ce.hasKey(ge)&&(ce.addKey(ge),!0)}):q.map(function(ge){return R(ge)}).filter(function(ge){return!ce.hasKey(ge)&&(ce.addKey(ge),!0)}));break;case"put":var ae=new Wt().addKeys(k.values.map(function(ge){return R(ge)}));U=M.filter(function(ge){return!ae.hasKey(f.values?R(ge):ge)}).concat(f.values?q:q.map(function(ge){return R(ge)}));break;case"delete":var oe=new Wt().addKeys(k.keys);U=M.filter(function(ge){return!oe.hasKey(f.values?R(ge):ge)});break;case"deleteRange":var ue=k.range;U=M.filter(function(ge){return!wl(R(ge),ue)})}return U},o);return H===o?o:(H.sort(function(M,k){return Le(D(M),D(k))||Le(R(M),R(k))}),f.limit&&f.limit<1/0&&(H.length>f.limit?H.length=f.limit:o.length===f.limit&&H.length<f.limit&&(v.dirty=!0)),b?Object.freeze(H):H)}function ja(o,f){return Le(o.lower,f.lower)===0&&Le(o.upper,f.upper)===0&&!!o.lowerOpen==!!f.lowerOpen&&!!o.upperOpen==!!f.upperOpen}function Br(o,f){return(function(p,y,v,b){if(p===void 0)return y!==void 0?-1:0;if(y===void 0)return 1;if((y=Le(p,y))===0){if(v&&b)return 0;if(v)return 1;if(b)return-1}return y})(o.lower,f.lower,o.lowerOpen,f.lowerOpen)<=0&&0<=(function(p,y,v,b){if(p===void 0)return y!==void 0?1:0;if(y===void 0)return-1;if((y=Le(p,y))===0){if(v&&b)return 0;if(v)return-1;if(b)return 1}return y})(o.upper,f.upper,o.upperOpen,f.upperOpen)}function of(o,f,p,y){o.subscribers.add(p),y.addEventListener("abort",function(){var v,b;o.subscribers.delete(p),o.subscribers.size===0&&(v=o,b=f,setTimeout(function(){v.subscribers.size===0&&we(b,v)},3e3))})}var Al={stack:"dbcore",level:0,name:"Cache",create:function(o){var f=o.schema.name;return s(s({},o),{transaction:function(p,y,v){var b,T,A=o.transaction(p,y,v);return y==="readwrite"&&(T=(b=new AbortController).signal,v=function(O){return function(){if(b.abort(),y==="readwrite"){for(var R=new Set,L=0,D=p;L<D.length;L++){var H=D[L],M=Ji["idb://".concat(f,"/").concat(H)];if(M){var k=o.table(H),U=M.optimisticOps.filter(function(ge){return ge.trans===A});if(A._explicit&&O&&A.mutatedParts)for(var q=0,V=Object.values(M.queries.query);q<V.length;q++)for(var Q=0,X=(ce=V[q]).slice();Q<X.length;Q++)Ms((ae=X[Q]).obsSet,A.mutatedParts)&&(we(ce,ae),ae.subscribers.forEach(function(ge){return R.add(ge)}));else if(0<U.length){M.optimisticOps=M.optimisticOps.filter(function(ge){return ge.trans!==A});for(var te=0,le=Object.values(M.queries.query);te<le.length;te++)for(var ce,ae,oe,ue=0,re=(ce=le[te]).slice();ue<re.length;ue++)(ae=re[ue]).res!=null&&A.mutatedParts&&(O&&!ae.dirty?(oe=Object.isFrozen(ae.res),oe=ks(ae.res,ae.req,U,k,ae,oe),ae.dirty?(we(ce,ae),ae.subscribers.forEach(function(ge){return R.add(ge)})):oe!==ae.res&&(ae.res=oe,ae.promise=de.resolve({result:oe}))):(ae.dirty&&we(ce,ae),ae.subscribers.forEach(function(ge){return R.add(ge)})))}}}R.forEach(function(ge){return ge()})}}},A.addEventListener("abort",v(!1),{signal:T}),A.addEventListener("error",v(!1),{signal:T}),A.addEventListener("complete",v(!0),{signal:T})),A},table:function(p){var y=o.table(p),v=y.schema.primaryKey;return s(s({},y),{mutate:function(b){var T=ye.trans;if(v.outbound||T.db._options.cache==="disabled"||T.explicit||T.idbtrans.mode!=="readwrite")return y.mutate(b);var A=Ji["idb://".concat(f,"/").concat(p)];return A?(T=y.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||Tl(v,b).some(function(O){return O==null}))?(A.optimisticOps.push(b),b.mutatedParts&&El(b.mutatedParts),T.then(function(O){0<O.numFailures&&(we(A.optimisticOps,b),(O=mu(0,b,O))&&A.optimisticOps.push(O),b.mutatedParts&&El(b.mutatedParts))}),T.catch(function(){we(A.optimisticOps,b),b.mutatedParts&&El(b.mutatedParts)})):T.then(function(O){var R=mu(0,s(s({},b),{values:b.values.map(function(L,D){var H;return O.failures[D]?L:(L=(H=v.keyPath)!==null&&H!==void 0&&H.includes(".")?En(L):s({},L),Ne(L,v.keyPath,O.results[D]),L)})}),O);A.optimisticOps.push(R),queueMicrotask(function(){return b.mutatedParts&&El(b.mutatedParts)})}),T):y.mutate(b)},query:function(b){if(!Wi(ye,y)||!pu("query",b))return y.query(b);var T=((R=ye.trans)===null||R===void 0?void 0:R.db._options.cache)==="immutable",D=ye,A=D.requery,O=D.signal,R=(function(k,U,q,V){var Q=Ji["idb://".concat(k,"/").concat(U)];if(!Q)return[];if(!(U=Q.queries[q]))return[null,!1,Q,null];var X=U[(V.query?V.query.index.name:null)||""];if(!X)return[null,!1,Q,null];switch(q){case"query":var te=X.find(function(le){return le.req.limit===V.limit&&le.req.values===V.values&&ja(le.req.query.range,V.query.range)});return te?[te,!0,Q,X]:[X.find(function(le){return("limit"in le.req?le.req.limit:1/0)>=V.limit&&(!V.values||le.req.values)&&Br(le.req.query.range,V.query.range)}),!1,Q,X];case"count":return te=X.find(function(le){return ja(le.req.query.range,V.query.range)}),[te,!!te,Q,X]}})(f,p,"query",b),L=R[0],D=R[1],H=R[2],M=R[3];return L&&D?L.obsSet=b.obsSet:(D=y.query(b).then(function(k){var U=k.result;if(L&&(L.res=U),T){for(var q=0,V=U.length;q<V;++q)Object.freeze(U[q]);Object.freeze(U)}else k.result=En(U);return k}).catch(function(k){return M&&L&&we(M,L),Promise.reject(k)}),L={obsSet:b.obsSet,promise:D,subscribers:new Set,type:"query",req:b,dirty:!1},M?M.push(L):(M=[L],(H=H||(Ji["idb://".concat(f,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=M)),of(L,M,A,O),L.promise.then(function(k){return{result:ks(k.result,b,H?.optimisticOps,y,L,T)}})}})}})}};function Ir(o,f){return new Proxy(o,{get:function(p,y,v){return y==="db"?f:Reflect.get(p,y,v)}})}var Wn=(Et.prototype.version=function(o){if(isNaN(o)||o<.1)throw new me.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new me.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var f=this._versions,p=f.filter(function(y){return y._cfg.version===o})[0];return p||(p=new this.Version(o),f.push(p),f.sort(As),p.stores({}),this._state.autoSchema=!1,p)},Et.prototype._whenReady=function(o){var f=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?o():new de(function(p,y){if(f._state.openComplete)return y(new me.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void y(new me.DatabaseClosed);f.open().catch($e)}f._state.dbReadyPromise.then(p,y)}).then(o)},Et.prototype.use=function(o){var f=o.stack,p=o.create,y=o.level,v=o.name;return v&&this.unuse({stack:f,name:v}),o=this._middlewares[f]||(this._middlewares[f]=[]),o.push({stack:f,create:p,level:y??10,name:v}),o.sort(function(b,T){return b.level-T.level}),this},Et.prototype.unuse=function(o){var f=o.stack,p=o.name,y=o.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(v){return y?v.create!==y:!!p&&v.name!==p})),this},Et.prototype.open=function(){var o=this;return Ln(ln,function(){return rf(o)})},Et.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,f=Vi.indexOf(this);if(0<=f&&Vi.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new de(function(p){o.dbReadyResolve=p}),o.openCanceller=new de(function(p,y){o.cancelOpen=y}))},Et.prototype.close=function(p){var f=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;f?(p.isBeingOpened&&p.cancelOpen(new me.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new me.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},Et.prototype.delete=function(o){var f=this;o===void 0&&(o={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",y=this._state;return new de(function(v,b){function T(){f.close(o);var A=f._deps.indexedDB.deleteDatabase(f.name);A.onsuccess=dt(function(){var O,R,L;O=f._deps,R=f.name,L=O.indexedDB,O=O.IDBKeyRange,_l(L)||R===Tr||Ns(L,O).delete(R).catch($e),v()}),A.onerror=Hn(b),A.onblocked=f._fireOnBlocked}if(p)throw new me.InvalidArgument("Invalid closeOptions argument to db.delete()");y.isBeingOpened?y.dbReadyPromise.then(T):T()})},Et.prototype.backendDB=function(){return this.idbdb},Et.prototype.isOpen=function(){return this.idbdb!==null},Et.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Et.prototype,"tables",{get:function(){var o=this;return m(this._allTables).map(function(f){return o._allTables[f]})},enumerable:!1,configurable:!0}),Et.prototype.transaction=function(){var o=(function(f,p,y){var v=arguments.length;if(v<2)throw new me.InvalidArgument("Too few arguments");for(var b=new Array(v-1);--v;)b[v-1]=arguments[v];return y=b.pop(),[f,Je(b),y]}).apply(this,arguments);return this._transaction.apply(this,o)},Et.prototype._transaction=function(o,f,p){var y=this,v=ye.trans;v&&v.db===this&&o.indexOf("!")===-1||(v=null);var b,T,A=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(T=f.map(function(R){if(R=R instanceof y.Table?R.name:R,typeof R!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return R}),o=="r"||o===fi)b=fi;else{if(o!="rw"&&o!=Ni)throw new me.InvalidArgument("Invalid transaction mode: "+o);b=Ni}if(v){if(v.mode===fi&&b===Ni){if(!A)throw new me.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");v=null}v&&T.forEach(function(R){if(v&&v.storeNames.indexOf(R)===-1){if(!A)throw new me.SubTransaction("Table "+R+" not included in parent transaction.");v=null}}),A&&v&&!v.active&&(v=null)}}catch(R){return v?v._promise(null,function(L,D){D(R)}):ut(R)}var O=(function R(L,D,H,M,k){return de.resolve().then(function(){var U=ye.transless||ye,q=L._createTransaction(D,H,L._dbSchema,M);if(q.explicit=!0,U={trans:q,transless:U},M)q.idbtrans=M.idbtrans;else try{q.create(),q.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(X){return X.name===We.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return R(L,D,H,null,k)})):ut(X)}var V,Q=I(k);return Q&&Bt(),U=de.follow(function(){var X;(V=k.call(q,q))&&(Q?(X=Tn.bind(null,null),V.then(X,X)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=zr(V)))},U),(V&&typeof V.then=="function"?de.resolve(V).then(function(X){return q.active?X:ut(new me.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):U.then(function(){return V})).then(function(X){return M&&q._resolve(),q._completion.then(function(){return X})}).catch(function(X){return q._reject(X),ut(X)})})}).bind(null,this,b,T,v,p);return v?v._promise(b,O,"lock"):ye.trans?Ln(ye.transless,function(){return y._whenReady(O)}):this._whenReady(O)},Et.prototype.table=function(o){if(!x(this._allTables,o))throw new me.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Et);function Et(o,f){var p=this;this._middlewares={},this.verno=0;var y=Et.dependencies;this._options=f=s({addons:Et.addons,autoOpen:!0,indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},y=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v,b,T,A,O,R={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};R.dbReadyPromise=new de(function(D){R.dbReadyResolve=D}),R.openCanceller=new de(function(D,H){R.cancelOpen=H}),this._state=R,this.name=o,this.on=xr(this,"populate","blocked","versionchange","close",{ready:[pr,$e]}),this.once=function(D,H){var M=function(){for(var k=[],U=0;U<arguments.length;U++)k[U]=arguments[U];p.on(D).unsubscribe(M),H.apply(p,k)};return p.on(D,M)},this.on.ready.subscribe=Te(this.on.ready.subscribe,function(D){return function(H,M){Et.vip(function(){var k,U=p._state;U.openComplete?(U.dbOpenError||de.resolve().then(H),M&&D(H)):U.onReadyBeingFired?(U.onReadyBeingFired.push(H),M&&D(H)):(D(H),k=p,M||D(function q(){k.on.ready.unsubscribe(H),k.on.ready.unsubscribe(q)}))})}}),this.Collection=(v=this,Zt(tf.prototype,function(V,q){this.db=v;var M=bs,k=null;if(q)try{M=q()}catch(Q){k=Q}var U=V._ctx,q=U.table,V=q.hook.reading.fire;this._ctx={table:q,index:U.index,isPrimKey:!U.index||q.schema.primKey.keyPath&&U.index===q.schema.primKey.name,range:M,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:k,or:U.or,valueMapper:V!==Sa?V:null}})),this.Table=(b=this,Zt(Ss.prototype,function(D,H,M){this.db=b,this._tx=M,this.name=D,this.schema=H,this.hook=b._allTables[D]?b._allTables[D].hook:xr(null,{creating:[ms,$e],reading:[Li,Sa],updating:[tu,$e],deleting:[Wc,$e]})})),this.Transaction=(T=this,Zt(ws.prototype,function(D,H,M,k,U){var q=this;D!=="readonly"&&H.forEach(function(V){V=(V=M[V])===null||V===void 0?void 0:V.yProps,V&&(H=H.concat(V.map(function(Q){return Q.updatesTable})))}),this.db=T,this.mode=D,this.storeNames=H,this.schema=M,this.chromeTransactionDurability=k,this.idbtrans=null,this.on=xr(this,"complete","error","abort"),this.parent=U||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de(function(V,Q){q._resolve=V,q._reject=Q}),this._completion.then(function(){q.active=!1,q.on.complete.fire()},function(V){var Q=q.active;return q.active=!1,q.on.error.fire(V),q.parent?q.parent._reject(V):Q&&q.idbtrans&&q.idbtrans.abort(),ut(V)})})),this.Version=(A=this,Zt(af.prototype,function(D){this.db=A,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(O=this,Zt(Qi.prototype,function(D,H,M){if(this.db=O,this._ctx={table:D,index:H===":id"?null:H,or:M},this._cmp=this._ascending=Le,this._descending=function(k,U){return Le(U,k)},this._max=function(k,U){return 0<Le(k,U)?k:U},this._min=function(k,U){return Le(k,U)<0?k:U},this._IDBKeyRange=O._deps.IDBKeyRange,!this._IDBKeyRange)throw new me.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=Da(f.IDBKeyRange),this._createTransaction=function(D,H,M,k){return new p.Transaction(D,H,M,p._options.chromeTransactionDurability,k)},this._fireOnBlocked=function(D){p.on("blocked").fire(D),Vi.filter(function(H){return H.name===p.name&&H!==p&&!H._state.vcFired}).map(function(H){return H.on("versionchange").fire(D)})},this.use(du),this.use(Al),this.use(sf),this.use(lf),this.use(hu);var L=new Proxy(this,{get:function(D,H,M){if(H==="_vip")return!0;if(H==="table")return function(U){return Ir(p.table(U),L)};var k=Reflect.get(D,H,M);return k instanceof Ss?Ir(k,L):H==="tables"?k.map(function(U){return Ir(U,L)}):H==="_createTransaction"?function(){return Ir(k.apply(this,arguments),L)}:k}});this.vip=L,y.forEach(function(D){return D(p)})}var za,An=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",yu=(xl.prototype.subscribe=function(o,f,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:f,complete:p})},xl.prototype[An]=function(){return this},xl);function xl(o){this._subscribe=o}try{za={indexedDB:d.indexedDB||d.mozIndexedDB||d.webkitIndexedDB||d.msIndexedDB,IDBKeyRange:d.IDBKeyRange||d.webkitIDBKeyRange}}catch{za={indexedDB:null,IDBKeyRange:null}}function gu(o){var f,p=!1,y=new yu(function(v){var b=I(o),T,A=!1,O={},R={},L={get closed(){return A},unsubscribe:function(){A||(A=!0,T&&T.abort(),D&&Jt.storagemutated.unsubscribe(M))}};v.start&&v.start(L);var D=!1,H=function(){return xi(k)},M=function(U){Sl(O,U),Ms(R,O)&&H()},k=function(){var U,q,V;!A&&za.indexedDB&&(O={},U={},T&&T.abort(),T=new AbortController,V=(function(Q){var X=Ti();try{b&&Bt();var te=gt(o,Q);return te=b?te.finally(Tn):te}finally{X&&Pn()}})(q={subscr:U,signal:T.signal,requery:H,querier:o,trans:null}),Promise.resolve(V).then(function(Q){p=!0,f=Q,A||q.signal.aborted||(O={},(function(X){for(var te in X)if(x(X,te))return;return 1})(R=U)||D||(Jt(xa,M),D=!0),xi(function(){return!A&&v.next&&v.next(Q)}))},function(Q){p=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||A||xi(function(){A||v.error&&v.error(Q)})}))};return setTimeout(H,0),L});return y.hasValue=function(){return p},y.getValue=function(){return f},y}var $i=Wn;function Us(o){var f=Mi;try{Mi=!0,Jt.storagemutated.fire(o),Bs(o,!0)}finally{Mi=f}}w($i,s(s({},Ui),{delete:function(o){return new $i(o,{addons:[]}).delete()},exists:function(o){return new $i(o,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return f=$i.dependencies,p=f.indexedDB,f=f.IDBKeyRange,(_l(p)?Promise.resolve(p.databases()).then(function(y){return y.map(function(v){return v.name}).filter(function(v){return v!==Tr})}):Ns(p,f).toCollection().primaryKeys()).then(o)}catch{return ut(new me.MissingAPI)}var f,p},defineClass:function(){return function(o){E(this,o)}},ignoreTransaction:function(o){return ye.trans?Ln(ye.transless,o):o()},vip:Ds,async:function(o){return function(){try{var f=zr(o.apply(this,arguments));return f&&typeof f.then=="function"?f:de.resolve(f)}catch(p){return ut(p)}}},spawn:function(o,f,p){try{var y=zr(o.apply(p,f||[]));return y&&typeof y.then=="function"?y:de.resolve(y)}catch(v){return ut(v)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(o,f){return f=de.resolve(typeof o=="function"?$i.ignoreTransaction(o):o).timeout(f||6e4),ye.trans?ye.trans.waitFor(f):f},Promise:de,debug:{get:function(){return On},set:function(o){nu(o)}},derive:_e,extend:E,props:w,override:Te,Events:xr,on:Jt,liveQuery:gu,extendObservabilitySet:Sl,getByKeyPath:yt,setByKeyPath:Ne,delByKeyPath:function(o,f){typeof f=="string"?Ne(o,f,void 0):"length"in f&&[].map.call(f,function(p){Ne(o,p,void 0)})},shallowClone:Mt,deepClone:En,getObjectDiff:Cl,cmp:Le,asap:Sn,minKey:-1/0,addons:[],connections:Vi,errnames:We,dependencies:za,cache:Ji,semVer:"4.2.1",version:"4.2.1".split(".").map(function(o){return parseInt(o)}).reduce(function(o,f,p){return o+f/Math.pow(10,2*p)})})),$i.maxKey=Da($i.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Jt(xa,function(o){Mi||(o=new CustomEvent(Pi,{detail:o}),Mi=!0,dispatchEvent(o),Mi=!1)}),addEventListener(Pi,function(o){o=o.detail,Mi||Us(o)}));var Ba,Mi=!1,_n=function(){};return typeof BroadcastChannel<"u"&&((_n=function(){(Ba=new BroadcastChannel(Pi)).onmessage=function(o){return o.data&&Us(o.data)}})(),typeof Ba.unref=="function"&&Ba.unref(),Jt(xa,function(o){Mi||Ba.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Wn.disableBfCache&&o.persisted){On&&console.debug("Dexie: handling persisted pagehide"),Ba?.close();for(var f=0,p=Vi;f<p.length;f++)p[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Wn.disableBfCache&&o.persisted&&(On&&console.debug("Dexie: handling persisted pageshow"),_n(),Us({all:new Wt(-1/0,[[]])}))})),de.rejectionMapper=function(o,f){return!o||o instanceof he||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ba[o.name]?o:(f=new ba[o.name](f||o.message,o),"stack"in o&&ee(f,"stack",{get:function(){return this.inner.stack}}),f)},nu(On),s(Wn,Object.freeze({__proto__:null,Dexie:Wn,liveQuery:gu,Entity:au,cmp:Le,PropModification:Aa,replacePrefix:function(o,f){return new Aa({replacePrefix:[o,f]})},add:function(o){return new Aa({add:o})},remove:function(o){return new Aa({remove:o})},default:Wn,RangeSet:Wt,mergeRanges:Zi,rangesOverlap:uu}),{default:Wn}),Wn})})(vc)),vc.exports}var k0=I0();const dd=T0(k0),Bg=Symbol.for("Dexie"),bc=globalThis[Bg]||(globalThis[Bg]=dd);if(dd.semVer!==bc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${dd.semVer} and ${bc.semVer}`);const{liveQuery:WT,mergeRanges:$T,rangesOverlap:ew,RangeSet:tw,cmp:nw,Entity:iw,PropModification:aw,replacePrefix:rw,add:lw,remove:sw,DexieYProvider:ow}=bc,U0=()=>{};var Ig={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se=function(r,n){if(!r)throw cs(n)},cs=function(r){return new Error("Firebase Database ("+Rv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(r){const n=[];let a=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},L0=function(r){const n=[];let a=0,s=0;for(;a<r.length;){const u=r[a++];if(u<128)n[s++]=String.fromCharCode(u);else if(u>191&&u<224){const d=r[a++];n[s++]=String.fromCharCode((u&31)<<6|d&63)}else if(u>239&&u<365){const d=r[a++],m=r[a++],_=r[a++],E=((u&7)<<18|(d&63)<<12|(m&63)<<6|_&63)-65536;n[s++]=String.fromCharCode(55296+(E>>10)),n[s++]=String.fromCharCode(56320+(E&1023))}else{const d=r[a++],m=r[a++];n[s++]=String.fromCharCode((u&15)<<12|(d&63)<<6|m&63)}}return n.join("")},Bd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,n){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const d=r[u],m=u+1<r.length,_=m?r[u+1]:0,E=u+2<r.length,S=E?r[u+2]:0,B=d>>2,x=(d&3)<<4|_>>4;let w=(_&15)<<2|S>>6,$=S&63;E||($=64,m||(w=64)),s.push(a[B],a[x],a[w],a[$])}return s.join("")},encodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(r):this.encodeByteArray(Mv(r),n)},decodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(r):L0(this.decodeStringToByteArray(r,n))},decodeStringToByteArray(r,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const d=a[r.charAt(u++)],_=u<r.length?a[r.charAt(u)]:0;++u;const S=u<r.length?a[r.charAt(u)]:64;++u;const x=u<r.length?a[r.charAt(u)]:64;if(++u,d==null||_==null||S==null||x==null)throw new q0;const w=d<<2|_>>4;if(s.push(w),S!==64){const $=_<<4&240|S>>2;if(s.push($),x!==64){const ee=S<<6&192|x;s.push(ee)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class q0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jv=function(r){const n=Mv(r);return Bd.encodeByteArray(n,!0)},Sc=function(r){return jv(r).replace(/\./g,"")},pd=function(r){try{return Bd.decodeString(r,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){return zv(void 0,r)}function zv(r,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!K0(a)||(r[a]=zv(r[a],n[a]));return r}function K0(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=()=>V0().__FIREBASE_DEFAULTS__,G0=()=>{if(typeof process>"u"||typeof Ig>"u")return;const r=Ig.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Q0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=r&&pd(r[1]);return n&&JSON.parse(n)},Bv=()=>{try{return U0()||Y0()||G0()||Q0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},F0=r=>{var n,a;return(a=(n=Bv())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[r]},P0=r=>{const n=F0(r);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},Iv=()=>{var r;return(r=Bv())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,n){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",u=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sc(JSON.stringify(a)),Sc(JSON.stringify(m)),""].join(".")}const Ao={};function J0(){const r={prod:[],emulator:[]};for(const n of Object.keys(Ao))Ao[n]?r.emulator.push(n):r.prod.push(n);return r}function W0(r){let n=document.getElementById(r),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",r),a=!0),{created:a,element:n}}let kg=!1;function $0(r,n){if(typeof window>"u"||typeof document>"u"||!Id(window.location.host)||Ao[r]===n||Ao[r]||kg)return;Ao[r]=n;function a(w){return`__firebase__banner__${w}`}const s="__firebase__banner",d=J0().prod.length>0;function m(){const w=document.getElementById(s);w&&w.remove()}function _(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function E(w,$){w.setAttribute("width","24"),w.setAttribute("id",$),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function S(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kg=!0,m()},w}function B(w,$){w.setAttribute("id",$),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=W0(s),$=a("text"),ee=document.getElementById($)||document.createElement("span"),_e=a("learnmore"),Ee=document.getElementById(_e)||document.createElement("a"),it=a("preprendIcon"),ve=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Te=w.element;_(Te),B(Ee,_e);const mt=S();E(ve,it),Te.append(ve,ee,Ee,mt),document.body.appendChild(Te)}d?(ee.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e1())}function t1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n1(){return Rv.NODE_ADMIN===!0}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function a1(){return new Promise((r,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{var d;n(((d=u.error)===null||d===void 0?void 0:d.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="FirebaseError";class Po extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=r1,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uv.prototype.create)}}class Uv{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},u=`${this.service}/${n}`,d=this.errors[n],m=d?l1(d,s):"Error",_=`${this.serviceName}: ${m} (${u}).`;return new Po(u,_,s)}}function l1(r,n){return r.replace(s1,(a,s)=>{const u=n[s];return u!=null?String(u):`<${s}?>`})}const s1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(r){return JSON.parse(r)}function Xt(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(r){let n={},a={},s={},u="";try{const d=r.split(".");n=Mo(pd(d[0])||""),a=Mo(pd(d[1])||""),u=d[2],s=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:s,signature:u}},o1=function(r){const n=Lv(r),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},u1=function(r){const n=Lv(r).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r,n){return Object.prototype.hasOwnProperty.call(r,n)}function is(r,n){if(Object.prototype.hasOwnProperty.call(r,n))return r[n]}function Ug(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}function Ec(r,n,a){const s={};for(const u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=n.call(a,r[u],u,r));return s}function Cc(r,n){if(r===n)return!0;const a=Object.keys(r),s=Object.keys(n);for(const u of a){if(!s.includes(u))return!1;const d=r[u],m=n[u];if(Lg(d)&&Lg(m)){if(!Cc(d,m))return!1}else if(d!==m)return!1}for(const u of s)if(!a.includes(u))return!1;return!0}function Lg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){const n=[];for(const[a,s]of Object.entries(r))Array.isArray(s)?s.forEach(u=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const s=this.W_;if(typeof n=="string")for(let x=0;x<16;x++)s[x]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let x=0;x<16;x++)s[x]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let x=16;x<80;x++){const w=s[x-3]^s[x-8]^s[x-14]^s[x-16];s[x]=(w<<1|w>>>31)&4294967295}let u=this.chain_[0],d=this.chain_[1],m=this.chain_[2],_=this.chain_[3],E=this.chain_[4],S,B;for(let x=0;x<80;x++){x<40?x<20?(S=_^d&(m^_),B=1518500249):(S=d^m^_,B=1859775393):x<60?(S=d&m|_&(d|m),B=2400959708):(S=d^m^_,B=3395469782);const w=(u<<5|u>>>27)+S+E+B+s[x]&4294967295;E=_,_=m,m=(d<<30|d>>>2)&4294967295,d=u,u=w}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+E&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const s=a-this.blockSize;let u=0;const d=this.buf_;let m=this.inbuf_;for(;u<a;){if(m===0)for(;u<=s;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<a;)if(d[m]=n.charCodeAt(u),++m,++u,m===this.blockSize){this.compress_(d),m=0;break}}else for(;u<a;)if(d[m]=n[u],++m,++u,m===this.blockSize){this.compress_(d),m=0;break}}this.inbuf_=m,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=a&255,a/=256;this.compress_(this.buf_);let s=0;for(let u=0;u<5;u++)for(let d=24;d>=0;d-=8)n[s]=this.chain_[u]>>d&255,++s;return n}}function Lc(r,n){return`${r} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(r){const n=[];let a=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);if(u>=55296&&u<=56319){const d=u-55296;s++,se(s<r.length,"Surrogate pair missing trail surrogate.");const m=r.charCodeAt(s)-56320;u=65536+(d<<10)+m}u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):u<65536?(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},qc=function(r){let n=0;for(let a=0;a<r.length;a++){const s=r.charCodeAt(a);s<128?n++:s<2048?n+=2:s>=55296&&s<=56319?(n+=4,a++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(r){return r&&r._delegate?r._delegate:r}class jo{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new Fo;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const s=this.normalizeInstanceIdentifier(n?.identifier),u=(a=n?.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(d){if(u)return null;throw d}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(m1(n))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const d=this.getOrInitializeService({instanceIdentifier:u});s.resolve(d)}catch{}}}}clearInstance(n=Zr){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Zr){return this.instances.has(n)}getOptions(n=Zr){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[d,m]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(d);s===_&&m.resolve(u)}return u}onInit(n,a){var s;const u=this.normalizeInstanceIdentifier(a),d=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;d.add(n),this.onInitCallbacks.set(u,d);const m=this.instances.get(u);return m&&n(m,u),()=>{d.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const u of s)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:p1(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=Zr){return this.component?this.component.multipleInstances?n:Zr:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p1(r){return r===Zr?void 0:r}function m1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new d1(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(_t||(_t={}));const g1={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},v1=_t.INFO,_1={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},b1=(r,n,...a)=>{if(n<r.logLevel)return;const s=new Date().toISOString(),u=_1[n];if(u)console[u](`[${s}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class qv{constructor(n){this.name=n,this._logLevel=v1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in _t))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?g1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...n),this._logHandler(this,_t.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...n),this._logHandler(this,_t.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...n),this._logHandler(this,_t.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...n),this._logHandler(this,_t.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...n),this._logHandler(this,_t.ERROR,...n)}}const S1=(r,n)=>n.some(a=>r instanceof a);let qg,Hg;function E1(){return qg||(qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C1(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,md=new WeakMap,Kv=new WeakMap,$h=new WeakMap,kd=new WeakMap;function T1(r){const n=new Promise((a,s)=>{const u=()=>{r.removeEventListener("success",d),r.removeEventListener("error",m)},d=()=>{a(rr(r.result)),u()},m=()=>{s(r.error),u()};r.addEventListener("success",d),r.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&Hv.set(a,r)}).catch(()=>{}),kd.set(n,r),n}function w1(r){if(md.has(r))return;const n=new Promise((a,s)=>{const u=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",m),r.removeEventListener("abort",m)},d=()=>{a(),u()},m=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",d),r.addEventListener("error",m),r.addEventListener("abort",m)});md.set(r,n)}let yd={get(r,n,a){if(r instanceof IDBTransaction){if(n==="done")return md.get(r);if(n==="objectStoreNames")return r.objectStoreNames||Kv.get(r);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return rr(r[n])},set(r,n,a){return r[n]=a,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function A1(r){yd=r(yd)}function x1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=r.call(ed(this),n,...a);return Kv.set(s,n.sort?n.sort():[n]),rr(s)}:C1().includes(r)?function(...n){return r.apply(ed(this),n),rr(Hv.get(this))}:function(...n){return rr(r.apply(ed(this),n))}}function N1(r){return typeof r=="function"?x1(r):(r instanceof IDBTransaction&&w1(r),S1(r,E1())?new Proxy(r,yd):r)}function rr(r){if(r instanceof IDBRequest)return T1(r);if($h.has(r))return $h.get(r);const n=N1(r);return n!==r&&($h.set(r,n),kd.set(n,r)),n}const ed=r=>kd.get(r);function D1(r,n,{blocked:a,upgrade:s,blocking:u,terminated:d}={}){const m=indexedDB.open(r,n),_=rr(m);return s&&m.addEventListener("upgradeneeded",E=>{s(rr(m.result),E.oldVersion,E.newVersion,rr(m.transaction),E)}),a&&m.addEventListener("blocked",E=>a(E.oldVersion,E.newVersion,E)),_.then(E=>{d&&E.addEventListener("close",()=>d()),u&&E.addEventListener("versionchange",S=>u(S.oldVersion,S.newVersion,S))}).catch(()=>{}),_}const O1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],td=new Map;function Kg(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(td.get(n))return td.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,u=R1.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(u||O1.includes(a)))return;const d=async function(m,..._){const E=this.transaction(m,u?"readwrite":"readonly");let S=E.store;return s&&(S=S.index(_.shift())),(await Promise.all([S[a](..._),u&&E.done]))[0]};return td.set(n,d),d}A1(r=>({...r,get:(n,a,s)=>Kg(n,a)||r.get(n,a,s),has:(n,a)=>!!Kg(n,a)||r.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(j1(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function j1(r){const n=r.getComponent();return n?.type==="VERSION"}const gd="@firebase/app",Vg="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new qv("@firebase/app"),z1="@firebase/app-compat",B1="@firebase/analytics-compat",I1="@firebase/analytics",k1="@firebase/app-check-compat",U1="@firebase/app-check",L1="@firebase/auth",q1="@firebase/auth-compat",H1="@firebase/database",K1="@firebase/data-connect",V1="@firebase/database-compat",Y1="@firebase/functions",G1="@firebase/functions-compat",Q1="@firebase/installations",F1="@firebase/installations-compat",P1="@firebase/messaging",X1="@firebase/messaging-compat",Z1="@firebase/performance",J1="@firebase/performance-compat",W1="@firebase/remote-config",$1="@firebase/remote-config-compat",eS="@firebase/storage",tS="@firebase/storage-compat",nS="@firebase/firestore",iS="@firebase/ai",aS="@firebase/firestore-compat",rS="firebase",lS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",sS={[gd]:"fire-core",[z1]:"fire-core-compat",[I1]:"fire-analytics",[B1]:"fire-analytics-compat",[U1]:"fire-app-check",[k1]:"fire-app-check-compat",[L1]:"fire-auth",[q1]:"fire-auth-compat",[H1]:"fire-rtdb",[K1]:"fire-data-connect",[V1]:"fire-rtdb-compat",[Y1]:"fire-fn",[G1]:"fire-fn-compat",[Q1]:"fire-iid",[F1]:"fire-iid-compat",[P1]:"fire-fcm",[X1]:"fire-fcm-compat",[Z1]:"fire-perf",[J1]:"fire-perf-compat",[W1]:"fire-rc",[$1]:"fire-rc-compat",[eS]:"fire-gcs",[tS]:"fire-gcs-compat",[nS]:"fire-fst",[aS]:"fire-fst-compat",[iS]:"fire-vertex","fire-js":"fire-js",[rS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,oS=new Map,_d=new Map;function Yg(r,n){try{r.container.addComponent(n)}catch(a){ga.debug(`Component ${n.name} failed to register with FirebaseApp ${r.name}`,a)}}function wc(r){const n=r.name;if(_d.has(n))return ga.debug(`There were multiple attempts to register component ${n}.`),!1;_d.set(n,r);for(const a of Tc.values())Yg(a,r);for(const a of oS.values())Yg(a,r);return!0}function uS(r,n){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(n)}function cS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Uv("app","Firebase",fS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(n,a,s){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=lS;function Vv(r,n={}){let a=r;typeof n!="object"&&(n={name:n});const s=Object.assign({name:vd,automaticDataCollectionEnabled:!0},n),u=s.name;if(typeof u!="string"||!u)throw lr.create("bad-app-name",{appName:String(u)});if(a||(a=Iv()),!a)throw lr.create("no-options");const d=Tc.get(u);if(d){if(Cc(a,d.options)&&Cc(s,d.config))return d;throw lr.create("duplicate-app",{appName:u})}const m=new y1(u);for(const E of _d.values())m.addComponent(E);const _=new hS(a,s,m);return Tc.set(u,_),_}function pS(r=vd){const n=Tc.get(r);if(!n&&r===vd&&Iv())return Vv();if(!n)throw lr.create("no-app",{appName:r});return n}function es(r,n,a){var s;let u=(s=sS[r])!==null&&s!==void 0?s:r;a&&(u+=`-${a}`);const d=u.match(/\s|\//),m=n.match(/\s|\//);if(d||m){const _=[`Unable to register library "${u}" with version "${n}":`];d&&_.push(`library name "${u}" contains illegal characters (whitespace or "/")`),d&&m&&_.push("and"),m&&_.push(`version name "${n}" contains illegal characters (whitespace or "/")`),ga.warn(_.join(" "));return}wc(new jo(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebase-heartbeat-database",yS=1,zo="firebase-heartbeat-store";let nd=null;function Yv(){return nd||(nd=D1(mS,yS,{upgrade:(r,n)=>{switch(n){case 0:try{r.createObjectStore(zo)}catch(a){console.warn(a)}}}}).catch(r=>{throw lr.create("idb-open",{originalErrorMessage:r.message})})),nd}async function gS(r){try{const a=(await Yv()).transaction(zo),s=await a.objectStore(zo).get(Gv(r));return await a.done,s}catch(n){if(n instanceof Po)ga.warn(n.message);else{const a=lr.create("idb-get",{originalErrorMessage:n?.message});ga.warn(a.message)}}}async function Gg(r,n){try{const s=(await Yv()).transaction(zo,"readwrite");await s.objectStore(zo).put(n,Gv(r)),await s.done}catch(a){if(a instanceof Po)ga.warn(a.message);else{const s=lr.create("idb-set",{originalErrorMessage:a?.message});ga.warn(s.message)}}}function Gv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,_S=30;class bS{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new ES(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,a;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=Qg();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===d||this._heartbeatsCache.heartbeats.some(m=>m.date===d))return;if(this._heartbeatsCache.heartbeats.push({date:d,agent:u}),this._heartbeatsCache.heartbeats.length>_S){const m=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ga.warn(s)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Qg(),{heartbeatsToSend:s,unsentEntries:u}=SS(this._heartbeatsCache.heartbeats),d=Sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(a){return ga.warn(a),""}}}function Qg(){return new Date().toISOString().substring(0,10)}function SS(r,n=vS){const a=[];let s=r.slice();for(const u of r){const d=a.find(m=>m.agent===u.agent);if(d){if(d.dates.push(u.date),Fg(a)>n){d.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),Fg(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class ES{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?a1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await gS(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const u=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const u=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function Fg(r){return Sc(JSON.stringify({version:2,heartbeats:r})).length}function CS(r){if(r.length===0)return-1;let n=0,a=r[0].date;for(let s=1;s<r.length;s++)r[s].date<a&&(a=r[s].date,n=s);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r){wc(new jo("platform-logger",n=>new M1(n),"PRIVATE")),wc(new jo("heartbeat",n=>new bS(n),"PRIVATE")),es(gd,Vg,r),es(gd,Vg,"esm2017"),es("fire-js","")}TS("");var wS="firebase",AS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(wS,AS,"app");var Pg={};const Xg="@firebase/database",Zg="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv="";function xS(r){Qv=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Xt(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:Mo(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return ki(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const n=window[r];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new NS(n)}}catch{}return new DS},Wr=Fv("localStorage"),OS=Fv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new qv("@firebase/database"),RS=(function(){let r=1;return function(){return r++}})(),Pv=function(r){const n=h1(r),a=new f1;a.update(n);const s=a.digest();return Bd.encodeByteArray(s)},Xo=function(...r){let n="";for(let a=0;a<r.length;a++){const s=r[a];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?n+=Xo.apply(null,s):typeof s=="object"?n+=Xt(s):n+=s,n+=" "}return n};let xo=null,Jg=!0;const MS=function(r,n){se(!0,"Can't turn on custom loggers persistently."),ts.logLevel=_t.VERBOSE,xo=ts.log.bind(ts)},dn=function(...r){if(Jg===!0&&(Jg=!1,xo===null&&OS.get("logging_enabled")===!0&&MS()),xo){const n=Xo.apply(null,r);xo(n)}},Zo=function(r){return function(...n){dn(r,...n)}},bd=function(...r){const n="FIREBASE INTERNAL ERROR: "+Xo(...r);ts.error(n)},va=function(...r){const n=`FIREBASE FATAL ERROR: ${Xo(...r)}`;throw ts.error(n),new Error(n)},Dn=function(...r){const n="FIREBASE WARNING: "+Xo(...r);ts.warn(n)},jS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ud=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},zS=function(r){if(document.readyState==="complete")r();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},el="[MIN_NAME]",ur="[MAX_NAME]",il=function(r,n){if(r===n)return 0;if(r===el||n===ur)return-1;if(n===el||r===ur)return 1;{const a=Wg(r),s=Wg(n);return a!==null?s!==null?a-s===0?r.length-n.length:a-s:-1:s!==null?1:r<n?-1:1}},BS=function(r,n){return r===n?0:r<n?-1:1},So=function(r,n){if(n&&r in n)return n[r];throw new Error("Missing required key ("+r+") in object: "+Xt(n))},Ld=function(r){if(typeof r!="object"||r===null)return Xt(r);const n=[];for(const s in r)n.push(s);n.sort();let a="{";for(let s=0;s<n.length;s++)s!==0&&(a+=","),a+=Xt(n[s]),a+=":",a+=Ld(r[n[s]]);return a+="}",a},Xv=function(r,n){const a=r.length;if(a<=n)return[r];const s=[];for(let u=0;u<a;u+=n)u+n>a?s.push(r.substring(u,a)):s.push(r.substring(u,u+n));return s};function mn(r,n){for(const a in r)r.hasOwnProperty(a)&&n(a,r[a])}const Zv=function(r){se(!Ud(r),"Invalid JSON number");const n=11,a=52,s=(1<<n-1)-1;let u,d,m,_,E;r===0?(d=0,m=0,u=1/r===-1/0?1:0):(u=r<0,r=Math.abs(r),r>=Math.pow(2,1-s)?(_=Math.min(Math.floor(Math.log(r)/Math.LN2),s),d=_+s,m=Math.round(r*Math.pow(2,a-_)-Math.pow(2,a))):(d=0,m=Math.round(r/Math.pow(2,1-s-a))));const S=[];for(E=a;E;E-=1)S.push(m%2?1:0),m=Math.floor(m/2);for(E=n;E;E-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(u?1:0),S.reverse();const B=S.join("");let x="";for(E=0;E<64;E+=8){let w=parseInt(B.substr(E,8),2).toString(16);w.length===1&&(w="0"+w),x=x+w}return x.toLowerCase()},IS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function US(r,n){let a="Unknown Error";r==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?a="Client doesn't have permission to access the desired data.":r==="unavailable"&&(a="The service is unavailable");const s=new Error(r+" at "+n._path.toString()+": "+a);return s.code=r.toUpperCase(),s}const LS=new RegExp("^-?(0*)\\d{1,10}$"),qS=-2147483648,HS=2147483647,Wg=function(r){if(LS.test(r)){const n=Number(r);if(n>=qS&&n<=HS)return n}return null},fs=function(r){try{r()}catch(n){setTimeout(()=>{const a=n.stack||"";throw Dn("Exception was thrown by user callback.",a),n},Math.floor(0))}},KS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},No=function(r,n){const a=setTimeout(r,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,cS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(s=>this.appCheck=s)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){var a;(a=this.appCheckProvider)===null||a===void 0||a.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(n,a,s){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,s):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(n)}}class _c{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}_c.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="5",Jv="v",Wv="s",$v="r",e_="f",t_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,n_="ls",i_="p",Sd="ac",a_="websocket",r_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(n,a,s,u,d=!1,m="",_=!1,E=!1,S=null){this.secure=a,this.namespace=s,this.webSocketOnly=u,this.nodeAdmin=d,this.persistenceKey=m,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=E,this.emulatorOptions=S,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wr.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Wr.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function GS(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function s_(r,n,a){se(typeof n=="string","typeof type must == string"),se(typeof a=="object","typeof params must == object");let s;if(n===a_)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(n===r_)s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);GS(r)&&(a.ns=r.namespace);const u=[];return mn(a,(d,m)=>{u.push(d+"="+m)}),s+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.counters_={}}incrementCounter(n,a=1){ki(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return H0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id={},ad={};function Hd(r){const n=r.toString();return id[n]||(id[n]=new QS),id[n]}function FS(r,n){const a=r.toString();return ad[a]||(ad[a]=n()),ad[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<s.length;++u)s[u]&&fs(()=>{this.onMessage_(s[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="start",XS="close",ZS="pLPCommand",JS="pRTLPCB",o_="id",u_="pw",c_="ser",WS="cb",$S="seg",eE="ts",tE="d",nE="dframe",f_=1870,h_=30,iE=f_-h_,aE=25e3,rE=3e4;class $l{constructor(n,a,s,u,d,m,_){this.connId=n,this.repoInfo=a,this.applicationId=s,this.appCheckToken=u,this.authToken=d,this.transportSessionId=m,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zo(n),this.stats_=Hd(a),this.urlFn=E=>(this.appCheckToken&&(E[Sd]=this.appCheckToken),s_(a,r_,E))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new PS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rE)),zS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kd((...d)=>{const[m,_,E,S,B]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===$g)this.id=_,this.password=E;else if(m===XS)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...d)=>{const[m,_]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(m,_)},()=>{this.onClosed_()},this.urlFn);const s={};s[$g]="t",s[c_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[WS]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Jv]=qd,this.transportSessionId&&(s[Wv]=this.transportSessionId),this.lastSessionId&&(s[n_]=this.lastSessionId),this.applicationId&&(s[i_]=this.applicationId),this.appCheckToken&&(s[Sd]=this.appCheckToken),typeof location<"u"&&location.hostname&&t_.test(location.hostname)&&(s[$v]=e_);const u=this.urlFn(s);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$l.forceAllow_=!0}static forceDisallow(){$l.forceDisallow_=!0}static isAvailable(){return $l.forceAllow_?!0:!$l.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!IS()&&!kS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=Xt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=jv(a),u=Xv(s,iE);for(let d=0;d<u.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[d]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const s={};s[nE]="t",s[o_]=n,s[u_]=a,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=Xt(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Kd{constructor(n,a,s,u){this.onDisconnect=s,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RS(),window[ZS+this.uniqueCallbackIdentifier]=n,window[JS+this.uniqueCallbackIdentifier]=a,this.myIFrame=Kd.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(_){dn("frame writing exception"),_.stack&&dn(_.stack),dn(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||dn("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[o_]=this.myID,n[u_]=this.myPW,n[c_]=this.currentSerial;let a=this.urlFn(n),s="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+h_+s.length<=f_;){const m=this.pendingSegs.shift();s=s+"&"+$S+u+"="+m.seg+"&"+eE+u+"="+m.ts+"&"+tE+u+"="+m.d,u++}return a=a+s,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,s){this.pendingSegs.push({seg:n,ts:a,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const s=()=>{this.outstandingRequests.delete(a),this.newRequest_()},u=setTimeout(s,Math.floor(aE)),d=()=>{clearTimeout(u),s()};this.addTag(n,d)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const u=s.readyState;(!u||u==="loaded"||u==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),a())},s.onerror=()=>{dn("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=16384,sE=45e3;let Ac=null;typeof MozWebSocket<"u"?Ac=MozWebSocket:typeof WebSocket<"u"&&(Ac=WebSocket);class yi{constructor(n,a,s,u,d,m,_){this.connId=n,this.applicationId=s,this.appCheckToken=u,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zo(this.connId),this.stats_=Hd(a),this.connURL=yi.connectionURL_(a,m,_,u,s),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,s,u,d){const m={};return m[Jv]=qd,typeof location<"u"&&location.hostname&&t_.test(location.hostname)&&(m[$v]=e_),a&&(m[Wv]=a),s&&(m[n_]=s),u&&(m[Sd]=u),d&&(m[i_]=d),s_(n,a_,m)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wr.set("previous_websocket_failure",!0);try{let s;n1(),this.mySock=new Ac(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const u=s.message||s.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const u=s.message||s.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){yi.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(a);s&&s.length>1&&parseFloat(s[1])<4.4&&(n=!0)}return!n&&Ac!==null&&!yi.forceDisallow_}static previouslyFailed(){return Wr.isInMemoryStorage||Wr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const s=Mo(a);this.onMessage(s)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(se(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const s=this.extractFrameCount_(a);s!==null&&this.appendFrame_(s)}}send(n){this.resetKeepAlive();const a=Xt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=Xv(a,lE);s.length>1&&this.sendString_(String(s.length));for(let u=0;u<s.length;u++)this.sendString_(s[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sE))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yi.responsesRequiredToBeHealthy=2;yi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static get ALL_TRANSPORTS(){return[$l,yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=yi&&yi.isAvailable();let s=a&&!yi.previouslyFailed();if(n.webSocketOnly&&(a||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[yi];else{const u=this.transports_=[];for(const d of Bo.ALL_TRANSPORTS)d&&d.isAvailable()&&u.push(d);Bo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=6e4,uE=5e3,cE=10*1024,fE=100*1024,rd="t",ev="d",hE="s",tv="r",dE="e",nv="o",iv="a",av="n",rv="p",pE="h";class mE{constructor(n,a,s,u,d,m,_,E,S,B){this.id=n,this.repoInfo_=a,this.applicationId_=s,this.appCheckToken_=u,this.authToken_=d,this.onMessage_=m,this.onReady_=_,this.onDisconnect_=E,this.onKill_=S,this.lastSessionId=B,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zo("c:"+this.id+":"),this.transportManager_=new Bo(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,s)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=No(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(rd in n){const a=n[rd];a===iv?this.upgradeIfSecondaryHealthy_():a===tv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===nv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=So("t",n),s=So("d",n);if(a==="c")this.onSecondaryControl_(s);else if(a==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:av,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=So("t",n),s=So("d",n);a==="c"?this.onControl_(s):a==="d"&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=So(rd,n);if(ev in n){const s=n[ev];if(a===pE){const u=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(a===av){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===hE?this.onConnectionShutdown_(s):a===tv?this.onReset_(s):a===dE?bd("Server Error: "+s):a===nv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bd("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,s=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),qd!==s&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,s),No(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):No(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rv,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{put(n,a,s,u){}merge(n,a,s,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,s){}onDisconnectMerge(n,a,s){}onDisconnectCancel(n,a){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(n){this.allowedEvents_=n,this.listeners_={},se(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let u=0;u<s.length;u++)s[u].callback.apply(s[u].context,a)}}on(n,a,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:s});const u=this.getInitialEvent(n);u&&a.apply(s,u)}off(n,a,s){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let d=0;d<u.length;d++)if(u[d].callback===a&&(!s||s===u[d].context)){u.splice(d,1);return}}validateEventType_(n){se(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends p_{static getInstance(){return new xc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return se(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=32,sv=768;class ot{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let s=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[s]=this.pieces_[u],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function nt(){return new ot("")}function Fe(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function cr(r){return r.pieces_.length-r.pieceNum_}function bt(r){let n=r.pieceNum_;return n<r.pieces_.length&&n++,new ot(r.pieces_,n)}function Vd(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function yE(r){let n="";for(let a=r.pieceNum_;a<r.pieces_.length;a++)r.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(r.pieces_[a])));return n||"/"}function Io(r,n=0){return r.pieces_.slice(r.pieceNum_+n)}function m_(r){if(r.pieceNum_>=r.pieces_.length)return null;const n=[];for(let a=r.pieceNum_;a<r.pieces_.length-1;a++)n.push(r.pieces_[a]);return new ot(n,0)}function Rt(r,n){const a=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)a.push(r.pieces_[s]);if(n instanceof ot)for(let s=n.pieceNum_;s<n.pieces_.length;s++)a.push(n.pieces_[s]);else{const s=n.split("/");for(let u=0;u<s.length;u++)s[u].length>0&&a.push(s[u])}return new ot(a,0)}function qe(r){return r.pieceNum_>=r.pieces_.length}function Nn(r,n){const a=Fe(r),s=Fe(n);if(a===null)return n;if(a===s)return Nn(bt(r),bt(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+r+")")}function gE(r,n){const a=Io(r,0),s=Io(n,0);for(let u=0;u<a.length&&u<s.length;u++){const d=il(a[u],s[u]);if(d!==0)return d}return a.length===s.length?0:a.length<s.length?-1:1}function y_(r,n){if(cr(r)!==cr(n))return!1;for(let a=r.pieceNum_,s=n.pieceNum_;a<=r.pieces_.length;a++,s++)if(r.pieces_[a]!==n.pieces_[s])return!1;return!0}function li(r,n){let a=r.pieceNum_,s=n.pieceNum_;if(cr(r)>cr(n))return!1;for(;a<r.pieces_.length;){if(r.pieces_[a]!==n.pieces_[s])return!1;++a,++s}return!0}class vE{constructor(n,a){this.errorPrefix_=a,this.parts_=Io(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=qc(this.parts_[s]);g_(this)}}function _E(r,n){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(n),r.byteLength_+=qc(n),g_(r)}function bE(r){const n=r.parts_.pop();r.byteLength_-=qc(n),r.parts_.length>0&&(r.byteLength_-=1)}function g_(r){if(r.byteLength_>sv)throw new Error(r.errorPrefix_+"has a key path longer than "+sv+" bytes ("+r.byteLength_+").");if(r.parts_.length>lv)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lv+") or object contains a cycle "+Jr(r))}function Jr(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends p_{static getInstance(){return new Yd}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(n){return se(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=1e3,SE=300*1e3,ov=30*1e3,EE=1.3,CE=3e4,TE="server_kill",uv=3;class ya extends d_{constructor(n,a,s,u,d,m,_,E){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=s,this.onConnectStatus_=u,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=_,this.authOverride_=E,this.id=ya.nextPersistentConnectionId_++,this.log_=Zo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Eo,this.maxReconnectDelay_=SE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&xc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,s){const u=++this.requestNumber_,d={r:u,a:n,b:a};this.log_(Xt(d)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),s&&(this.requestCBHash_[u]=s)}get(n){this.initConnection_();const a=new Fo,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:m=>{const _=m.d;m.s==="ok"?a.resolve(_):a.reject(_)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),a.promise}listen(n,a,s,u){this.initConnection_();const d=n._queryIdentifier,m=n._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),se(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const _={onComplete:u,hashFn:a,query:n,tag:s};this.listens.get(m).set(d,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,s=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(s)})}sendListen_(n){const a=n.query,s=a._path.toString(),u=a._queryIdentifier;this.log_("Listen on "+s+" for "+u);const d={p:s},m="q";n.tag&&(d.q=a._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(m,d,_=>{const E=_.d,S=_.s;ya.warnOnListenWarnings_(E,a),(this.listens.get(s)&&this.listens.get(s).get(u))===n&&(this.log_("listen response",_),S!=="ok"&&this.removeListen_(s,u),n.onComplete&&n.onComplete(S,E))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&ki(n,"w")){const s=is(n,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const u='".indexOn": "'+a._queryParams.getIndex().toString()+'"',d=a._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||u1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ov)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=o1(n)?"auth":"gauth",s={cred:n};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(a,s,u=>{const d=u.s,m=u.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,s=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,s)})}unlisten(n,a){const s=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+s+" "+u),se(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,u)&&this.connected_&&this.sendUnlisten_(s,u,n._queryObject,a)}sendUnlisten_(n,a,s,u){this.log_("Unlisten on "+n+" for "+a);const d={p:n},m="n";u&&(d.q=s,d.t=u),this.sendRequest(m,d)}onDisconnectPut(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:s})}onDisconnectMerge(n,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:s})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,s,u){const d={p:a,d:s};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,m=>{u&&setTimeout(()=>{u(m.s,m.d)},Math.floor(0))})}put(n,a,s,u){this.putInternal("p",n,a,s,u)}merge(n,a,s,u){this.putInternal("m",n,a,s,u)}putInternal(n,a,s,u,d){this.initConnection_();const m={p:a,d:s};d!==void 0&&(m.h=d),this.outstandingPuts_.push({action:n,request:m,onComplete:u}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,s,d=>{this.log_(a+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(d.s,d.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,s=>{if(s.s!=="ok"){const d=s.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Xt(n));const a=n.r,s=this.requestCBHash_[a];s&&(delete this.requestCBHash_[a],s(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):bd("Unrecognized action received from server: "+Xt(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Eo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Eo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CE&&(this.reconnectDelay_=Eo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+ya.nextConnectionId_++,d=this.lastSessionId;let m=!1,_=null;const E=function(){_?_.close():(m=!0,s())},S=function(x){se(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(x)};this.realtime_={close:E,sendRequest:S};const B=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[x,w]=await Promise.all([this.authTokenProvider_.getToken(B),this.appCheckTokenProvider_.getToken(B)]);m?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=w&&w.token,_=new mE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,s,$=>{Dn($+" ("+this.repoInfo_.toString()+")"),this.interrupt(TE)},d))}catch(x){this.log_("Failed to get token: "+x),m||(this.repoInfo_.nodeAdmin&&Dn(x),E())}}}interrupt(n){dn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ug(this.interruptReasons_)&&(this.reconnectDelay_=Eo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let s;a?s=a.map(d=>Ld(d)).join("$"):s="default";const u=this.removeListen_(n,s);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,a){const s=new ot(n).toString();let u;if(this.listens.has(s)){const d=this.listens.get(s);u=d.get(a),d.delete(a),d.size===0&&this.listens.delete(s)}else u=void 0;return u}onAuthRevoked_(n,a){dn("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uv&&(this.reconnectDelay_=ov,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){dn("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+Qv.replace(/\./g,"-")]=1,kv()?n["framework.cordova"]=1:t1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=xc.getInstance().currentlyOnline();return Ug(this.interruptReasons_)&&n}}ya.nextPersistentConnectionId_=0;ya.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new He(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const s=new He(el,n),u=new He(el,a);return this.compare(s,u)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;class v_ extends Hc{static get __EMPTY_NODE(){return yc}static set __EMPTY_NODE(n){yc=n}compare(n,a){return il(n.name,a.name)}isDefinedOn(n){throw cs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return He.MIN}maxPost(){return new He(ur,yc)}makePost(n,a){return se(typeof n=="string","KeyIndex indexValue must always be a string."),new He(n,yc)}toString(){return".key"}}const $r=new v_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(n,a,s,u,d=null){this.isReverse_=u,this.resultGenerator_=d,this.nodeStack_=[];let m=1;for(;!n.isEmpty();)if(n=n,m=a?s(n.key,a):1,u&&(m*=-1),m<0)this.isReverse_?n=n.left:n=n.right;else if(m===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class nn{constructor(n,a,s,u,d){this.key=n,this.value=a,this.color=s??nn.RED,this.left=u??Un.EMPTY_NODE,this.right=d??Un.EMPTY_NODE}copy(n,a,s,u,d){return new nn(n??this.key,a??this.value,s??this.color,u??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let u=this;const d=s(n,u.key);return d<0?u=u.copy(null,null,null,u.left.insert(n,a,s),null):d===0?u=u.copy(null,a,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,a,s)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Un.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let s,u;if(s=this,a(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(n,a),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),a(n,s.key)===0){if(s.right.isEmpty())return Un.EMPTY_NODE;u=s.right.min_(),s=s.copy(u.key,u.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(n,a))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class wE{copy(n,a,s,u,d){return this}insert(n,a,s){return new nn(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Un{constructor(n,a=Un.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new Un(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(n){return new Un(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(n){let a,s=this.root_;for(;!s.isEmpty();){if(a=this.comparator_(n,s.key),a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}getPredecessorKey(n){let a,s=this.root_,u=null;for(;!s.isEmpty();)if(a=this.comparator_(n,s.key),a===0){if(s.left.isEmpty())return u?u.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else a<0?s=s.left:a>0&&(u=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new gc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new gc(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new gc(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new gc(this.root_,null,this.comparator_,!0,n)}}Un.EMPTY_NODE=new wE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r,n){return il(r.name,n.name)}function Gd(r,n){return il(r,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed;function xE(r){Ed=r}const __=function(r){return typeof r=="number"?"number:"+Zv(r):"string:"+r},b_=function(r){if(r.isLeafNode()){const n=r.val();se(typeof n=="string"||typeof n=="number"||typeof n=="object"&&ki(n,".sv"),"Priority must be a string or number.")}else se(r===Ed||r.isEmpty(),"priority of unexpected type.");se(r===Ed||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cv;class tn{static set __childrenNodeConstructor(n){cv=n}static get __childrenNodeConstructor(){return cv}constructor(n,a=tn.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,se(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),b_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new tn(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:tn.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return qe(n)?this:Fe(n)===".priority"?this.priorityNode_:tn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:tn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const s=Fe(n);return s===null?a:a.isEmpty()&&s!==".priority"?this:(se(s!==".priority"||cr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,tn.__childrenNodeConstructor.EMPTY_NODE.updateChild(bt(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+__(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=Zv(this.value_):n+=this.value_,this.lazyHash_=Pv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===tn.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof tn.__childrenNodeConstructor?-1:(se(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,s=typeof this.value_,u=tn.VALUE_TYPE_ORDER.indexOf(a),d=tn.VALUE_TYPE_ORDER.indexOf(s);return se(u>=0,"Unknown leaf type: "+a),se(d>=0,"Unknown leaf type: "+s),u===d?s==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}tn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_,E_;function NE(r){S_=r}function DE(r){E_=r}class OE extends Hc{compare(n,a){const s=n.node.getPriority(),u=a.node.getPriority(),d=s.compareTo(u);return d===0?il(n.name,a.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return He.MIN}maxPost(){return new He(ur,new tn("[PRIORITY-POST]",E_))}makePost(n,a){const s=S_(n);return new He(a,new tn("[PRIORITY-POST]",s))}toString(){return".priority"}}const Nt=new OE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=Math.log(2);class ME{constructor(n){const a=d=>parseInt(Math.log(d)/RE,10),s=d=>parseInt(Array(d+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const u=s(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Nc=function(r,n,a,s){r.sort(n);const u=function(E,S){const B=S-E;let x,w;if(B===0)return null;if(B===1)return x=r[E],w=a?a(x):x,new nn(w,x.node,nn.BLACK,null,null);{const $=parseInt(B/2,10)+E,ee=u(E,$),_e=u($+1,S);return x=r[$],w=a?a(x):x,new nn(w,x.node,nn.BLACK,ee,_e)}},d=function(E){let S=null,B=null,x=r.length;const w=function(ee,_e){const Ee=x-ee,it=x;x-=ee;const ve=u(Ee+1,it),Te=r[Ee],mt=a?a(Te):Te;$(new nn(mt,Te.node,_e,null,ve))},$=function(ee){S?(S.left=ee,S=ee):(B=ee,S=ee)};for(let ee=0;ee<E.count;++ee){const _e=E.nextBitIsOne(),Ee=Math.pow(2,E.count-(ee+1));_e?w(Ee,nn.BLACK):(w(Ee,nn.BLACK),w(Ee,nn.RED))}return B},m=new ME(r.length),_=d(m);return new Un(s||n,_)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;const Wl={};class ma{static get Default(){return se(Wl&&Nt,"ChildrenNode.ts has not been loaded"),ld=ld||new ma({".priority":Wl},{".priority":Nt}),ld}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=is(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof Un?a:null}hasIndex(n){return ki(this.indexSet_,n.toString())}addIndex(n,a){se(n!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let u=!1;const d=a.getIterator(He.Wrap);let m=d.getNext();for(;m;)u=u||n.isDefinedOn(m.node),s.push(m),m=d.getNext();let _;u?_=Nc(s,n.getCompare()):_=Wl;const E=n.toString(),S=Object.assign({},this.indexSet_);S[E]=n;const B=Object.assign({},this.indexes_);return B[E]=_,new ma(B,S)}addToIndexes(n,a){const s=Ec(this.indexes_,(u,d)=>{const m=is(this.indexSet_,d);if(se(m,"Missing index implementation for "+d),u===Wl)if(m.isDefinedOn(n.node)){const _=[],E=a.getIterator(He.Wrap);let S=E.getNext();for(;S;)S.name!==n.name&&_.push(S),S=E.getNext();return _.push(n),Nc(_,m.getCompare())}else return Wl;else{const _=a.get(n.name);let E=u;return _&&(E=E.remove(new He(n.name,_))),E.insert(n,n.node)}});return new ma(s,this.indexSet_)}removeFromIndexes(n,a){const s=Ec(this.indexes_,u=>{if(u===Wl)return u;{const d=a.get(n.name);return d?u.remove(new He(n.name,d)):u}});return new ma(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class Oe{static get EMPTY_NODE(){return Co||(Co=new Oe(new Un(Gd),null,ma.Default))}constructor(n,a,s){this.children_=n,this.priorityNode_=a,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&b_(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Co}updatePriority(n){return this.children_.isEmpty()?this:new Oe(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?Co:a}}getChild(n){const a=Fe(n);return a===null?this:this.getImmediateChild(a).getChild(bt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(se(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const s=new He(n,a);let u,d;a.isEmpty()?(u=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(s,this.children_)):(u=this.children_.insert(n,a),d=this.indexMap_.addToIndexes(s,this.children_));const m=u.isEmpty()?Co:this.priorityNode_;return new Oe(u,m,d)}}updateChild(n,a){const s=Fe(n);if(s===null)return a;{se(Fe(n)!==".priority"||cr(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(s).updateChild(bt(n),a);return this.updateImmediateChild(s,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let s=0,u=0,d=!0;if(this.forEachChild(Nt,(m,_)=>{a[m]=_.val(n),s++,d&&Oe.INTEGER_REGEXP_.test(m)?u=Math.max(u,Number(m)):d=!1}),!n&&d&&u<2*s){const m=[];for(const _ in a)m[_]=a[_];return m}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+__(this.getPriority().val())+":"),this.forEachChild(Nt,(a,s)=>{const u=s.hash();u!==""&&(n+=":"+a+":"+u)}),this.lazyHash_=n===""?"":Pv(n)}return this.lazyHash_}getPredecessorChildName(n,a,s){const u=this.resolveIndex_(s);if(u){const d=u.getPredecessorKey(new He(n,a));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new He(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const s=a.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new He(a,this.children_.get(a)):null}forEachChild(n,a){const s=this.resolveIndex_(n);return s?s.inorderTraversal(u=>a(u.name,u.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,He.Wrap);let d=u.peek();for(;d!=null&&a.compare(d,n)<0;)u.getNext(),d=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const s=this.resolveIndex_(a);if(s)return s.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,He.Wrap);let d=u.peek();for(;d!=null&&a.compare(d,n)>0;)u.getNext(),d=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Jo?-1:0}withIndex(n){if(n===$r||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new Oe(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===$r||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const s=this.getIterator(Nt),u=a.getIterator(Nt);let d=s.getNext(),m=u.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=s.getNext(),m=u.getNext()}return d===null&&m===null}else return!1;else return!1}}resolveIndex_(n){return n===$r?null:this.indexMap_.get(n.toString())}}Oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jE extends Oe{constructor(){super(new Un(Gd),Oe.EMPTY_NODE,ma.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Oe.EMPTY_NODE}isEmpty(){return!1}}const Jo=new jE;Object.defineProperties(He,{MIN:{value:new He(el,Oe.EMPTY_NODE)},MAX:{value:new He(ur,Jo)}});v_.__EMPTY_NODE=Oe.EMPTY_NODE;tn.__childrenNodeConstructor=Oe;xE(Jo);DE(Jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=!0;function Pt(r,n=null){if(r===null)return Oe.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(n=r[".priority"]),se(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const a=r;return new tn(a,Pt(n))}if(!(r instanceof Array)&&zE){const a=[];let s=!1;if(mn(r,(m,_)=>{if(m.substring(0,1)!=="."){const E=Pt(_);E.isEmpty()||(s=s||!E.getPriority().isEmpty(),a.push(new He(m,E)))}}),a.length===0)return Oe.EMPTY_NODE;const d=Nc(a,AE,m=>m.name,Gd);if(s){const m=Nc(a,Nt.getCompare());return new Oe(d,Pt(n),new ma({".priority":m},{".priority":Nt}))}else return new Oe(d,Pt(n),ma.Default)}else{let a=Oe.EMPTY_NODE;return mn(r,(s,u)=>{if(ki(r,s)&&s.substring(0,1)!=="."){const d=Pt(u);(d.isLeafNode()||!d.isEmpty())&&(a=a.updateImmediateChild(s,d))}}),a.updatePriority(Pt(n))}}NE(Pt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Hc{constructor(n){super(),this.indexPath_=n,se(!qe(n)&&Fe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const s=this.extractChild(n.node),u=this.extractChild(a.node),d=s.compareTo(u);return d===0?il(n.name,a.name):d}makePost(n,a){const s=Pt(n),u=Oe.EMPTY_NODE.updateChild(this.indexPath_,s);return new He(a,u)}maxPost(){const n=Oe.EMPTY_NODE.updateChild(this.indexPath_,Jo);return new He(ur,n)}toString(){return Io(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Hc{compare(n,a){const s=n.node.compareTo(a.node);return s===0?il(n.name,a.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(n,a){const s=Pt(n);return new He(a,s)}toString(){return".value"}}const C_=new BE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r){return{type:"value",snapshotNode:r}}function as(r,n){return{type:"child_added",snapshotNode:n,childName:r}}function ko(r,n){return{type:"child_removed",snapshotNode:n,childName:r}}function Uo(r,n,a){return{type:"child_changed",snapshotNode:n,childName:r,oldSnap:a}}function IE(r,n){return{type:"child_moved",snapshotNode:n,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(n){this.index_=n}updateChild(n,a,s,u,d,m){se(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(a);return _.getChild(u).equals(s.getChild(u))&&_.isEmpty()===s.isEmpty()||(m!=null&&(s.isEmpty()?n.hasChild(a)?m.trackChildChange(ko(a,_)):se(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?m.trackChildChange(as(a,s)):m.trackChildChange(Uo(a,s,_))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(a,s).withIndex(this.index_)}updateFullNode(n,a,s){return s!=null&&(n.isLeafNode()||n.forEachChild(Nt,(u,d)=>{a.hasChild(u)||s.trackChildChange(ko(u,d))}),a.isLeafNode()||a.forEachChild(Nt,(u,d)=>{if(n.hasChild(u)){const m=n.getImmediateChild(u);m.equals(d)||s.trackChildChange(Uo(u,d,m))}else s.trackChildChange(as(u,d))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?Oe.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(n){this.indexedFilter_=new Fd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Lo.getStartPost_(n),this.endPost_=Lo.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&s}updateChild(n,a,s,u,d,m){return this.matches(new He(a,s))||(s=Oe.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,s,u,d,m)}updateFullNode(n,a,s){a.isLeafNode()&&(a=Oe.EMPTY_NODE);let u=a.withIndex(this.index_);u=u.updatePriority(Oe.EMPTY_NODE);const d=this;return a.forEachChild(Nt,(m,_)=>{d.matches(new He(m,_))||(u=u.updateImmediateChild(m,Oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=a=>{const s=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Lo(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,s,u,d,m){return this.rangedFilter_.matches(new He(a,s))||(s=Oe.EMPTY_NODE),n.getImmediateChild(a).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,s,u,d,m):this.fullLimitUpdateChild_(n,a,s,d,m)}updateFullNode(n,a,s){let u;if(a.isLeafNode()||a.isEmpty())u=Oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){u=Oe.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;d.hasNext()&&m<this.limit_;){const _=d.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))u=u.updateImmediateChild(_.name,_.node),m++;else break;else continue}}else{u=a.withIndex(this.index_),u=u.updatePriority(Oe.EMPTY_NODE);let d;this.reverse_?d=u.getReverseIterator(this.index_):d=u.getIterator(this.index_);let m=0;for(;d.hasNext();){const _=d.getNext();m<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?m++:u=u.updateImmediateChild(_.name,Oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,s)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,s,u,d){let m;if(this.reverse_){const x=this.index_.getCompare();m=(w,$)=>x($,w)}else m=this.index_.getCompare();const _=n;se(_.numChildren()===this.limit_,"");const E=new He(a,s),S=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),B=this.rangedFilter_.matches(E);if(_.hasChild(a)){const x=_.getImmediateChild(a);let w=u.getChildAfterChild(this.index_,S,this.reverse_);for(;w!=null&&(w.name===a||_.hasChild(w.name));)w=u.getChildAfterChild(this.index_,w,this.reverse_);const $=w==null?1:m(w,E);if(B&&!s.isEmpty()&&$>=0)return d?.trackChildChange(Uo(a,s,x)),_.updateImmediateChild(a,s);{d?.trackChildChange(ko(a,x));const _e=_.updateImmediateChild(a,Oe.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(d?.trackChildChange(as(w.name,w.node)),_e.updateImmediateChild(w.name,w.node)):_e}}else return s.isEmpty()?n:B&&m(S,E)>=0?(d!=null&&(d.trackChildChange(ko(S.name,S.node)),d.trackChildChange(as(a,s))),_.updateImmediateChild(a,s).updateImmediateChild(S.name,Oe.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:el}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ur}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const n=new Pd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function UE(r){return r.loadsAllData()?new Fd(r.getIndex()):r.hasLimit()?new kE(r):new Lo(r)}function LE(r,n,a){const s=r.copy();return s.startSet_=!0,n===void 0&&(n=null),s.indexStartValue_=n,a!=null?(s.startNameSet_=!0,s.indexStartName_=a):(s.startNameSet_=!1,s.indexStartName_=""),s}function qE(r,n,a){const s=r.copy();return s.endSet_=!0,n===void 0&&(n=null),s.indexEndValue_=n,a!==void 0?(s.endNameSet_=!0,s.indexEndName_=a):(s.endNameSet_=!1,s.indexEndName_=""),s}function HE(r,n){const a=r.copy();return a.index_=n,a}function fv(r){const n={};if(r.isDefault())return n;let a;if(r.index_===Nt?a="$priority":r.index_===C_?a="$value":r.index_===$r?a="$key":(se(r.index_ instanceof Qd,"Unrecognized index type!"),a=r.index_.toString()),n.orderBy=Xt(a),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";n[s]=Xt(r.indexStartValue_),r.startNameSet_&&(n[s]+=","+Xt(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";n[s]=Xt(r.indexEndValue_),r.endNameSet_&&(n[s]+=","+Xt(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?n.limitToFirst=r.limit_:n.limitToLast=r.limit_),n}function hv(r){const n={};if(r.startSet_&&(n.sp=r.indexStartValue_,r.startNameSet_&&(n.sn=r.indexStartName_),n.sin=!r.startAfterSet_),r.endSet_&&(n.ep=r.indexEndValue_,r.endNameSet_&&(n.en=r.indexEndName_),n.ein=!r.endBeforeSet_),r.limitSet_){n.l=r.limit_;let a=r.viewFrom_;a===""&&(r.isViewFromLeft()?a="l":a="r"),n.vf=a}return r.index_!==Nt&&(n.i=r.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends d_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(se(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,s,u){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=u,this.log_=Zo("p:rest:"),this.listens_={}}listen(n,a,s,u){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const m=Dc.getListenId_(n,s),_={};this.listens_[m]=_;const E=fv(n._queryParams);this.restRequest_(d+".json",E,(S,B)=>{let x=B;if(S===404&&(x=null,S=null),S===null&&this.onDataUpdate_(d,x,!1,s),is(this.listens_,m)===_){let w;S?S===401?w="permission_denied":w="rest_error:"+S:w="ok",u(w,null)}})}unlisten(n,a){const s=Dc.getListenId_(n,a);delete this.listens_[s]}get(n){const a=fv(n._queryParams),s=n._path.toString(),u=new Fo;return this.restRequest_(s+".json",a,(d,m)=>{let _=m;d===404&&(_=null,d=null),d===null?(this.onDataUpdate_(s,_,!1,null),u.resolve(_)):u.reject(new Error(_))}),u.promise}refreshAuthToken(n){}restRequest_(n,a={},s){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,d])=>{u&&u.accessToken&&(a.auth=u.accessToken),d&&d.token&&(a.ac=d.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+c1(a);this.log_("Sending REST request for "+m);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(s&&_.readyState===4){this.log_("REST Response for "+m+" received. status:",_.status,"response:",_.responseText);let E=null;if(_.status>=200&&_.status<300){try{E=Mo(_.responseText)}catch{Dn("Failed to parse JSON response for "+m+": "+_.responseText)}s(null,E)}else _.status!==401&&_.status!==404&&Dn("Got unsuccessful REST response for "+m+" Status: "+_.status),s(_.status);s=null}},_.open("GET",m,!0),_.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.rootNode_=Oe.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(){return{value:null,children:new Map}}function w_(r,n,a){if(qe(n))r.value=a,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(n,a);else{const s=Fe(n);r.children.has(s)||r.children.set(s,Oc());const u=r.children.get(s);n=bt(n),w_(u,n,a)}}function Cd(r,n,a){r.value!==null?a(n,r.value):VE(r,(s,u)=>{const d=new ot(n.toString()+"/"+s);Cd(u,d,a)})}function VE(r,n){r.children.forEach((a,s)=>{n(s,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a=Object.assign({},n);return this.last_&&mn(this.last_,(s,u)=>{a[s]=a[s]-u}),this.last_=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=10*1e3,GE=30*1e3,QE=300*1e3;class FE{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new YE(n);const s=dv+(GE-dv)*Math.random();No(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),a={};let s=!1;mn(n,(u,d)=>{d>0&&ki(this.statsToReport_,u)&&(a[u]=d,s=!0)}),s&&this.server_.reportStats(a),No(this.reportStats_.bind(this),Math.floor(Math.random()*2*QE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_i||(_i={}));function Xd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Jd(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(n,a,s){this.path=n,this.affectedTree=a,this.revert=s,this.type=_i.ACK_USER_WRITE,this.source=Xd()}operationForChild(n){if(qe(this.path)){if(this.affectedTree.value!=null)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new ot(n));return new Rc(nt(),a,this.revert)}}else return se(Fe(this.path)===n,"operationForChild called for unrelated child."),new Rc(bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(n,a){this.source=n,this.path=a,this.type=_i.LISTEN_COMPLETE}operationForChild(n){return qe(this.path)?new qo(this.source,nt()):new qo(this.source,bt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(n,a,s){this.source=n,this.path=a,this.snap=s,this.type=_i.OVERWRITE}operationForChild(n){return qe(this.path)?new tl(this.source,nt(),this.snap.getImmediateChild(n)):new tl(this.source,bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(n,a,s){this.source=n,this.path=a,this.children=s,this.type=_i.MERGE}operationForChild(n){if(qe(this.path)){const a=this.children.subtree(new ot(n));return a.isEmpty()?null:a.value?new tl(this.source,nt(),a.value):new rs(this.source,nt(),a)}else return se(Fe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new rs(this.source,bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(n,a,s){this.node_=n,this.fullyInitialized_=a,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(qe(n))return this.isFullyInitialized()&&!this.filtered_;const a=Fe(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function XE(r,n,a,s){const u=[],d=[];return n.forEach(m=>{m.type==="child_changed"&&r.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&d.push(IE(m.childName,m.snapshotNode))}),To(r,u,"child_removed",n,s,a),To(r,u,"child_added",n,s,a),To(r,u,"child_moved",d,s,a),To(r,u,"child_changed",n,s,a),To(r,u,"value",n,s,a),u}function To(r,n,a,s,u,d){const m=s.filter(_=>_.type===a);m.sort((_,E)=>JE(r,_,E)),m.forEach(_=>{const E=ZE(r,_,d);u.forEach(S=>{S.respondsTo(_.type)&&n.push(S.createEvent(E,r.query_))})})}function ZE(r,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,r.index_)),n}function JE(r,n,a){if(n.childName==null||a.childName==null)throw cs("Should only compare child_ events.");const s=new He(n.childName,n.snapshotNode),u=new He(a.childName,a.snapshotNode);return r.index_.compare(s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r,n){return{eventCache:r,serverCache:n}}function Do(r,n,a,s){return Kc(new fr(n,a,s),r.serverCache)}function A_(r,n,a,s){return Kc(r.eventCache,new fr(n,a,s))}function Mc(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function nl(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;const WE=()=>(sd||(sd=new Un(BS)),sd);class vt{static fromObject(n){let a=new vt(null);return mn(n,(s,u)=>{a=a.set(new ot(s),u)}),a}constructor(n,a=WE()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:nt(),value:this.value};if(qe(n))return null;{const s=Fe(n),u=this.children.get(s);if(u!==null){const d=u.findRootMostMatchingPathAndValue(bt(n),a);return d!=null?{path:Rt(new ot(s),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(qe(n))return this;{const a=Fe(n),s=this.children.get(a);return s!==null?s.subtree(bt(n)):new vt(null)}}set(n,a){if(qe(n))return new vt(a,this.children);{const s=Fe(n),d=(this.children.get(s)||new vt(null)).set(bt(n),a),m=this.children.insert(s,d);return new vt(this.value,m)}}remove(n){if(qe(n))return this.children.isEmpty()?new vt(null):new vt(null,this.children);{const a=Fe(n),s=this.children.get(a);if(s){const u=s.remove(bt(n));let d;return u.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,u),this.value===null&&d.isEmpty()?new vt(null):new vt(this.value,d)}else return this}}get(n){if(qe(n))return this.value;{const a=Fe(n),s=this.children.get(a);return s?s.get(bt(n)):null}}setTree(n,a){if(qe(n))return a;{const s=Fe(n),d=(this.children.get(s)||new vt(null)).setTree(bt(n),a);let m;return d.isEmpty()?m=this.children.remove(s):m=this.children.insert(s,d),new vt(this.value,m)}}fold(n){return this.fold_(nt(),n)}fold_(n,a){const s={};return this.children.inorderTraversal((u,d)=>{s[u]=d.fold_(Rt(n,u),a)}),a(n,this.value,s)}findOnPath(n,a){return this.findOnPath_(n,nt(),a)}findOnPath_(n,a,s){const u=this.value?s(a,this.value):!1;if(u)return u;if(qe(n))return null;{const d=Fe(n),m=this.children.get(d);return m?m.findOnPath_(bt(n),Rt(a,d),s):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,nt(),a)}foreachOnPath_(n,a,s){if(qe(n))return this;{this.value&&s(a,this.value);const u=Fe(n),d=this.children.get(u);return d?d.foreachOnPath_(bt(n),Rt(a,u),s):new vt(null)}}foreach(n){this.foreach_(nt(),n)}foreach_(n,a){this.children.inorderTraversal((s,u)=>{u.foreach_(Rt(n,s),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,s)=>{s.value&&n(a,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(n){this.writeTree_=n}static empty(){return new bi(new vt(null))}}function Oo(r,n,a){if(qe(n))return new bi(new vt(a));{const s=r.writeTree_.findRootMostValueAndPath(n);if(s!=null){const u=s.path;let d=s.value;const m=Nn(u,n);return d=d.updateChild(m,a),new bi(r.writeTree_.set(u,d))}else{const u=new vt(a),d=r.writeTree_.setTree(n,u);return new bi(d)}}}function Td(r,n,a){let s=r;return mn(a,(u,d)=>{s=Oo(s,Rt(n,u),d)}),s}function pv(r,n){if(qe(n))return bi.empty();{const a=r.writeTree_.setTree(n,new vt(null));return new bi(a)}}function wd(r,n){return al(r,n)!=null}function al(r,n){const a=r.writeTree_.findRootMostValueAndPath(n);return a!=null?r.writeTree_.get(a.path).getChild(Nn(a.path,n)):null}function mv(r){const n=[],a=r.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Nt,(s,u)=>{n.push(new He(s,u))}):r.writeTree_.children.inorderTraversal((s,u)=>{u.value!=null&&n.push(new He(s,u.value))}),n}function sr(r,n){if(qe(n))return r;{const a=al(r,n);return a!=null?new bi(new vt(a)):new bi(r.writeTree_.subtree(n))}}function Ad(r){return r.writeTree_.isEmpty()}function ls(r,n){return x_(nt(),r.writeTree_,n)}function x_(r,n,a){if(n.value!=null)return a.updateChild(r,n.value);{let s=null;return n.children.inorderTraversal((u,d)=>{u===".priority"?(se(d.value!==null,"Priority writes must always be leaf nodes"),s=d.value):a=x_(Rt(r,u),d,a)}),!a.getChild(r).isEmpty()&&s!==null&&(a=a.updateChild(Rt(r,".priority"),s)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,n){return R_(n,r)}function $E(r,n,a,s,u){se(s>r.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),r.allWrites.push({path:n,snap:a,writeId:s,visible:u}),u&&(r.visibleWrites=Oo(r.visibleWrites,n,a)),r.lastWriteId=s}function eC(r,n,a,s){se(s>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:n,children:a,writeId:s,visible:!0}),r.visibleWrites=Td(r.visibleWrites,n,a),r.lastWriteId=s}function tC(r,n){for(let a=0;a<r.allWrites.length;a++){const s=r.allWrites[a];if(s.writeId===n)return s}return null}function nC(r,n){const a=r.allWrites.findIndex(_=>_.writeId===n);se(a>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[a];r.allWrites.splice(a,1);let u=s.visible,d=!1,m=r.allWrites.length-1;for(;u&&m>=0;){const _=r.allWrites[m];_.visible&&(m>=a&&iC(_,s.path)?u=!1:li(s.path,_.path)&&(d=!0)),m--}if(u){if(d)return aC(r),!0;if(s.snap)r.visibleWrites=pv(r.visibleWrites,s.path);else{const _=s.children;mn(_,E=>{r.visibleWrites=pv(r.visibleWrites,Rt(s.path,E))})}return!0}else return!1}function iC(r,n){if(r.snap)return li(r.path,n);for(const a in r.children)if(r.children.hasOwnProperty(a)&&li(Rt(r.path,a),n))return!0;return!1}function aC(r){r.visibleWrites=N_(r.allWrites,rC,nt()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function rC(r){return r.visible}function N_(r,n,a){let s=bi.empty();for(let u=0;u<r.length;++u){const d=r[u];if(n(d)){const m=d.path;let _;if(d.snap)li(a,m)?(_=Nn(a,m),s=Oo(s,_,d.snap)):li(m,a)&&(_=Nn(m,a),s=Oo(s,nt(),d.snap.getChild(_)));else if(d.children){if(li(a,m))_=Nn(a,m),s=Td(s,_,d.children);else if(li(m,a))if(_=Nn(m,a),qe(_))s=Td(s,nt(),d.children);else{const E=is(d.children,Fe(_));if(E){const S=E.getChild(bt(_));s=Oo(s,nt(),S)}}}else throw cs("WriteRecord should have .snap or .children")}}return s}function D_(r,n,a,s,u){if(!s&&!u){const d=al(r.visibleWrites,n);if(d!=null)return d;{const m=sr(r.visibleWrites,n);if(Ad(m))return a;if(a==null&&!wd(m,nt()))return null;{const _=a||Oe.EMPTY_NODE;return ls(m,_)}}}else{const d=sr(r.visibleWrites,n);if(!u&&Ad(d))return a;if(!u&&a==null&&!wd(d,nt()))return null;{const m=function(S){return(S.visible||u)&&(!s||!~s.indexOf(S.writeId))&&(li(S.path,n)||li(n,S.path))},_=N_(r.allWrites,m,n),E=a||Oe.EMPTY_NODE;return ls(_,E)}}}function lC(r,n,a){let s=Oe.EMPTY_NODE;const u=al(r.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Nt,(d,m)=>{s=s.updateImmediateChild(d,m)}),s;if(a){const d=sr(r.visibleWrites,n);return a.forEachChild(Nt,(m,_)=>{const E=ls(sr(d,new ot(m)),_);s=s.updateImmediateChild(m,E)}),mv(d).forEach(m=>{s=s.updateImmediateChild(m.name,m.node)}),s}else{const d=sr(r.visibleWrites,n);return mv(d).forEach(m=>{s=s.updateImmediateChild(m.name,m.node)}),s}}function sC(r,n,a,s,u){se(s||u,"Either existingEventSnap or existingServerSnap must exist");const d=Rt(n,a);if(wd(r.visibleWrites,d))return null;{const m=sr(r.visibleWrites,d);return Ad(m)?u.getChild(a):ls(m,u.getChild(a))}}function oC(r,n,a,s){const u=Rt(n,a),d=al(r.visibleWrites,u);if(d!=null)return d;if(s.isCompleteForChild(a)){const m=sr(r.visibleWrites,u);return ls(m,s.getNode().getImmediateChild(a))}else return null}function uC(r,n){return al(r.visibleWrites,n)}function cC(r,n,a,s,u,d,m){let _;const E=sr(r.visibleWrites,n),S=al(E,nt());if(S!=null)_=S;else if(a!=null)_=ls(E,a);else return[];if(_=_.withIndex(m),!_.isEmpty()&&!_.isLeafNode()){const B=[],x=m.getCompare(),w=d?_.getReverseIteratorFrom(s,m):_.getIteratorFrom(s,m);let $=w.getNext();for(;$&&B.length<u;)x($,s)!==0&&B.push($),$=w.getNext();return B}else return[]}function fC(){return{visibleWrites:bi.empty(),allWrites:[],lastWriteId:-1}}function jc(r,n,a,s){return D_(r.writeTree,r.treePath,n,a,s)}function Wd(r,n){return lC(r.writeTree,r.treePath,n)}function yv(r,n,a,s){return sC(r.writeTree,r.treePath,n,a,s)}function zc(r,n){return uC(r.writeTree,Rt(r.treePath,n))}function hC(r,n,a,s,u,d){return cC(r.writeTree,r.treePath,n,a,s,u,d)}function $d(r,n,a){return oC(r.writeTree,r.treePath,n,a)}function O_(r,n){return R_(Rt(r.treePath,n),r.writeTree)}function R_(r,n){return{treePath:r,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,s=n.childName;se(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),se(s!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(s);if(u){const d=u.type;if(a==="child_added"&&d==="child_removed")this.changeMap.set(s,Uo(s,n.snapshotNode,u.snapshotNode));else if(a==="child_removed"&&d==="child_added")this.changeMap.delete(s);else if(a==="child_removed"&&d==="child_changed")this.changeMap.set(s,ko(s,u.oldSnap));else if(a==="child_changed"&&d==="child_added")this.changeMap.set(s,as(s,n.snapshotNode));else if(a==="child_changed"&&d==="child_changed")this.changeMap.set(s,Uo(s,n.snapshotNode,u.oldSnap));else throw cs("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{getCompleteChild(n){return null}getChildAfterChild(n,a,s){return null}}const M_=new pC;class ep{constructor(n,a,s=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=s}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const s=this.optCompleteServerCache_!=null?new fr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $d(this.writes_,n,s)}}getChildAfterChild(n,a,s){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nl(this.viewCache_),d=hC(this.writes_,u,a,1,s,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){return{filter:r}}function yC(r,n){se(n.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),se(n.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function gC(r,n,a,s,u){const d=new dC;let m,_;if(a.type===_i.OVERWRITE){const S=a;S.source.fromUser?m=xd(r,n,S.path,S.snap,s,u,d):(se(S.source.fromServer,"Unknown source."),_=S.source.tagged||n.serverCache.isFiltered()&&!qe(S.path),m=Bc(r,n,S.path,S.snap,s,u,_,d))}else if(a.type===_i.MERGE){const S=a;S.source.fromUser?m=_C(r,n,S.path,S.children,s,u,d):(se(S.source.fromServer,"Unknown source."),_=S.source.tagged||n.serverCache.isFiltered(),m=Nd(r,n,S.path,S.children,s,u,_,d))}else if(a.type===_i.ACK_USER_WRITE){const S=a;S.revert?m=EC(r,n,S.path,s,u,d):m=bC(r,n,S.path,S.affectedTree,s,u,d)}else if(a.type===_i.LISTEN_COMPLETE)m=SC(r,n,a.path,s,d);else throw cs("Unknown operation type: "+a.type);const E=d.getChanges();return vC(n,m,E),{viewCache:m,changes:E}}function vC(r,n,a){const s=n.eventCache;if(s.isFullyInitialized()){const u=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=Mc(r);(a.length>0||!r.eventCache.isFullyInitialized()||u&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&a.push(T_(Mc(n)))}}function j_(r,n,a,s,u,d){const m=n.eventCache;if(zc(s,a)!=null)return n;{let _,E;if(qe(a))if(se(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const S=nl(n),B=S instanceof Oe?S:Oe.EMPTY_NODE,x=Wd(s,B);_=r.filter.updateFullNode(n.eventCache.getNode(),x,d)}else{const S=jc(s,nl(n));_=r.filter.updateFullNode(n.eventCache.getNode(),S,d)}else{const S=Fe(a);if(S===".priority"){se(cr(a)===1,"Can't have a priority with additional path components");const B=m.getNode();E=n.serverCache.getNode();const x=yv(s,a,B,E);x!=null?_=r.filter.updatePriority(B,x):_=m.getNode()}else{const B=bt(a);let x;if(m.isCompleteForChild(S)){E=n.serverCache.getNode();const w=yv(s,a,m.getNode(),E);w!=null?x=m.getNode().getImmediateChild(S).updateChild(B,w):x=m.getNode().getImmediateChild(S)}else x=$d(s,S,n.serverCache);x!=null?_=r.filter.updateChild(m.getNode(),S,x,B,u,d):_=m.getNode()}}return Do(n,_,m.isFullyInitialized()||qe(a),r.filter.filtersNodes())}}function Bc(r,n,a,s,u,d,m,_){const E=n.serverCache;let S;const B=m?r.filter:r.filter.getIndexedFilter();if(qe(a))S=B.updateFullNode(E.getNode(),s,null);else if(B.filtersNodes()&&!E.isFiltered()){const $=E.getNode().updateChild(a,s);S=B.updateFullNode(E.getNode(),$,null)}else{const $=Fe(a);if(!E.isCompleteForPath(a)&&cr(a)>1)return n;const ee=bt(a),Ee=E.getNode().getImmediateChild($).updateChild(ee,s);$===".priority"?S=B.updatePriority(E.getNode(),Ee):S=B.updateChild(E.getNode(),$,Ee,ee,M_,null)}const x=A_(n,S,E.isFullyInitialized()||qe(a),B.filtersNodes()),w=new ep(u,x,d);return j_(r,x,a,u,w,_)}function xd(r,n,a,s,u,d,m){const _=n.eventCache;let E,S;const B=new ep(u,n,d);if(qe(a))S=r.filter.updateFullNode(n.eventCache.getNode(),s,m),E=Do(n,S,!0,r.filter.filtersNodes());else{const x=Fe(a);if(x===".priority")S=r.filter.updatePriority(n.eventCache.getNode(),s),E=Do(n,S,_.isFullyInitialized(),_.isFiltered());else{const w=bt(a),$=_.getNode().getImmediateChild(x);let ee;if(qe(w))ee=s;else{const _e=B.getCompleteChild(x);_e!=null?Vd(w)===".priority"&&_e.getChild(m_(w)).isEmpty()?ee=_e:ee=_e.updateChild(w,s):ee=Oe.EMPTY_NODE}if($.equals(ee))E=n;else{const _e=r.filter.updateChild(_.getNode(),x,ee,w,B,m);E=Do(n,_e,_.isFullyInitialized(),r.filter.filtersNodes())}}}return E}function gv(r,n){return r.eventCache.isCompleteForChild(n)}function _C(r,n,a,s,u,d,m){let _=n;return s.foreach((E,S)=>{const B=Rt(a,E);gv(n,Fe(B))&&(_=xd(r,_,B,S,u,d,m))}),s.foreach((E,S)=>{const B=Rt(a,E);gv(n,Fe(B))||(_=xd(r,_,B,S,u,d,m))}),_}function vv(r,n,a){return a.foreach((s,u)=>{n=n.updateChild(s,u)}),n}function Nd(r,n,a,s,u,d,m,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let E=n,S;qe(a)?S=s:S=new vt(null).setTree(a,s);const B=n.serverCache.getNode();return S.children.inorderTraversal((x,w)=>{if(B.hasChild(x)){const $=n.serverCache.getNode().getImmediateChild(x),ee=vv(r,$,w);E=Bc(r,E,new ot(x),ee,u,d,m,_)}}),S.children.inorderTraversal((x,w)=>{const $=!n.serverCache.isCompleteForChild(x)&&w.value===null;if(!B.hasChild(x)&&!$){const ee=n.serverCache.getNode().getImmediateChild(x),_e=vv(r,ee,w);E=Bc(r,E,new ot(x),_e,u,d,m,_)}}),E}function bC(r,n,a,s,u,d,m){if(zc(u,a)!=null)return n;const _=n.serverCache.isFiltered(),E=n.serverCache;if(s.value!=null){if(qe(a)&&E.isFullyInitialized()||E.isCompleteForPath(a))return Bc(r,n,a,E.getNode().getChild(a),u,d,_,m);if(qe(a)){let S=new vt(null);return E.getNode().forEachChild($r,(B,x)=>{S=S.set(new ot(B),x)}),Nd(r,n,a,S,u,d,_,m)}else return n}else{let S=new vt(null);return s.foreach((B,x)=>{const w=Rt(a,B);E.isCompleteForPath(w)&&(S=S.set(B,E.getNode().getChild(w)))}),Nd(r,n,a,S,u,d,_,m)}}function SC(r,n,a,s,u){const d=n.serverCache,m=A_(n,d.getNode(),d.isFullyInitialized()||qe(a),d.isFiltered());return j_(r,m,a,s,M_,u)}function EC(r,n,a,s,u,d){let m;if(zc(s,a)!=null)return n;{const _=new ep(s,n,u),E=n.eventCache.getNode();let S;if(qe(a)||Fe(a)===".priority"){let B;if(n.serverCache.isFullyInitialized())B=jc(s,nl(n));else{const x=n.serverCache.getNode();se(x instanceof Oe,"serverChildren would be complete if leaf node"),B=Wd(s,x)}B=B,S=r.filter.updateFullNode(E,B,d)}else{const B=Fe(a);let x=$d(s,B,n.serverCache);x==null&&n.serverCache.isCompleteForChild(B)&&(x=E.getImmediateChild(B)),x!=null?S=r.filter.updateChild(E,B,x,bt(a),_,d):n.eventCache.getNode().hasChild(B)?S=r.filter.updateChild(E,B,Oe.EMPTY_NODE,bt(a),_,d):S=E,S.isEmpty()&&n.serverCache.isFullyInitialized()&&(m=jc(s,nl(n)),m.isLeafNode()&&(S=r.filter.updateFullNode(S,m,d)))}return m=n.serverCache.isFullyInitialized()||zc(s,nt())!=null,Do(n,S,m,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,u=new Fd(s.getIndex()),d=UE(s);this.processor_=mC(d);const m=a.serverCache,_=a.eventCache,E=u.updateFullNode(Oe.EMPTY_NODE,m.getNode(),null),S=d.updateFullNode(Oe.EMPTY_NODE,_.getNode(),null),B=new fr(E,m.isFullyInitialized(),u.filtersNodes()),x=new fr(S,_.isFullyInitialized(),d.filtersNodes());this.viewCache_=Kc(x,B),this.eventGenerator_=new PE(this.query_)}get query(){return this.query_}}function TC(r){return r.viewCache_.serverCache.getNode()}function wC(r){return Mc(r.viewCache_)}function AC(r,n){const a=nl(r.viewCache_);return a&&(r.query._queryParams.loadsAllData()||!qe(n)&&!a.getImmediateChild(Fe(n)).isEmpty())?a.getChild(n):null}function _v(r){return r.eventRegistrations_.length===0}function xC(r,n){r.eventRegistrations_.push(n)}function bv(r,n,a){const s=[];if(a){se(n==null,"A cancel should cancel all event registrations.");const u=r.query._path;r.eventRegistrations_.forEach(d=>{const m=d.createCancelEvent(a,u);m&&s.push(m)})}if(n){let u=[];for(let d=0;d<r.eventRegistrations_.length;++d){const m=r.eventRegistrations_[d];if(!m.matches(n))u.push(m);else if(n.hasAnyCallback()){u=u.concat(r.eventRegistrations_.slice(d+1));break}}r.eventRegistrations_=u}else r.eventRegistrations_=[];return s}function Sv(r,n,a,s){n.type===_i.MERGE&&n.source.queryId!==null&&(se(nl(r.viewCache_),"We should always have a full cache before handling merges"),se(Mc(r.viewCache_),"Missing event cache, even though we have a server cache"));const u=r.viewCache_,d=gC(r.processor_,u,n,a,s);return yC(r.processor_,d.viewCache),se(d.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,z_(r,d.changes,d.viewCache.eventCache.getNode(),null)}function NC(r,n){const a=r.viewCache_.eventCache,s=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Nt,(d,m)=>{s.push(as(d,m))}),a.isFullyInitialized()&&s.push(T_(a.getNode())),z_(r,s,a.getNode(),n)}function z_(r,n,a,s){const u=s?[s]:r.eventRegistrations_;return XE(r.eventGenerator_,n,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;class B_{constructor(){this.views=new Map}}function DC(r){se(!Ic,"__referenceConstructor has already been defined"),Ic=r}function OC(){return se(Ic,"Reference.ts has not been loaded"),Ic}function RC(r){return r.views.size===0}function tp(r,n,a,s){const u=n.source.queryId;if(u!==null){const d=r.views.get(u);return se(d!=null,"SyncTree gave us an op for an invalid query."),Sv(d,n,a,s)}else{let d=[];for(const m of r.views.values())d=d.concat(Sv(m,n,a,s));return d}}function I_(r,n,a,s,u){const d=n._queryIdentifier,m=r.views.get(d);if(!m){let _=jc(a,u?s:null),E=!1;_?E=!0:s instanceof Oe?(_=Wd(a,s),E=!1):(_=Oe.EMPTY_NODE,E=!1);const S=Kc(new fr(_,E,!1),new fr(s,u,!1));return new CC(n,S)}return m}function MC(r,n,a,s,u,d){const m=I_(r,n,s,u,d);return r.views.has(n._queryIdentifier)||r.views.set(n._queryIdentifier,m),xC(m,a),NC(m,a)}function jC(r,n,a,s){const u=n._queryIdentifier,d=[];let m=[];const _=hr(r);if(u==="default")for(const[E,S]of r.views.entries())m=m.concat(bv(S,a,s)),_v(S)&&(r.views.delete(E),S.query._queryParams.loadsAllData()||d.push(S.query));else{const E=r.views.get(u);E&&(m=m.concat(bv(E,a,s)),_v(E)&&(r.views.delete(u),E.query._queryParams.loadsAllData()||d.push(E.query)))}return _&&!hr(r)&&d.push(new(OC())(n._repo,n._path)),{removed:d,events:m}}function k_(r){const n=[];for(const a of r.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function or(r,n){let a=null;for(const s of r.views.values())a=a||AC(s,n);return a}function U_(r,n){if(n._queryParams.loadsAllData())return Yc(r);{const s=n._queryIdentifier;return r.views.get(s)}}function L_(r,n){return U_(r,n)!=null}function hr(r){return Yc(r)!=null}function Yc(r){for(const n of r.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;function zC(r){se(!kc,"__referenceConstructor has already been defined"),kc=r}function BC(){return se(kc,"Reference.ts has not been loaded"),kc}let IC=1;class Ev{constructor(n){this.listenProvider_=n,this.syncPointTree_=new vt(null),this.pendingWriteTree_=fC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q_(r,n,a,s,u){return $E(r.pendingWriteTree_,n,a,s,u),u?hs(r,new tl(Xd(),n,a)):[]}function kC(r,n,a,s){eC(r.pendingWriteTree_,n,a,s);const u=vt.fromObject(a);return hs(r,new rs(Xd(),n,u))}function ar(r,n,a=!1){const s=tC(r.pendingWriteTree_,n);if(nC(r.pendingWriteTree_,n)){let d=new vt(null);return s.snap!=null?d=d.set(nt(),!0):mn(s.children,m=>{d=d.set(new ot(m),!0)}),hs(r,new Rc(s.path,d,a))}else return[]}function Wo(r,n,a){return hs(r,new tl(Zd(),n,a))}function UC(r,n,a){const s=vt.fromObject(a);return hs(r,new rs(Zd(),n,s))}function LC(r,n){return hs(r,new qo(Zd(),n))}function qC(r,n,a){const s=ip(r,a);if(s){const u=ap(s),d=u.path,m=u.queryId,_=Nn(d,n),E=new qo(Jd(m),_);return rp(r,d,E)}else return[]}function H_(r,n,a,s,u=!1){const d=n._path,m=r.syncPointTree_.get(d);let _=[];if(m&&(n._queryIdentifier==="default"||L_(m,n))){const E=jC(m,n,a,s);RC(m)&&(r.syncPointTree_=r.syncPointTree_.remove(d));const S=E.removed;if(_=E.events,!u){const B=S.findIndex(w=>w._queryParams.loadsAllData())!==-1,x=r.syncPointTree_.findOnPath(d,(w,$)=>hr($));if(B&&!x){const w=r.syncPointTree_.subtree(d);if(!w.isEmpty()){const $=YC(w);for(let ee=0;ee<$.length;++ee){const _e=$[ee],Ee=_e.query,it=G_(r,_e);r.listenProvider_.startListening(Ro(Ee),Ho(r,Ee),it.hashFn,it.onComplete)}}}!x&&S.length>0&&!s&&(B?r.listenProvider_.stopListening(Ro(n),null):S.forEach(w=>{const $=r.queryToTagMap.get(Gc(w));r.listenProvider_.stopListening(Ro(w),$)}))}GC(r,S)}return _}function K_(r,n,a,s){const u=ip(r,s);if(u!=null){const d=ap(u),m=d.path,_=d.queryId,E=Nn(m,n),S=new tl(Jd(_),E,a);return rp(r,m,S)}else return[]}function HC(r,n,a,s){const u=ip(r,s);if(u){const d=ap(u),m=d.path,_=d.queryId,E=Nn(m,n),S=vt.fromObject(a),B=new rs(Jd(_),E,S);return rp(r,m,B)}else return[]}function KC(r,n,a,s=!1){const u=n._path;let d=null,m=!1;r.syncPointTree_.foreachOnPath(u,(w,$)=>{const ee=Nn(w,u);d=d||or($,ee),m=m||hr($)});let _=r.syncPointTree_.get(u);_?(m=m||hr(_),d=d||or(_,nt())):(_=new B_,r.syncPointTree_=r.syncPointTree_.set(u,_));let E;d!=null?E=!0:(E=!1,d=Oe.EMPTY_NODE,r.syncPointTree_.subtree(u).foreachChild(($,ee)=>{const _e=or(ee,nt());_e&&(d=d.updateImmediateChild($,_e))}));const S=L_(_,n);if(!S&&!n._queryParams.loadsAllData()){const w=Gc(n);se(!r.queryToTagMap.has(w),"View does not exist, but we have a tag");const $=QC();r.queryToTagMap.set(w,$),r.tagToQueryMap.set($,w)}const B=Vc(r.pendingWriteTree_,u);let x=MC(_,n,a,B,d,E);if(!S&&!m&&!s){const w=U_(_,n);x=x.concat(FC(r,n,w))}return x}function np(r,n,a){const u=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(n,(m,_)=>{const E=Nn(m,n),S=or(_,E);if(S)return S});return D_(u,n,d,a,!0)}function VC(r,n){const a=n._path;let s=null;r.syncPointTree_.foreachOnPath(a,(S,B)=>{const x=Nn(S,a);s=s||or(B,x)});let u=r.syncPointTree_.get(a);u?s=s||or(u,nt()):(u=new B_,r.syncPointTree_=r.syncPointTree_.set(a,u));const d=s!=null,m=d?new fr(s,!0,!1):null,_=Vc(r.pendingWriteTree_,n._path),E=I_(u,n,_,d?m.getNode():Oe.EMPTY_NODE,d);return wC(E)}function hs(r,n){return V_(n,r.syncPointTree_,null,Vc(r.pendingWriteTree_,nt()))}function V_(r,n,a,s){if(qe(r.path))return Y_(r,n,a,s);{const u=n.get(nt());a==null&&u!=null&&(a=or(u,nt()));let d=[];const m=Fe(r.path),_=r.operationForChild(m),E=n.children.get(m);if(E&&_){const S=a?a.getImmediateChild(m):null,B=O_(s,m);d=d.concat(V_(_,E,S,B))}return u&&(d=d.concat(tp(u,r,s,a))),d}}function Y_(r,n,a,s){const u=n.get(nt());a==null&&u!=null&&(a=or(u,nt()));let d=[];return n.children.inorderTraversal((m,_)=>{const E=a?a.getImmediateChild(m):null,S=O_(s,m),B=r.operationForChild(m);B&&(d=d.concat(Y_(B,_,E,S)))}),u&&(d=d.concat(tp(u,r,s,a))),d}function G_(r,n){const a=n.query,s=Ho(r,a);return{hashFn:()=>(TC(n)||Oe.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return s?qC(r,a._path,s):LC(r,a._path);{const d=US(u,a);return H_(r,a,null,d)}}}}function Ho(r,n){const a=Gc(n);return r.queryToTagMap.get(a)}function Gc(r){return r._path.toString()+"$"+r._queryIdentifier}function ip(r,n){return r.tagToQueryMap.get(n)}function ap(r){const n=r.indexOf("$");return se(n!==-1&&n<r.length-1,"Bad queryKey."),{queryId:r.substr(n+1),path:new ot(r.substr(0,n))}}function rp(r,n,a){const s=r.syncPointTree_.get(n);se(s,"Missing sync point for query tag that we're tracking");const u=Vc(r.pendingWriteTree_,n);return tp(s,a,u,null)}function YC(r){return r.fold((n,a,s)=>{if(a&&hr(a))return[Yc(a)];{let u=[];return a&&(u=k_(a)),mn(s,(d,m)=>{u=u.concat(m)}),u}})}function Ro(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(BC())(r._repo,r._path):r}function GC(r,n){for(let a=0;a<n.length;++a){const s=n[a];if(!s._queryParams.loadsAllData()){const u=Gc(s),d=r.queryToTagMap.get(u);r.queryToTagMap.delete(u),r.tagToQueryMap.delete(d)}}}function QC(){return IC++}function FC(r,n,a){const s=n._path,u=Ho(r,n),d=G_(r,a),m=r.listenProvider_.startListening(Ro(n),u,d.hashFn,d.onComplete),_=r.syncPointTree_.subtree(s);if(u)se(!hr(_.value),"If we're adding a query, it shouldn't be shadowed");else{const E=_.fold((S,B,x)=>{if(!qe(S)&&B&&hr(B))return[Yc(B).query];{let w=[];return B&&(w=w.concat(k_(B).map($=>$.query))),mn(x,($,ee)=>{w=w.concat(ee)}),w}});for(let S=0;S<E.length;++S){const B=E[S];r.listenProvider_.stopListening(Ro(B),Ho(r,B))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new lp(a)}node(){return this.node_}}class sp{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Rt(this.path_,n);return new sp(this.syncTree_,a)}node(){return np(this.syncTree_,this.path_)}}const PC=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Cv=function(r,n,a){if(!r||typeof r!="object")return r;if(se(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return XC(r[".sv"],n,a);if(typeof r[".sv"]=="object")return ZC(r[".sv"],n);se(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},XC=function(r,n,a){switch(r){case"timestamp":return a.timestamp;default:se(!1,"Unexpected server value: "+r)}},ZC=function(r,n,a){r.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;typeof s!="number"&&se(!1,"Unexpected increment value: "+s);const u=n.node();if(se(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return s;const m=u.getValue();return typeof m!="number"?s:m+s},Q_=function(r,n,a,s){return op(n,new sp(a,r),s)},F_=function(r,n,a){return op(r,new lp(n),a)};function op(r,n,a){const s=r.getPriority().val(),u=Cv(s,n.getImmediateChild(".priority"),a);let d;if(r.isLeafNode()){const m=r,_=Cv(m.getValue(),n,a);return _!==m.getValue()||u!==m.getPriority().val()?new tn(_,Pt(u)):r}else{const m=r;return d=m,u!==m.getPriority().val()&&(d=d.updatePriority(new tn(u))),m.forEachChild(Nt,(_,E)=>{const S=op(E,n.getImmediateChild(_),a);S!==E&&(d=d.updateImmediateChild(_,S))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(n="",a=null,s={children:{},childCount:0}){this.name=n,this.parent=a,this.node=s}}function cp(r,n){let a=n instanceof ot?n:new ot(n),s=r,u=Fe(a);for(;u!==null;){const d=is(s.node.children,u)||{children:{},childCount:0};s=new up(u,s,d),a=bt(a),u=Fe(a)}return s}function ds(r){return r.node.value}function P_(r,n){r.node.value=n,Dd(r)}function X_(r){return r.node.childCount>0}function JC(r){return ds(r)===void 0&&!X_(r)}function Qc(r,n){mn(r.node.children,(a,s)=>{n(new up(a,r,s))})}function Z_(r,n,a,s){a&&n(r),Qc(r,u=>{Z_(u,n,!0)})}function WC(r,n,a){let s=r.parent;for(;s!==null;){if(n(s))return!0;s=s.parent}return!1}function $o(r){return new ot(r.parent===null?r.name:$o(r.parent)+"/"+r.name)}function Dd(r){r.parent!==null&&$C(r.parent,r.name,r)}function $C(r,n,a){const s=JC(a),u=ki(r.node.children,n);s&&u?(delete r.node.children[n],r.node.childCount--,Dd(r)):!s&&!u&&(r.node.children[n]=a.node,r.node.childCount++,Dd(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=/[\[\].#$\/\u0000-\u001F\u007F]/,tT=/[\[\].#$\u0000-\u001F\u007F]/,od=10*1024*1024,fp=function(r){return typeof r=="string"&&r.length!==0&&!eT.test(r)},J_=function(r){return typeof r=="string"&&r.length!==0&&!tT.test(r)},nT=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),J_(r)},Od=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!Ud(r)||r&&typeof r=="object"&&ki(r,".sv")},Fc=function(r,n,a,s){s&&n===void 0||Pc(Lc(r,"value"),n,a)},Pc=function(r,n,a){const s=a instanceof ot?new vE(a,r):a;if(n===void 0)throw new Error(r+"contains undefined "+Jr(s));if(typeof n=="function")throw new Error(r+"contains a function "+Jr(s)+" with contents = "+n.toString());if(Ud(n))throw new Error(r+"contains "+n.toString()+" "+Jr(s));if(typeof n=="string"&&n.length>od/3&&qc(n)>od)throw new Error(r+"contains a string greater than "+od+" utf8 bytes "+Jr(s)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,d=!1;if(mn(n,(m,_)=>{if(m===".value")u=!0;else if(m!==".priority"&&m!==".sv"&&(d=!0,!fp(m)))throw new Error(r+" contains an invalid key ("+m+") "+Jr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_E(s,m),Pc(r,_,s),bE(s)}),u&&d)throw new Error(r+' contains ".value" child '+Jr(s)+" in addition to actual children.")}},iT=function(r,n){let a,s;for(a=0;a<n.length;a++){s=n[a];const d=Io(s);for(let m=0;m<d.length;m++)if(!(d[m]===".priority"&&m===d.length-1)){if(!fp(d[m]))throw new Error(r+"contains an invalid key ("+d[m]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(gE);let u=null;for(a=0;a<n.length;a++){if(s=n[a],u!==null&&li(u,s))throw new Error(r+"contains a path "+u.toString()+" that is ancestor of another path "+s.toString());u=s}},aT=function(r,n,a,s){const u=Lc(r,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const d=[];mn(n,(m,_)=>{const E=new ot(m);if(Pc(u,_,Rt(a,E)),Vd(E)===".priority"&&!Od(_))throw new Error(u+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(E)}),iT(u,d)},hp=function(r,n,a,s){if(!J_(a))throw new Error(Lc(r,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rT=function(r,n,a,s){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),hp(r,n,a)},dp=function(r,n){if(Fe(n)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},lT=function(r,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!fp(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!nT(a))throw new Error(Lc(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pp(r,n){let a=null;for(let s=0;s<n.length;s++){const u=n[s],d=u.getPath();a!==null&&!y_(d,a.path)&&(r.eventLists_.push(a),a=null),a===null&&(a={events:[],path:d}),a.events.push(u)}a&&r.eventLists_.push(a)}function si(r,n,a){pp(r,a),oT(r,s=>li(s,n)||li(n,s))}function oT(r,n){r.recursionDepth_++;let a=!0;for(let s=0;s<r.eventLists_.length;s++){const u=r.eventLists_[s];if(u){const d=u.path;n(d)?(uT(r.eventLists_[s]),r.eventLists_[s]=null):a=!1}}a&&(r.eventLists_=[]),r.recursionDepth_--}function uT(r){for(let n=0;n<r.events.length;n++){const a=r.events[n];if(a!==null){r.events[n]=null;const s=a.getEventRunner();xo&&dn("event: "+a.toString()),fs(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="repo_interrupt",fT=25;class hT{constructor(n,a,s,u){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=s,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oc(),this.transactionQueueTree_=new up,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dT(r,n,a){if(r.stats_=Hd(r.repoInfo_),r.forceRestClient_||KS())r.server_=new Dc(r.repoInfo_,(s,u,d,m)=>{Tv(r,s,u,d,m)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>wv(r,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new ya(r.repoInfo_,n,(s,u,d,m)=>{Tv(r,s,u,d,m)},s=>{wv(r,s)},s=>{pT(r,s)},r.authTokenProvider_,r.appCheckProvider_,a),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=FS(r.repoInfo_,()=>new FE(r.stats_,r.server_)),r.infoData_=new KE,r.infoSyncTree_=new Ev({startListening:(s,u,d,m)=>{let _=[];const E=r.infoData_.getNode(s._path);return E.isEmpty()||(_=Wo(r.infoSyncTree_,s._path,E),setTimeout(()=>{m("ok")},0)),_},stopListening:()=>{}}),mp(r,"connected",!1),r.serverSyncTree_=new Ev({startListening:(s,u,d,m)=>(r.server_.listen(s,d,u,(_,E)=>{const S=m(_,E);si(r.eventQueue_,s._path,S)}),[]),stopListening:(s,u)=>{r.server_.unlisten(s,u)}})}function W_(r){const a=r.infoData_.getNode(new ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Xc(r){return PC({timestamp:W_(r)})}function Tv(r,n,a,s,u){r.dataUpdateCount++;const d=new ot(n);a=r.interceptServerDataCallback_?r.interceptServerDataCallback_(n,a):a;let m=[];if(u)if(s){const E=Ec(a,S=>Pt(S));m=HC(r.serverSyncTree_,d,E,u)}else{const E=Pt(a);m=K_(r.serverSyncTree_,d,E,u)}else if(s){const E=Ec(a,S=>Pt(S));m=UC(r.serverSyncTree_,d,E)}else{const E=Pt(a);m=Wo(r.serverSyncTree_,d,E)}let _=d;m.length>0&&(_=ss(r,d)),si(r.eventQueue_,_,m)}function wv(r,n){mp(r,"connected",n),n===!1&&vT(r)}function pT(r,n){mn(n,(a,s)=>{mp(r,a,s)})}function mp(r,n,a){const s=new ot("/.info/"+n),u=Pt(a);r.infoData_.updateSnapshot(s,u);const d=Wo(r.infoSyncTree_,s,u);si(r.eventQueue_,s,d)}function yp(r){return r.nextWriteId_++}function mT(r,n,a){const s=VC(r.serverSyncTree_,n);return s!=null?Promise.resolve(s):r.server_.get(n).then(u=>{const d=Pt(u).withIndex(n._queryParams.getIndex());KC(r.serverSyncTree_,n,a,!0);let m;if(n._queryParams.loadsAllData())m=Wo(r.serverSyncTree_,n._path,d);else{const _=Ho(r.serverSyncTree_,n);m=K_(r.serverSyncTree_,n._path,d,_)}return si(r.eventQueue_,n._path,m),H_(r.serverSyncTree_,n,a,null,!0),d},u=>(eu(r,"get for query "+Xt(n)+" failed: "+u),Promise.reject(new Error(u))))}function yT(r,n,a,s,u){eu(r,"set",{path:n.toString(),value:a,priority:s});const d=Xc(r),m=Pt(a,s),_=np(r.serverSyncTree_,n),E=F_(m,_,d),S=yp(r),B=q_(r.serverSyncTree_,n,E,S,!0);pp(r.eventQueue_,B),r.server_.put(n.toString(),m.val(!0),(w,$)=>{const ee=w==="ok";ee||Dn("set at "+n+" failed: "+w);const _e=ar(r.serverSyncTree_,S,!ee);si(r.eventQueue_,n,_e),Rd(r,u,w,$)});const x=vp(r,n);ss(r,x),si(r.eventQueue_,x,[])}function gT(r,n,a,s){eu(r,"update",{path:n.toString(),value:a});let u=!0;const d=Xc(r),m={};if(mn(a,(_,E)=>{u=!1,m[_]=Q_(Rt(n,_),Pt(E),r.serverSyncTree_,d)}),u)dn("update() called with empty data.  Don't do anything."),Rd(r,s,"ok",void 0);else{const _=yp(r),E=kC(r.serverSyncTree_,n,m,_);pp(r.eventQueue_,E),r.server_.merge(n.toString(),a,(S,B)=>{const x=S==="ok";x||Dn("update at "+n+" failed: "+S);const w=ar(r.serverSyncTree_,_,!x),$=w.length>0?ss(r,n):n;si(r.eventQueue_,$,w),Rd(r,s,S,B)}),mn(a,S=>{const B=vp(r,Rt(n,S));ss(r,B)}),si(r.eventQueue_,n,[])}}function vT(r){eu(r,"onDisconnectEvents");const n=Xc(r),a=Oc();Cd(r.onDisconnect_,nt(),(u,d)=>{const m=Q_(u,d,r.serverSyncTree_,n);w_(a,u,m)});let s=[];Cd(a,nt(),(u,d)=>{s=s.concat(Wo(r.serverSyncTree_,u,d));const m=vp(r,u);ss(r,m)}),r.onDisconnect_=Oc(),si(r.eventQueue_,nt(),s)}function _T(r){r.persistentConnection_&&r.persistentConnection_.interrupt(cT)}function eu(r,...n){let a="";r.persistentConnection_&&(a=r.persistentConnection_.id+":"),dn(a,...n)}function Rd(r,n,a,s){n&&fs(()=>{if(a==="ok")n(null);else{const u=(a||"error").toUpperCase();let d=u;s&&(d+=": "+s);const m=new Error(d);m.code=u,n(m)}})}function $_(r,n,a){return np(r.serverSyncTree_,n,a)||Oe.EMPTY_NODE}function gp(r,n=r.transactionQueueTree_){if(n||Zc(r,n),ds(n)){const a=tb(r,n);se(a.length>0,"Sending zero length transaction queue"),a.every(u=>u.status===0)&&bT(r,$o(n),a)}else X_(n)&&Qc(n,a=>{gp(r,a)})}function bT(r,n,a){const s=a.map(S=>S.currentWriteId),u=$_(r,n,s);let d=u;const m=u.hash();for(let S=0;S<a.length;S++){const B=a[S];se(B.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),B.status=1,B.retryCount++;const x=Nn(n,B.path);d=d.updateChild(x,B.currentOutputSnapshotRaw)}const _=d.val(!0),E=n;r.server_.put(E.toString(),_,S=>{eu(r,"transaction put response",{path:E.toString(),status:S});let B=[];if(S==="ok"){const x=[];for(let w=0;w<a.length;w++)a[w].status=2,B=B.concat(ar(r.serverSyncTree_,a[w].currentWriteId)),a[w].onComplete&&x.push(()=>a[w].onComplete(null,!0,a[w].currentOutputSnapshotResolved)),a[w].unwatcher();Zc(r,cp(r.transactionQueueTree_,n)),gp(r,r.transactionQueueTree_),si(r.eventQueue_,n,B);for(let w=0;w<x.length;w++)fs(x[w])}else{if(S==="datastale")for(let x=0;x<a.length;x++)a[x].status===3?a[x].status=4:a[x].status=0;else{Dn("transaction at "+E.toString()+" failed: "+S);for(let x=0;x<a.length;x++)a[x].status=4,a[x].abortReason=S}ss(r,n)}},m)}function ss(r,n){const a=eb(r,n),s=$o(a),u=tb(r,a);return ST(r,u,s),s}function ST(r,n,a){if(n.length===0)return;const s=[];let u=[];const m=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const E=n[_],S=Nn(a,E.path);let B=!1,x;if(se(S!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),E.status===4)B=!0,x=E.abortReason,u=u.concat(ar(r.serverSyncTree_,E.currentWriteId,!0));else if(E.status===0)if(E.retryCount>=fT)B=!0,x="maxretry",u=u.concat(ar(r.serverSyncTree_,E.currentWriteId,!0));else{const w=$_(r,E.path,m);E.currentInputSnapshot=w;const $=n[_].update(w.val());if($!==void 0){Pc("transaction failed: Data returned ",$,E.path);let ee=Pt($);typeof $=="object"&&$!=null&&ki($,".priority")||(ee=ee.updatePriority(w.getPriority()));const Ee=E.currentWriteId,it=Xc(r),ve=F_(ee,w,it);E.currentOutputSnapshotRaw=ee,E.currentOutputSnapshotResolved=ve,E.currentWriteId=yp(r),m.splice(m.indexOf(Ee),1),u=u.concat(q_(r.serverSyncTree_,E.path,ve,E.currentWriteId,E.applyLocally)),u=u.concat(ar(r.serverSyncTree_,Ee,!0))}else B=!0,x="nodata",u=u.concat(ar(r.serverSyncTree_,E.currentWriteId,!0))}si(r.eventQueue_,a,u),u=[],B&&(n[_].status=2,(function(w){setTimeout(w,Math.floor(0))})(n[_].unwatcher),n[_].onComplete&&(x==="nodata"?s.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):s.push(()=>n[_].onComplete(new Error(x),!1,null))))}Zc(r,r.transactionQueueTree_);for(let _=0;_<s.length;_++)fs(s[_]);gp(r,r.transactionQueueTree_)}function eb(r,n){let a,s=r.transactionQueueTree_;for(a=Fe(n);a!==null&&ds(s)===void 0;)s=cp(s,a),n=bt(n),a=Fe(n);return s}function tb(r,n){const a=[];return nb(r,n,a),a.sort((s,u)=>s.order-u.order),a}function nb(r,n,a){const s=ds(n);if(s)for(let u=0;u<s.length;u++)a.push(s[u]);Qc(n,u=>{nb(r,u,a)})}function Zc(r,n){const a=ds(n);if(a){let s=0;for(let u=0;u<a.length;u++)a[u].status!==2&&(a[s]=a[u],s++);a.length=s,P_(n,a.length>0?a:void 0)}Qc(n,s=>{Zc(r,s)})}function vp(r,n){const a=$o(eb(r,n)),s=cp(r.transactionQueueTree_,n);return WC(s,u=>{ud(r,u)}),ud(r,s),Z_(s,u=>{ud(r,u)}),a}function ud(r,n){const a=ds(n);if(a){const s=[];let u=[],d=-1;for(let m=0;m<a.length;m++)a[m].status===3||(a[m].status===1?(se(d===m-1,"All SENT items should be at beginning of queue."),d=m,a[m].status=3,a[m].abortReason="set"):(se(a[m].status===0,"Unexpected transaction status in abort"),a[m].unwatcher(),u=u.concat(ar(r.serverSyncTree_,a[m].currentWriteId,!0)),a[m].onComplete&&s.push(a[m].onComplete.bind(null,new Error("set"),!1,null))));d===-1?P_(n,void 0):a.length=d+1,si(r.eventQueue_,$o(n),u);for(let m=0;m<s.length;m++)fs(s[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r){let n="";const a=r.split("/");for(let s=0;s<a.length;s++)if(a[s].length>0){let u=a[s];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function CT(r){const n={};r.charAt(0)==="?"&&(r=r.substring(1));for(const a of r.split("&")){if(a.length===0)continue;const s=a.split("=");s.length===2?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Dn(`Invalid query segment '${a}' in query '${r}'`)}return n}const Av=function(r,n){const a=TT(r),s=a.namespace;a.domain==="firebase.com"&&va(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&a.domain!=="localhost"&&va("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||jS();const u=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new l_(a.host,a.secure,s,u,n,"",s!==a.subdomain),path:new ot(a.pathString)}},TT=function(r){let n="",a="",s="",u="",d="",m=!0,_="https",E=443;if(typeof r=="string"){let S=r.indexOf("//");S>=0&&(_=r.substring(0,S-1),r=r.substring(S+2));let B=r.indexOf("/");B===-1&&(B=r.length);let x=r.indexOf("?");x===-1&&(x=r.length),n=r.substring(0,Math.min(B,x)),B<x&&(u=ET(r.substring(B,x)));const w=CT(r.substring(Math.min(r.length,x)));S=n.indexOf(":"),S>=0?(m=_==="https"||_==="wss",E=parseInt(n.substring(S+1),10)):S=n.length;const $=n.slice(0,S);if($.toLowerCase()==="localhost")a="localhost";else if($.split(".").length<=2)a=$;else{const ee=n.indexOf(".");s=n.substring(0,ee).toLowerCase(),a=n.substring(ee+1),d=s}"ns"in w&&(d=w.ns)}return{host:n,port:E,domain:a,subdomain:s,secure:m,scheme:_,pathString:u,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wT=(function(){let r=0;const n=[];return function(a){const s=a===r;r=a;let u;const d=new Array(8);for(u=7;u>=0;u--)d[u]=xv.charAt(a%64),a=Math.floor(a/64);se(a===0,"Cannot push at time == 0");let m=d.join("");if(s){for(u=11;u>=0&&n[u]===63;u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)m+=xv.charAt(n[u]);return se(m.length===20,"nextPushId: Length should be 20."),m}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(n,a,s,u){this.eventType=n,this.eventRegistration=a,this.snapshot=s,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())}}class xT{constructor(n,a,s){this.eventRegistration=n,this.error=a,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return se(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(n,a,s,u){this._repo=n,this._path=a,this._queryParams=s,this._orderByCalled=u}get key(){return qe(this._path)?null:Vd(this._path)}get ref(){return new _a(this._repo,this._path)}get _queryIdentifier(){const n=hv(this._queryParams),a=Ld(n);return a==="{}"?"default":a}get _queryObject(){return hv(this._queryParams)}isEqual(n){if(n=dr(n),!(n instanceof ps))return!1;const a=this._repo===n._repo,s=y_(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return a&&s&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+yE(this._path)}}function DT(r,n){if(r._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function _p(r){let n=null,a=null;if(r.hasStart()&&(n=r.getIndexStartValue()),r.hasEnd()&&(a=r.getIndexEndValue()),r.getIndex()===$r){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==el)throw new Error(s);if(typeof n!="string")throw new Error(u)}if(r.hasEnd()){if(r.getIndexEndName()!==ur)throw new Error(s);if(typeof a!="string")throw new Error(u)}}else if(r.getIndex()===Nt){if(n!=null&&!Od(n)||a!=null&&!Od(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(se(r.getIndex()instanceof Qd||r.getIndex()===C_,"unknown index type."),n!=null&&typeof n=="object"||a!=null&&typeof a=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ib(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class _a extends ps{constructor(n,a){super(n,a,new Pd,!1)}get parent(){const n=m_(this._path);return n===null?null:new _a(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Ko{constructor(n,a,s){this._node=n,this.ref=a,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new ot(n),s=Vo(this.ref,n);return new Ko(this._node.getChild(a),s,Nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,u)=>n(new Ko(u,Vo(this.ref,s),Nt)))}hasChild(n){const a=new ot(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gi(r,n){return r=dr(r),r._checkNotDeleted("ref"),n!==void 0?Vo(r._root,n):r._root}function Vo(r,n){return r=dr(r),Fe(r._path)===null?rT("child","path",n):hp("child","path",n),new _a(r._repo,Rt(r._path,n))}function bp(r,n){r=dr(r),dp("push",r._path),Fc("push",n,r._path,!0);const a=W_(r._repo),s=wT(a),u=Vo(r,s),d=Vo(r,s);let m;return m=Promise.resolve(d),u.then=m.then.bind(m),u.catch=m.then.bind(m,void 0),u}function OT(r){return dp("remove",r._path),Jc(r,null)}function Jc(r,n){r=dr(r),dp("set",r._path),Fc("set",n,r._path,!1);const a=new Fo;return yT(r._repo,r._path,n,null,a.wrapCallback(()=>{})),a.promise}function RT(r,n){aT("update",n,r._path);const a=new Fo;return gT(r._repo,r._path,n,a.wrapCallback(()=>{})),a.promise}function os(r){r=dr(r);const n=new NT(()=>{}),a=new Sp(n);return mT(r._repo,r,a).then(s=>new Ko(s,new _a(r._repo,r._path),r._queryParams.getIndex()))}class Sp{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const s=a._queryParams.getIndex();return new AT("value",this,new Ko(n.snapshotNode,new _a(a._repo,a._path),s))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new xT(this,n,a):null}matches(n){return n instanceof Sp?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ep{}class MT extends Ep{constructor(n,a){super(),this._value=n,this._key=a,this.type="endAt"}_apply(n){Fc("endAt",this._value,n._path,!0);const a=qE(n._queryParams,this._value,this._key);if(ib(a),_p(a),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(n._repo,n._path,a,n._orderByCalled)}}function ab(r,n){return new MT(r,n)}class jT extends Ep{constructor(n,a){super(),this._value=n,this._key=a,this.type="startAt"}_apply(n){Fc("startAt",this._value,n._path,!0);const a=LE(n._queryParams,this._value,this._key);if(ib(a),_p(a),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ps(n._repo,n._path,a,n._orderByCalled)}}function rb(r=null,n){return new jT(r,n)}class zT extends Ep{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){DT(n,"orderByChild");const a=new ot(this._path);if(qe(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Qd(a),u=HE(n._queryParams,s);return _p(u),new ps(n._repo,n._path,u,!0)}}function Yo(r){if(r==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(r==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(r==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hp("orderByChild","path",r),new zT(r)}function Go(r,...n){let a=dr(r);for(const s of n)a=s._apply(a);return a}DC(_a);zC(_a);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="FIREBASE_DATABASE_EMULATOR_HOST",Md={};let IT=!1;function kT(r,n,a,s){const u=n.lastIndexOf(":"),d=n.substring(0,u),m=Id(d);r.repoInfo_=new l_(n,m,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,a),s&&(r.authTokenProvider_=s)}function UT(r,n,a,s,u){let d=s||r.options.databaseURL;d===void 0&&(r.options.projectId||va("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let m=Av(d,u),_=m.repoInfo,E;typeof process<"u"&&Pg&&(E=Pg[BT]),E?(d=`http://${E}?ns=${_.namespace}`,m=Av(d,u),_=m.repoInfo):m.repoInfo.secure;const S=new YS(r.name,r.options,n);lT("Invalid Firebase Database URL",m),qe(m.path)||va("Database URL must point to the root of a Firebase Database (not including a child path).");const B=qT(_,r,S,new VS(r,a));return new HT(B,r)}function LT(r,n){const a=Md[n];(!a||a[r.key]!==r)&&va(`Database ${n}(${r.repoInfo_}) has already been deleted.`),_T(r),delete a[r.key]}function qT(r,n,a,s){let u=Md[n.name];u||(u={},Md[n.name]=u);let d=u[r.toURLString()];return d&&va("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new hT(r,IT,a,s),u[r.toURLString()]=d,d}class HT{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _a(this._repo,nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&va("Cannot call "+n+" on a deleted database.")}}function KT(r=pS(),n){const a=uS(r,"database").getImmediate({identifier:n});if(!a._instanceStarted){const s=P0("database");s&&VT(a,...s)}return a}function VT(r,n,a,s={}){r=dr(r),r._checkNotDeleted("useEmulator");const u=`${n}:${a}`,d=r._repoInternal;if(r._instanceStarted){if(u===r._repoInternal.repoInfo_.host&&Cc(s,d.repoInfo_.emulatorOptions))return;va("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(d.repoInfo_.nodeAdmin)s.mockUserToken&&va('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new _c(_c.OWNER);else if(s.mockUserToken){const _=typeof s.mockUserToken=="string"?s.mockUserToken:Z0(s.mockUserToken,r.app.options.projectId);m=new _c(_)}Id(n)&&(X0(n),$0("Database",!0)),kT(d,u,s,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r){xS(dS),wc(new jo("database",(n,{instanceIdentifier:a})=>{const s=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return UT(s,u,d,a)},"PUBLIC").setMultipleInstances(!0)),es(Xg,Zg,r),es(Xg,Zg,"esm2017")}ya.prototype.simpleListen=function(r,n){this.sendRequest("q",{p:r},n)};ya.prototype.echo=function(r,n){this.sendRequest("echo",{d:r},n)};YT();const jd={apiKey:"AIzaSyCfE1NHzgZ9SkxH2lw3GaxmGEh6Z7G9P4g",authDomain:"inventario-antorchadplata.firebaseapp.com",databaseURL:"https://inventario-antorchadplata-default-rtdb.firebaseio.com",projectId:"inventario-antorchadplata",storageBucket:"inventario-antorchadplata.firebasestorage.app",messagingSenderId:"388835048404",appId:"1:388835048404:web:8da032d19eca8ec73a3441"};let cd=null,Nv=null;const lb=()=>!!(jd.apiKey&&jd.databaseURL),GT=()=>lb()?(cd||(cd=Vv(jd),Nv=KT(cd)),Nv):null,hn=new bc("InventarioAntorcaDB");hn.version(2).stores({productos:"++id, nombre, categoria, precio, stock, imagen, createdAt",ventas:"++id, productoId, cantidad, precioVenta, fecha, tipo, metodoPago",caja:"++id, fecha, tipo, monto, descripcion, ventaId, metodoPago"});const Uc=r=>{const n={};for(const a in r){const s=a.replace(/([A-Z])/g,"_$1").toLowerCase();n[s]=r[a]}return n},us=r=>{const n={};for(const a in r){const s=a.replace(/_([a-z])/g,u=>u[1].toUpperCase());n[s]=r[a]}return n},wo="productos",fd="ventas",hd="caja",vi=()=>lb()?GT():null,pn={async getAll(){const r=vi();if(r)try{const a=(await os(Go(gi(r,wo),Yo("created_at")))).val();if(a)return Object.entries(a).map(([u,d])=>({id:u,...us(d)})).sort((u,d)=>(d.createdAt||d.created_at||"").localeCompare(u.createdAt||u.created_at||""))}catch(n){console.warn("Firebase error, usando IndexedDB local:",n)}return await hn.productos.toArray()},async add(r){const n=new Date().toISOString(),a=vi();if(a)try{const s=gi(a,wo),u=bp(s),d={...Uc(r),created_at:n};await Jc(u,d);const m=u.key;return await hn.productos.add({...r,createdAt:n,id:m}),m}catch(s){console.warn("Firebase error, usando IndexedDB local:",s)}return await hn.productos.add({...r,createdAt:n})},async update(r,n){const a=vi();if(a&&r!=null)try{const s=gi(a,`${wo}/${r}`),u={...Uc(n),updated_at:new Date().toISOString()};await RT(s,u),await hn.productos.update(r,n);return}catch(s){console.warn("Firebase error, usando IndexedDB local:",s)}return await hn.productos.update(r,n)},async delete(r){const n=vi();if(n&&r!=null)try{const a=gi(n,`${wo}/${r}`);await OT(a),await hn.productos.delete(r);return}catch(a){console.warn("Firebase error, usando IndexedDB local:",a)}return await hn.productos.delete(r)},async getById(r){const n=vi();if(n&&r!=null)try{const a=gi(n,`${wo}/${r}`),s=await os(a);if(s.exists()){const u=s.val();return{id:r,...us(u)}}}catch(a){console.warn("Firebase error, usando IndexedDB local:",a)}return await hn.productos.get(r)},async updateStock(r,n){const a=await this.getById(r);if(a){const s=(parseInt(a.stock)||0)+n;return await this.update(r,{stock:s})}}},Qo={async getAll(){const r=vi();if(r)try{const a=(await os(Go(gi(r,fd),Yo("fecha")))).val();if(a)return Object.entries(a).map(([u,d])=>({id:u,...us(d)})).sort((u,d)=>(d.fecha||"").localeCompare(u.fecha||""))}catch(n){console.warn("Firebase error, usando IndexedDB local:",n)}return await hn.ventas.orderBy("fecha").reverse().toArray()},async add(r){const n=new Date().toISOString(),a=vi();if(a)try{const s=gi(a,fd),u=bp(s),d={...Uc(r),fecha:n};await Jc(u,d);const m=u.key;return await hn.ventas.add({...r,fecha:n,id:m}),m}catch(s){console.warn("Firebase error, usando IndexedDB local:",s)}return await hn.ventas.add({...r,fecha:n})},async getByFecha(r){const n=new Date(r);n.setHours(0,0,0,0);const a=new Date(r);a.setHours(23,59,59,999);const s=vi();if(s)try{const u=Go(gi(s,fd),Yo("fecha"),rb(n.toISOString()),ab(a.toISOString())),m=(await os(u)).val();if(m)return Object.entries(m).map(([_,E])=>({id:_,...us(E)}))}catch(u){console.warn("Firebase error, usando IndexedDB local:",u)}return await hn.ventas.where("fecha").between(n.toISOString(),a.toISOString()).toArray()}},ns={async getAll(){const r=vi();if(r)try{const a=(await os(Go(gi(r,hd),Yo("fecha")))).val();if(a)return Object.entries(a).map(([u,d])=>({id:u,...us(d)})).sort((u,d)=>(d.fecha||"").localeCompare(u.fecha||""))}catch(n){console.warn("Firebase error, usando IndexedDB local:",n)}return await hn.caja.orderBy("fecha").reverse().toArray()},async add(r){const n=new Date().toISOString(),a=vi();if(a)try{const s=gi(a,hd),u=bp(s),d={...Uc(r),fecha:n};await Jc(u,d);const m=u.key;return await hn.caja.add({...r,fecha:n,id:m}),m}catch(s){console.warn("Firebase error, usando IndexedDB local:",s)}return await hn.caja.add({...r,fecha:n})},async getBalance(){return(await this.getAll()).reduce((n,a)=>{const s=parseFloat(a.monto)||0;return a.tipo==="ingreso"?n+s:n-s},0)},async getBalanceByFecha(r){const n=new Date(r);n.setHours(0,0,0,0);const a=new Date(r);a.setHours(23,59,59,999);const s=vi();if(s)try{const d=Go(gi(s,hd),Yo("fecha"),rb(n.toISOString()),ab(a.toISOString())),_=(await os(d)).val();if(_)return Object.entries(_).map(([S,B])=>({id:S,...us(B)})).reduce((S,B)=>{const x=parseFloat(B.monto)||0;return B.tipo==="ingreso"?S+x:S-x},0)}catch(d){console.warn("Firebase error, usando IndexedDB local:",d)}return(await hn.caja.where("fecha").between(n.toISOString(),a.toISOString()).toArray()).reduce((d,m)=>{const _=parseFloat(m.monto)||0;return m.tipo==="ingreso"?d+_:d-_},0)}},QT=async(r,n,a,s="efectivo")=>{try{const u=await pn.getById(r);if(!u)throw new Error("Producto no encontrado");if(u.stock<n)throw new Error("Stock insuficiente");const d=await Qo.add({productoId:r,cantidad:n,precioVenta:a,tipo:"venta",metodoPago:s});return await pn.updateStock(r,-n),await ns.add({tipo:"ingreso",monto:a*n,descripcion:`Venta: ${u.nombre} x${n}`,ventaId:d,metodoPago:s}),d}catch(u){throw console.error("Error al registrar venta:",u),u}},Dv=async(r,n)=>{try{await pn.updateStock(r,n);const a=await pn.getById(r);return await Qo.add({productoId:r,cantidad:n,precioVenta:0,tipo:"produccion"}),!0}catch(a){throw console.error("Error al registrar produccin:",a),a}};function Ov(){const[r,n]=wt.useState({totalProductos:0,totalStock:0,valorInventario:0,ventasHoy:0,cajaHoy:0});wt.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await pn.getAll(),d=u.length,m=u.reduce((w,$)=>w+(parseInt($.stock)||0),0),_=u.reduce((w,$)=>w+(parseFloat($.precio)||0)*(parseInt($.stock)||0),0),E=new Date,B=(await Qo.getByFecha(E)).filter(w=>w.tipo==="venta").length,x=await ns.getBalanceByFecha(E);n({totalProductos:d,totalStock:m,valorInventario:_,ventasHoy:B,cajaHoy:x})}catch(u){console.error("Error cargando estadsticas:",u)}},s=async()=>{try{const u=await pn.getAll(),d=new Date,_=(await Qo.getByFecha(d)).filter(ve=>ve.tipo==="venta"),S=(await ns.getAll()).filter(ve=>new Date(ve.fecha).toDateString()===d.toDateString()),B=S.filter(ve=>ve.metodoPago==="efectivo"||!ve.metodoPago).reduce((ve,Te)=>ve+(Te.tipo==="ingreso"?Te.monto:-Te.monto),0),x=S.filter(ve=>ve.metodoPago==="tarjeta").reduce((ve,Te)=>ve+(Te.tipo==="ingreso"?Te.monto:-Te.monto),0),w=_.reduce((ve,Te)=>ve+Te.cantidad*Te.precioVenta,0),$=u.filter(ve=>{const Te=parseInt(ve.stock)||0;return Te<3&&Te>0}),ee=u.filter(ve=>(parseInt(ve.stock)||0)===0),_e=d.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});let Ee="RESUMEN DEL DA - Antorcha de Plata%0D%0A";if(Ee+=`Fecha: ${_e}%0D%0A`,Ee+="%0D%0A",Ee+=" VENTAS %0D%0A",Ee+=`Nmero de ventas: ${_.length}%0D%0A`,Ee+=`Total vendido: ${w.toFixed(2)} %0D%0A`,Ee+="%0D%0A",Ee+=" CAJA %0D%0A",Ee+=` Efectivo: ${B.toFixed(2)} %0D%0A`,Ee+=` Tarjeta: ${x.toFixed(2)} %0D%0A`,Ee+=`Total caja: ${(B+x).toFixed(2)} %0D%0A`,Ee+="%0D%0A",Ee+=" INVENTARIO %0D%0A",Ee+=`Productos totales: ${u.length}%0D%0A`,Ee+=`Stock total: ${u.reduce((ve,Te)=>ve+(parseInt(Te.stock)||0),0)} unidades%0D%0A`,Ee+=`Valor inventario: ${u.reduce((ve,Te)=>ve+(parseFloat(Te.precio)||0)*(parseInt(Te.stock)||0),0).toFixed(2)} %0D%0A`,ee.length>0&&(Ee+="%0D%0A",Ee+=` SIN STOCK (${ee.length}):%0D%0A`,ee.slice(0,5).forEach(ve=>{Ee+=`  - ${ve.nombre}%0D%0A`})),$.length>0&&(Ee+="%0D%0A",Ee+=` STOCK BAJO (${$.length}):%0D%0A`,$.slice(0,5).forEach(ve=>{Ee+=`  - ${ve.nombre} (${ve.stock} uds)%0D%0A`})),_.length>0){Ee+="%0D%0A",Ee+=" DETALLE VENTAS %0D%0A";for(const ve of _){const Te=await pn.getById(ve.productoId),mt=ve.metodoPago==="tarjeta"?"":"";Ee+=`${mt} ${Te?.nombre||"N/A"} x${ve.cantidad} = ${(ve.cantidad*ve.precioVenta).toFixed(2)} %0D%0A`}}const it=`Resumen ${_e} - Antorcha de Plata`;window.location.href=`mailto:?subject=${encodeURIComponent(it)}&body=${Ee}`}catch(u){console.error("Error generando resumen:",u),alert("Error al generar el resumen")}};return z.jsxs("div",{className:"dashboard",children:[z.jsxs("div",{className:"dashboard-header",children:[z.jsx("h2",{children:"Dashboard"}),z.jsx("button",{onClick:s,className:"btn-email",children:" Enviar resumen del da"})]}),z.jsxs("div",{className:"stats-grid",children:[z.jsxs("div",{className:"stat-card",children:[z.jsx("h3",{children:"Total Productos"}),z.jsx("p",{className:"stat-number",children:r.totalProductos})]}),z.jsxs("div",{className:"stat-card",children:[z.jsx("h3",{children:"Stock Total"}),z.jsx("p",{className:"stat-number",children:r.totalStock}),z.jsx("p",{className:"stat-label",children:"unidades"})]}),z.jsxs("div",{className:"stat-card",children:[z.jsx("h3",{children:"Valor Inventario"}),z.jsxs("p",{className:"stat-number",children:[r.valorInventario.toFixed(2)," "]})]}),z.jsxs("div",{className:"stat-card",children:[z.jsx("h3",{children:"Ventas Hoy"}),z.jsx("p",{className:"stat-number",children:r.ventasHoy}),z.jsx("p",{className:"stat-label",children:"transacciones"})]}),z.jsxs("div",{className:"stat-card highlight",children:[z.jsx("h3",{children:"Caja Hoy"}),z.jsxs("p",{className:"stat-number",children:[r.cajaHoy.toFixed(2)," "]})]})]})]})}function FT({onDataImported:r}){const n=async u=>{const d=u.target.files[0];if(d)try{const m=await d.text(),_=JSON.parse(m);if(!Array.isArray(_)){alert("El archivo debe contener un array de productos");return}let E=0;for(const S of _)S.nombre&&(await pn.add(S),E++);alert(` ${E} productos importados correctamente`),r&&r(),u.target.value=""}catch(m){console.error("Error importando:",m),alert("Error al importar el archivo. Verifica que sea un JSON vlido.")}},a=async()=>{try{const u=await pn.getAll(),d=JSON.stringify(u,null,2),m=new Blob([d],{type:"application/json"}),_=URL.createObjectURL(m),E=document.createElement("a");E.href=_,E.download=`antorcha-plata-backup-${new Date().toISOString().split("T")[0]}.json`,E.click(),URL.revokeObjectURL(_)}catch(u){console.error("Error exportando:",u),alert("Error al exportar los datos")}},s=async()=>{if(window.confirm(" ELIMINAR TODOS LOS PRODUCTOS? Esta accin no se puede deshacer.")&&window.confirm("Ests COMPLETAMENTE seguro? Se perdern todos los datos."))try{const u=await pn.getAll();for(const d of u)await pn.delete(d.id);alert(" Todos los productos han sido eliminados"),r&&r()}catch(u){console.error("Error eliminando:",u),alert("Error al eliminar los productos")}};return z.jsx("div",{className:"data-manager",children:z.jsxs("div",{className:"data-actions",children:[z.jsxs("div",{className:"action-group",children:[z.jsx("h3",{children:"Importar Datos"}),z.jsx("input",{type:"file",accept:".json",onChange:n,style:{display:"none"},id:"import-json"}),z.jsx("label",{htmlFor:"import-json",className:"btn-secondary",children:" Importar JSON"}),z.jsx("p",{className:"hint",children:"Importa productos desde un archivo JSON"})]}),z.jsxs("div",{className:"action-group",children:[z.jsx("h3",{children:"Exportar Datos"}),z.jsx("button",{onClick:a,className:"btn-secondary",children:" Exportar JSON"}),z.jsx("p",{className:"hint",children:"Descarga un backup de todos tus productos"})]}),z.jsxs("div",{className:"action-group danger",children:[z.jsx("h3",{children:"Zona de Peligro"}),z.jsx("button",{onClick:s,className:"btn-delete",children:" Eliminar Todo"}),z.jsx("p",{className:"hint",children:"Elimina todos los productos (irreversible)"})]})]})})}function PT(){const[r,n]=wt.useState([]),[a,s]=wt.useState([]),[u,d]=wt.useState(!1),[m,_]=wt.useState(null),[E,S]=wt.useState({nombre:"",categoria:"",precio:"",stock:0,imagen:""}),[B,x]=wt.useState({productoId:null,cantidad:""}),[w,$]=wt.useState({busqueda:"",categoria:"todas",coleccion:"todas"});wt.useEffect(()=>{ee()},[]);const ee=async()=>{const fe=await pn.getAll();n(fe),s(fe)};wt.useEffect(()=>{_e()},[w,r]);const _e=()=>{let fe=[...r];if(w.busqueda){const Je=w.busqueda.toLowerCase();fe=fe.filter(jt=>jt.nombre?.toLowerCase().includes(Je)||jt.codigo?.toLowerCase().includes(Je)||jt.categoria?.toLowerCase().includes(Je))}w.categoria!=="todas"&&(fe=fe.filter(Je=>Je.categoria===w.categoria)),w.coleccion!=="todas"&&(fe=fe.filter(Je=>Je.coleccion===w.coleccion)),s(fe)},Ee=()=>[...new Set(r.map(Je=>Je.categoria).filter(Boolean))].sort(),it=()=>[...new Set(r.map(Je=>Je.coleccion).filter(Boolean))].sort(),ve=async fe=>{fe.preventDefault();try{const Je={...E,precio:parseFloat(E.precio)||0,stock:parseInt(E.stock)||0};m?await pn.update(m,Je):await pn.add(Je),yt(),ee()}catch(Je){console.error("Error guardando producto:",Je)}},Te=fe=>{_(fe.id),S({nombre:fe.nombre,categoria:fe.categoria,precio:fe.precio,stock:fe.stock,imagen:fe.imagen||""}),d(!0)},mt=async fe=>{window.confirm("Eliminar este producto?")&&(await pn.delete(fe),ee())},Sn=async fe=>{fe.preventDefault();try{await Dv(B.productoId,parseInt(B.cantidad)),x({productoId:null,cantidad:""}),ee(),alert("Produccin registrada correctamente")}catch(Je){alert("Error: "+Je.message)}},yt=()=>{S({nombre:"",categoria:"",precio:"",stock:0,imagen:""}),_(null),d(!1)},Ne=fe=>{const Je=fe.target.files[0];if(Je){if(Je.size>2*1024*1024){alert("La imagen no debe superar 2MB");return}const jt=new FileReader;jt.onloadend=()=>{S({...E,imagen:jt.result})},jt.readAsDataURL(Je)}},Mt=async fe=>{try{await Dv(B.productoId,fe),x({productoId:null,cantidad:""}),ee(),alert("Produccin registrada correctamente")}catch(Je){alert("Error: "+Je.message)}};return z.jsxs("div",{className:"product-list",children:[z.jsxs("div",{className:"section-header",children:[z.jsx("h2",{children:"Productos"}),z.jsx("button",{onClick:()=>d(!u),className:"btn-primary",children:u?"Cancelar":"+ Nuevo Producto"})]}),z.jsx(FT,{onDataImported:ee}),z.jsxs("div",{className:"filters-container",children:[z.jsx("div",{className:"search-box",children:z.jsx("input",{type:"text",placeholder:" Buscar por nombre, cdigo o categora...",value:w.busqueda,onChange:fe=>$({...w,busqueda:fe.target.value}),className:"search-input"})}),z.jsxs("div",{className:"filter-selects",children:[z.jsxs("select",{value:w.categoria,onChange:fe=>$({...w,categoria:fe.target.value}),className:"filter-select",children:[z.jsx("option",{value:"todas",children:"Todas las categoras"}),Ee().map(fe=>z.jsx("option",{value:fe,children:fe},fe))]}),z.jsxs("select",{value:w.coleccion,onChange:fe=>$({...w,coleccion:fe.target.value}),className:"filter-select",children:[z.jsx("option",{value:"todas",children:"Todas las colecciones"}),it().map(fe=>z.jsx("option",{value:fe,children:fe},fe))]}),(w.busqueda||w.categoria!=="todas"||w.coleccion!=="todas")&&z.jsx("button",{onClick:()=>$({busqueda:"",categoria:"todas",coleccion:"todas"}),className:"btn-clear-filters",children:" Limpiar filtros"})]}),z.jsxs("p",{className:"filter-results",children:["Mostrando ",a.length," de ",r.length," productos"]})]}),u&&z.jsxs("form",{onSubmit:ve,className:"product-form",children:[z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Nombre del Producto *"}),z.jsx("input",{type:"text",placeholder:"Ej: Anillo de plata",value:E.nombre,onChange:fe=>S({...E,nombre:fe.target.value}),required:!0})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Categora / Tipo"}),z.jsx("input",{type:"text",placeholder:"Ej: Anillo, Collar, Pulsera",value:E.categoria,onChange:fe=>S({...E,categoria:fe.target.value})})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Precio () *"}),z.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:E.precio,onChange:fe=>S({...E,precio:fe.target.value}),required:!0})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Stock Inicial"}),z.jsx("input",{type:"number",placeholder:"0",value:E.stock,onChange:fe=>S({...E,stock:fe.target.value})})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Imagen del producto"}),z.jsx("input",{type:"file",accept:"image/*",onChange:Ne}),E.imagen&&z.jsxs("div",{className:"image-preview",children:[z.jsx("img",{src:E.imagen,alt:"Preview",style:{maxWidth:"200px",marginTop:"10px"}}),z.jsx("button",{type:"button",onClick:()=>S({...E,imagen:""}),className:"btn-delete-small",children:" Eliminar imagen"})]})]}),z.jsx("button",{type:"submit",className:"btn-primary btn-form-submit",children:m?" Actualizar Producto":" Crear Producto"})]}),z.jsx("div",{className:"products-grid",children:a.map(fe=>z.jsxs("div",{className:"product-card",children:[fe.imagen&&z.jsx("div",{className:"product-image",children:z.jsx("img",{src:fe.imagen,alt:fe.nombre})}),z.jsxs("div",{className:"product-info",children:[z.jsx("h3",{children:fe.nombre}),z.jsx("p",{className:"categoria",children:fe.categoria}),z.jsxs("p",{className:"precio",children:[fe.precio?.toFixed(2)," "]}),z.jsxs("p",{className:"stock",children:["Stock: ",z.jsx("strong",{children:fe.stock||0})," unidades"]})]}),z.jsxs("div",{className:"product-actions",children:[z.jsx("button",{onClick:()=>Te(fe),className:"btn-edit",children:"Editar"}),z.jsx("button",{onClick:()=>mt(fe.id),className:"btn-delete",children:"Eliminar"}),z.jsx("button",{onClick:()=>x({productoId:fe.id,cantidad:""}),className:"btn-secondary",children:"+ Produccin"})]})]},fe.id))}),B.productoId&&z.jsx("div",{className:"modal",children:z.jsxs("div",{className:"modal-content",children:[z.jsx("h3",{children:"Registrar Produccin"}),z.jsx("p",{className:"modal-subtitle",children:r.find(fe=>fe.id===B.productoId)?.nombre}),z.jsxs("div",{className:"produccion-quick-buttons",children:[z.jsx("button",{type:"button",onClick:()=>Mt(1),className:"btn-quick",children:"+1"}),z.jsx("button",{type:"button",onClick:()=>Mt(5),className:"btn-quick",children:"+5"}),z.jsx("button",{type:"button",onClick:()=>Mt(10),className:"btn-quick",children:"+10"})]}),z.jsx("div",{className:"divider-text",children:"o cantidad personalizada"}),z.jsxs("form",{onSubmit:Sn,children:[z.jsx("input",{type:"number",placeholder:"Cantidad producida",value:B.cantidad,onChange:fe=>x({...B,cantidad:fe.target.value}),min:"1"}),z.jsxs("div",{className:"modal-actions",children:[z.jsx("button",{type:"submit",className:"btn-primary",children:"Registrar"}),z.jsx("button",{type:"button",onClick:()=>x({productoId:null,cantidad:""}),className:"btn-secondary",children:"Cancelar"})]})]})]})})]})}function XT(){const[r,n]=wt.useState([]),[a,s]=wt.useState([]),[u,d]=wt.useState({productoId:"",cantidad:"1",precioVenta:"",metodoPago:"efectivo"}),[m,_]=wt.useState("");wt.useEffect(()=>{E()},[]);const E=async()=>{const w=await pn.getAll();n(w);const $=await Qo.getAll(),ee=await Promise.all($.map(async _e=>{const Ee=await pn.getById(_e.productoId);return{..._e,producto:Ee}}));s(ee.filter(_e=>_e.tipo==="venta"))},S=async w=>{w.preventDefault();try{await QT(parseInt(u.productoId),parseInt(u.cantidad),parseFloat(u.precioVenta),u.metodoPago),d({productoId:"",cantidad:"1",precioVenta:"",metodoPago:"efectivo"}),E(),alert("Venta registrada correctamente")}catch($){alert("Error: "+$.message)}},B=w=>{const $=r.find(ee=>ee.id===parseInt(w));d({productoId:w,cantidad:"1",precioVenta:$?$.precio:"",metodoPago:"efectivo"}),_("")},x=r.filter(w=>{if(!m)return!0;const $=m.toLowerCase();return w.nombre?.toLowerCase().includes($)||w.codigo?.toLowerCase().includes($)||w.categoria?.toLowerCase().includes($)});return z.jsxs("div",{className:"sales-form",children:[z.jsx("h2",{children:"Registrar Venta"}),z.jsxs("form",{onSubmit:S,className:"form",children:[z.jsxs("div",{className:"form-field",style:{gridColumn:"1 / -1"},children:[z.jsx("label",{children:" Buscar producto"}),z.jsx("input",{type:"text",placeholder:"Buscar por nombre, cdigo o categora...",value:m,onChange:w=>_(w.target.value),className:"search-input"})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Producto *"}),z.jsxs("select",{value:u.productoId,onChange:w=>B(w.target.value),required:!0,children:[z.jsx("option",{value:"",children:"Seleccionar producto"}),x.map(w=>z.jsxs("option",{value:w.id,children:[w.nombre," (Stock: ",w.stock,")"]},w.id))]}),m&&x.length===0&&z.jsx("p",{className:"no-results",children:"No se encontraron productos"})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Cantidad *"}),z.jsx("input",{type:"number",placeholder:"1",value:u.cantidad,onChange:w=>d({...u,cantidad:w.target.value}),required:!0,min:"1"})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Precio de venta () *"}),z.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:u.precioVenta,onChange:w=>d({...u,precioVenta:w.target.value}),required:!0})]}),z.jsxs("div",{className:"form-field",children:[z.jsx("label",{children:"Mtodo de pago *"}),z.jsxs("select",{value:u.metodoPago,onChange:w=>d({...u,metodoPago:w.target.value}),required:!0,children:[z.jsx("option",{value:"efectivo",children:" Efectivo"}),z.jsx("option",{value:"tarjeta",children:" Tarjeta"})]})]}),z.jsx("button",{type:"submit",className:"btn-primary btn-form-submit",children:" Registrar Venta"})]}),z.jsxs("div",{className:"ventas-list",children:[z.jsx("h3",{children:"ltimas Ventas"}),z.jsxs("table",{children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsx("th",{children:"Fecha"}),z.jsx("th",{children:"Producto"}),z.jsx("th",{children:"Cantidad"}),z.jsx("th",{children:"Precio"}),z.jsx("th",{children:"Pago"}),z.jsx("th",{children:"Total"})]})}),z.jsx("tbody",{children:a.map(w=>z.jsxs("tr",{children:[z.jsx("td",{children:new Date(w.fecha).toLocaleDateString()}),z.jsx("td",{children:w.producto?.nombre||"N/A"}),z.jsx("td",{children:w.cantidad}),z.jsxs("td",{children:[w.precioVenta.toFixed(2)," "]}),z.jsx("td",{children:z.jsx("span",{className:`badge-pago ${w.metodoPago||"efectivo"}`,children:w.metodoPago==="tarjeta"?" Tarjeta":" Efectivo"})}),z.jsxs("td",{children:[(w.cantidad*w.precioVenta).toFixed(2)," "]})]},w.id))})]})]})]})}function ZT(){const[r,n]=wt.useState([]),[a,s]=wt.useState(0),[u,d]=wt.useState(0),[m,_]=wt.useState(0),[E,S]=wt.useState(!1),[B,x]=wt.useState({tipo:"ingreso",monto:"",descripcion:""});wt.useEffect(()=>{w()},[]);const w=async()=>{const ee=await ns.getAll();n(ee);const _e=await ns.getBalance();s(_e);const Ee=ee.filter(ve=>ve.metodoPago==="efectivo"||!ve.metodoPago).reduce((ve,Te)=>Te.tipo==="ingreso"?ve+Te.monto:ve-Te.monto,0),it=ee.filter(ve=>ve.metodoPago==="tarjeta").reduce((ve,Te)=>Te.tipo==="ingreso"?ve+Te.monto:ve-Te.monto,0);d(Ee),_(it)},$=async ee=>{ee.preventDefault();try{await ns.add({tipo:B.tipo,monto:parseFloat(B.monto),descripcion:B.descripcion}),x({tipo:"ingreso",monto:"",descripcion:""}),S(!1),w()}catch(_e){console.error("Error registrando movimiento:",_e)}};return z.jsxs("div",{className:"cash-control",children:[z.jsxs("div",{className:"section-header",children:[z.jsx("h2",{children:"Control de Caja"}),z.jsx("button",{onClick:()=>S(!E),className:"btn-primary",children:E?"Cancelar":"+ Nuevo Movimiento"})]}),z.jsxs("div",{className:"balance-cards-grid",children:[z.jsxs("div",{className:"balance-card",children:[z.jsx("h3",{children:"Balance Total"}),z.jsxs("p",{className:`balance-amount ${a>=0?"positive":"negative"}`,children:[a.toFixed(2)," "]})]}),z.jsxs("div",{className:"balance-card efectivo",children:[z.jsx("h3",{children:" Efectivo"}),z.jsxs("p",{className:`balance-amount ${u>=0?"positive":"negative"}`,children:[u.toFixed(2)," "]})]}),z.jsxs("div",{className:"balance-card tarjeta",children:[z.jsx("h3",{children:" Tarjeta"}),z.jsxs("p",{className:`balance-amount ${m>=0?"positive":"negative"}`,children:[m.toFixed(2)," "]})]})]}),E&&z.jsxs("form",{onSubmit:$,className:"form",children:[z.jsxs("select",{value:B.tipo,onChange:ee=>x({...B,tipo:ee.target.value}),children:[z.jsx("option",{value:"ingreso",children:"Ingreso"}),z.jsx("option",{value:"egreso",children:"Egreso"})]}),z.jsx("input",{type:"number",step:"0.01",placeholder:"Monto",value:B.monto,onChange:ee=>x({...B,monto:ee.target.value}),required:!0}),z.jsx("input",{type:"text",placeholder:"Descripcin",value:B.descripcion,onChange:ee=>x({...B,descripcion:ee.target.value}),required:!0}),z.jsx("button",{type:"submit",className:"btn-primary",children:"Registrar"})]}),z.jsxs("div",{className:"movimientos-list",children:[z.jsx("h3",{children:"Movimientos"}),z.jsxs("table",{children:[z.jsx("thead",{children:z.jsxs("tr",{children:[z.jsx("th",{children:"Fecha"}),z.jsx("th",{children:"Tipo"}),z.jsx("th",{children:"Descripcin"}),z.jsx("th",{children:"Monto"})]})}),z.jsx("tbody",{children:r.map(ee=>z.jsxs("tr",{children:[z.jsx("td",{children:new Date(ee.fecha).toLocaleString()}),z.jsx("td",{children:z.jsx("span",{className:`badge ${ee.tipo}`,children:ee.tipo==="ingreso"?"+ Ingreso":"- Egreso"})}),z.jsx("td",{children:ee.descripcion}),z.jsxs("td",{className:ee.tipo==="ingreso"?"positive":"negative",children:[ee.tipo==="ingreso"?"+":"-",ee.monto.toFixed(2)," "]})]},ee.id))})]})]})]})}function JT(){const[r,n]=wt.useState("dashboard"),a=()=>{switch(r){case"dashboard":return z.jsx(Ov,{});case"productos":return z.jsx(PT,{});case"ventas":return z.jsx(XT,{});case"caja":return z.jsx(ZT,{});default:return z.jsx(Ov,{})}};return z.jsxs("div",{className:"app",children:[z.jsxs("header",{className:"app-header",children:[z.jsxs("div",{className:"header-content",children:[z.jsx("img",{src:"/inventario-antorchadplata/logo_antorcha.png",alt:"Antorcha de Plata",className:"logo"}),z.jsx("h1",{children:"Antorcha de Plata - Inventario"})]}),z.jsxs("nav",{className:"nav",children:[z.jsx("button",{className:r==="dashboard"?"active":"",onClick:()=>n("dashboard"),children:"Dashboard"}),z.jsx("button",{className:r==="productos"?"active":"",onClick:()=>n("productos"),children:"Productos"}),z.jsx("button",{className:r==="ventas"?"active":"",onClick:()=>n("ventas"),children:"Ventas"}),z.jsx("button",{className:r==="caja"?"active":"",onClick:()=>n("caja"),children:"Caja"})]})]}),z.jsx("main",{className:"app-main",children:a()})]})}z0.createRoot(document.getElementById("root")).render(z.jsx(wt.StrictMode,{children:z.jsx(JT,{})}));
